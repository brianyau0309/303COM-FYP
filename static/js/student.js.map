{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/student/Nav.jsx","webpack:///./src/TextEditor.jsx","webpack:///./src/student/Courses/EditCourse.jsx","webpack:///./src/student/Courses/EditLession.jsx","webpack:///./src/student/Courses/Lession.jsx","webpack:///./src/student/Courses/CreateLesson.jsx","webpack:///./src/student/Courses/EditComment.jsx","webpack:///./src/student/Courses/Course.jsx","webpack:///./src/student/Courses/Courses.jsx","webpack:///./src/student/Courses/CreateCourse.jsx","webpack:///./src/student/Courses/MyCourses.jsx","webpack:///./src/student/Courses/CourseCollection.jsx","webpack:///./src/student/Questions/EditAnswer.jsx","webpack:///./src/student/Questions/Question.jsx","webpack:///./src/student/Questions/Questions.jsx","webpack:///./src/student/Questions/CreateQuestion.jsx","webpack:///./src/student/Questions/MyQuestions.jsx","webpack:///./src/student/Questions/QuestionCollection.jsx","webpack:///./src/student/Classrooms/Classroom.jsx","webpack:///./src/student/Classrooms/ClassroomMembers.jsx","webpack:///./src/student/Classrooms/Tasks/Tasks.jsx","webpack:///./src/student/Classrooms/Tasks/Task.jsx","webpack:///./src/student/Classrooms/Tasks/CreateTask.jsx","webpack:///./src/student/Classrooms/Tasks/EditTask.jsx","webpack:///./src/student/Classrooms/Tasks/AnswerTask.jsx","webpack:///./src/student/Classrooms/Tasks/EditAnswer.jsx","webpack:///./src/CanvasJS/CanvasJS.jsx","webpack:///./src/CanvasJS/BarChart.jsx","webpack:///./src/student/Classrooms/Tasks/TaskResults.jsx","webpack:///./src/student/Classrooms/Tasks/TaskResult.jsx","webpack:///./src/student/Classrooms/Days.jsx","webpack:///./src/student/Classrooms/Calendar.jsx","webpack:///./src/student/Classrooms/Classrooms.jsx","webpack:///./src/student/Notification/Notification.jsx","webpack:///./src/student/Setting/Setting.jsx","webpack:///./src/student/Student.jsx","webpack:///./src/student/App.jsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Nav","React","Component","constructor","props","super","this","logout","e","preventDefault","fetch","method","then","res","ok","json","location","href","origin","render","id","className","nav","to","onClick","navToggle","src","TextEditor","btnClick","componentDidMount","frames","editor","document","designMode","execCommand","event","Math","random","title","marginwidth","marginheight","onKeyUp","counting","EditCourse","state","loadCourse","submitEditedCourse","newTag","popTag","tagInputOnChange","titleOnChange","openToggle","tags","setState","body","innerHTML","editedDescription","headers","JSON","stringify","course_id","editedTitle","console","log","reload","newTags","v","target","open","type","onChange","map","index","maxLength","EditLesson","editLesson","loadLesson","f","querySelector","checked","file","files","filetype","undefined","split","pop","youtube_link","lesson_detail","delete_file","form","FormData","append","includes","lesson_num","placeholder","required","filename","style","display","Lesson","child","createRef","deleteLesson","course","num","lesson","detail","video_link","last_update","current","loadLessons","top","left","position","width","height","background","frameborder","allow","allowfullscreen","Download","dangerouslySetInnerHTML","__html","myCourse","ref","CreateLesson","createLesson","EditComment","loadComment","submitEditedComment","rating","editedComment","editedRate","Array","keys","imgStar","Course","child2","child3","child4","checkCanComment","checkMyCourse","checkIsCollection","loadComments","deleteCourse","openLesson","collectionToggle","submitComment","editComment","deleteComment","reloadComments","commentFieldToggle","canComment","isCollection","nickname","description","avg_rate","raters","lessons","comments","editCourse","loadCourses","comment","commentRate","commentField","author","toFixed","create_by","solved_by","content","create_date","user_id","Courses","loadCourseSearch","callCourse","inputOnChange","inputKeyDown","methodOnChange","back","courses","new","hot","recommand","search_query","search_method","search_result","onKeyDown","search_mode","user_type","CreateCourse","output","alert","success_page","MyCourses","my_courses","myCourses","CourseCollection","course_collection","EditAnswer","loadAnswer","submitEditedAnswer","a","editedAnswer","question_id","Question","checkCanAnswer","checkMyQuestion","loadQuestion","loadAnswers","deleteQuestion","solveQuestion","submitAnswer","editAnswer","deleteAnswer","likeAnswer","answerFieldToggle","canAnswer","myQuestion","question","answers","loadQuestions","answer","QuestionComment","answerField","likes","user_liked","Questions","loadQuestionSearch","callQuestion","questions","q","solve","textAlign","CreateQuestion","MyQuestions","loadMyQuestions","my_questions","QuestionCollection","loadQuestionCollection","question_collection","Classroom","loadClassroom","editClassroom","editToggle","deleteClassroom","componentDidUpdate","prevProps","match","params","path","class","classroom","classroom_id","history","goBack","newNameInputOnChange","newDescriptionOnChange","forms","form_editClassroom","classroom_name","classroom_description","permission","fontFamily","onSubmit","newName","newDescription","withRouter","ClassroomMembers","loadClassroomMembers","checkPermission","inviteMember","kickFromClassroom","member","err","classroom_members","form_inviteMember","user","u","fullname","toUpperCase","join_date","Tasks","loadTasks","tasks","task","pathname","task_num","deadline","Task","loadTask","deleteTask","task_answers","Date","MCQ_format","SQ_format","CreateTask","create_task","deadlineOnChange","newMCQ","newSQ","popQuestion","categoryInputOnChange","answerInputOnChange","choiceInputOnChange","textareaOnChange","addChoice","popChoice","fail","forEach","choice","day","temp","MCQ","parse","SQ","question_index","category","choice_index","mcAnswerToggle","onDayChange","qi","ci","EditTask","loadTaskQuestions","edit_task","task_questions","url","replace","toISOString","Format","AnswerTask","answerTask","question_num","student","CanvasJS","Chart","CanvasJSChart","options","containerProps","chartContainerId","_cjsContainerId","chart","onRef","shouldComponentUpdate","nextProps","nextState","componentWillUnmount","destroy","BarChart","animationEnabled","text","axisX","title_X","reversed","axisY","title_Y","maximum","dataPoints","TaskResults","loadTaskResults","questionToggle","categoryToggle","task_results","submitted","question_count","student_answers","performance_category","performance_question","questionGraph","y","Number","correct","label","categoryGraph","category_count","parseInt","TaskResult","loadTaskResult","student_result","student_answer","color","Days","date","Month","bigMonth","list","days","weekday","year","month","getDay","dayList","imgBack","Calendar","now","toLocaleDateString","createMonthList","changeMonth","today","gridArea","Classrooms","loadClassrooms","createToggle","createClassroom","classrooms","form_createClassroom","part","Notification","stats","Setting","user_data","Student","loadUser","imgLink","Header","from","ReactDOM"],"mappings":"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","file":"student.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([24,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react'\nimport { NavLink  } from 'react-router-dom'\n\nconst imgCourses = 'https://img.icons8.com/dusk/64/000000/course-assign.png'\nconst imgQuestions = 'https://img.icons8.com/dusk/64/000000/why-us-male.png'\nconst imgClassrooms = 'https://img.icons8.com/dusk/64/000000/class.png'\nconst imgSelf = 'https://img.icons8.com/dusk/64/000000/small-smile.png'\nconst imgNotice = 'https://img.icons8.com/dusk/64/000000/appointment-reminders.png'\nconst imgLogout = 'https://img.icons8.com/dusk/64/000000/logout-rounded-left.png'\n\nexport default class Nav extends React.Component {\n  constructor(props) {\n    super(props)\n    this.logout = this.logout.bind(this)\n  }\n\n  logout(e) {\n    e.preventDefault()\n    fetch('/logout', {method: 'POST'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.logout === 'Success') {\n            window.location.href = window.location.origin\n          }\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n      <ul id=\"nav\" className={this.props.nav ? 'open' : 'close'}>\n        <NavLink to=\"/courses\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgCourses}/>\n            <div>Courses</div>\n          </li>\n        </NavLink>\n        <NavLink to=\"/questions\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgQuestions}/>\n            <div>Questions</div>\n          </li>\n        </NavLink>\n        <NavLink to=\"/classrooms\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgClassrooms}/>\n            <div>Classrooms</div>\n          </li>\n        </NavLink>\n        <NavLink to=\"/setting\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgSelf}/>\n            <div>Self</div>\n          </li>\n        </NavLink>\n        <NavLink to=\"/notification\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgNotice}/>\n            <div>Notification</div>\n          </li>\n        </NavLink>\n        <a href=\"/\" onClick={this.logout}>\n          <li className=\"nav-items\">\n            <img src={imgLogout}/>\n            <div>Logout</div>\n          </li>\n        </a>\n      </ul>\n    )\n  }\n}\n","import React from 'react'\n\nconst imgBold = 'https://img.icons8.com/metro/26/000000/bold.png'\nconst imgItalic = 'https://img.icons8.com/metro/26/000000/italic.png'\nconst imgUnderline = 'https://img.icons8.com/metro/26/000000/underline.png'\nconst imgStrike = 'https://img.icons8.com/metro/26/000000/strikethrough.png'\nconst imgJL = 'https://img.icons8.com/metro/26/000000/align-left.png'\nconst imgJC = 'https://img.icons8.com/metro/26/000000/align-center.png'\nconst imgJR = 'https://img.icons8.com/metro/26/000000/align-right.png'\nconst imgSub = 'https://img.icons8.com/ios-glyphs/30/000000/subscript.png'\nconst imgSup = 'https://img.icons8.com/ios-glyphs/30/000000/superscript.png'\nconst imgNList = 'https://img.icons8.com/material-sharp/24/000000/list.png'\nconst imgOList = 'https://img.icons8.com/metro/26/000000/numbered-list.png'\n\nexport default class TextEditor extends React.Component {\n  constructor(props) {\n    super(props)\n    this.btnClick = this.btnClick.bind(this)\n  }\n  componentDidMount() {\n    window.frames[this.props.editor].document.designMode = 'on'\n    window.frames[this.props.editor].document.execCommand(\"enableObjectResizing\", false, false)\n  }\n  btnClick(event) {\n    let n = null\n    if (event === 'InsertOrderedList' || event === 'InsertUnorderedList') n = Math.random() * 1000\n    window.frames[this.props.editor].document.execCommand(event, false, n)\n  }\n\n  render() {\n    return(\n      <div className='TextEditor'>\n        <div className='EditorPanel'>\n          <button id=\"btnBold\" title=\"Bold\" onClick={() => this.btnClick('Bold')}><img src={imgBold}/></button>\n          <button id=\"btnItalic\" title=\"Italic\" onClick={() => this.btnClick('Italic')}><img src={imgItalic}/></button>\n          <button id=\"btnUnderln\" title=\"Underline\" onClick={() => this.btnClick('Underline')}><img src={imgUnderline}/></button>\n          <button id=\"btnStrike\" title=\"Strike\" onClick={() => this.btnClick('Strikethrough')}><img src={imgStrike}/></button>\n          <button id=\"btnJLeft\" title=\"Justisfy left\" onClick={() => this.btnClick('JustifyLeft')}><img src={imgJL}/></button>\n          <button id=\"btnJCenter\" title=\"Justisfy center\" onClick={() => this.btnClick('JustifyCenter')}><img src={imgJC}/></button>\n          <button id=\"btnJRight\" title=\"Justisfy right\" onClick={() => this.btnClick('JustifyRight')}><img src={imgJR}/></button>\n          <button id=\"btnOList\" title=\"Ordered list\" onClick={() => this.btnClick('InsertOrderedList')}><img src={imgOList}/></button>\n          <button id=\"btnUList\" title=\"Unorder list\" onClick={() => this.btnClick('InsertUnorderedList')}><img src={imgNList}/></button>\n          <button id=\"btnSup\" title=\"Superscript\" onClick={() => this.btnClick('Superscript')}><img src={imgSup}/></button>\n          <button id=\"btnSub\" title=\"Subscript\" onClick={() => this.btnClick('Subscript')}><img src={imgSub}/></button>\n        </div>\n\n        <iframe marginwidth=\"15\" marginheight=\"10\" name={this.props.editor} id={this.props.editor} onKeyUp={this.counting}></iframe>\n      </div>\n    )\n  }\n}\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class EditCourse extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false,\n      'editedTitle': '',\n      'tags': []\n    }\n    this.loadCourse = this.loadCourse.bind(this)\n    this.submitEditedCourse = this.submitEditedCourse.bind(this)\n    this.newTag = this.newTag.bind(this)\n    this.popTag = this.popTag.bind(this)\n    this.tagInputOnChange = this.tagInputOnChange.bind(this)\n    this.titleOnChange = this.titleOnChange.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n  }\n\n  loadCourse(title, tags, d) {\n    this.setState({ 'editedTitle': title, 'tags': tags })\n    window.frames['EditCourse'].document.body.innerHTML = d\n  } \n\n  submitEditedCourse() {\n    let editedDescription = window.frames['EditCourse'].document.body.innerHTML\n    fetch('/api/course', {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_edited_course': \n        {\n          'course': this.props.course_id,\n          'edited_title': this.state.editedTitle,\n          'edited_description': editedDescription,\n          'edited_tags': this.state.tags\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.props.reload()\n          this.openToggle()\n        })\n      }\n    })\n  }\n\n  newTag() {\n    if (this.state.tags.length < 10) {\n      let newTags = this.state.tags\n      newTags.push('')\n      this.setState({ 'tags': newTags })\n    }\n  }\n\n  popTag(i) {\n    if (this.state.tags.length > 1) {\n      let newTags = this.state.tags\n      newTags.splice(i, 1)\n      this.setState({ 'tags': newTags })\n    }\n  }\n\n  tagInputOnChange(v, i) {\n    let newTags = this.state.tags\n    newTags[i] = v\n    this.setState({ 'tag': newTags }, () => console.log(this.state.tags))\n  }\n\n  titleOnChange(e) {\n    console.log(e.target.value)\n    this.setState({ 'editedTitle': e.target.value })\n  }\n  \n  openToggle() {\n    this.setState({'open': !this.state.open})\n  }\n  \n  render() {\n    return (\n      <div className={this.state.open ? 'EditCourse open' : 'EditCourse close'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Edit Course</span>\n        </div>\n        \n        <input type=\"text\" value={this.state.editedTitle} onChange={this.titleOnChange}/>\n        \n        <TextEditor editor='EditCourse'/>\n\n        <div>Courses Tags <img onClick={this.newTag} src=\"https://img.icons8.com/flat_round/64/000000/plus.png\"/></div>\n        <ul>\n          { this.state.tags.map((t, index) => \n            <li>\n              <input type='text' className='tag-input' value={t} maxLength='15' onChange={e => this.tagInputOnChange(e.target.value, index)}/>\n\n              { index !== 0 ? <img src=\"https://img.icons8.com/flat_round/64/000000/minus.png\" onClick={() => this.popTag(index)}/> : null }\n            </li>\n          ) }\n        </ul>\n        <button onClick={this.submitEditedCourse}>Submit Edited Course</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class EditLesson extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false,\n      'filename': 'No File',\n    }\n    this.openToggle = this.openToggle.bind(this)\n    this.editLesson = this.editLesson.bind(this)\n  }\n\n  loadLesson(t,f,v,d) {\n    document.querySelector('#edited_lesson_title').value = t\n    document.querySelector('#edited_lesson_file').value = ''\n    document.querySelector('#edited_youtube_link').value = v\n    document.querySelector('#delete_file_check').checked = false\n    window.frames['EditLesson'].document.body.innerHTML = d\n    this.setState({ 'filename': f })\n  }\n\n  editLesson() {\n    let allowed = ['pdf', 'doc', 'docx', 'ppt', 'pptx']\n    let title = document.querySelector('#edited_lesson_title').value\n    let file = document.querySelector('#edited_lesson_file').files[0]\n    let filetype = null\n    if (file!= undefined) { filetype = document.querySelector('#edited_lesson_file').files[0].name.split('.').pop() }\n    let youtube_link = document.querySelector('#edited_youtube_link').value\n    let lesson_detail = window.frames['EditLesson'].document.body.innerHTML\n    let delete_file = false\n    if (document.querySelector('#delete_file_check').checked === true) { delete_file = true }\n    console.log(delete_file)\n\n    const form = new FormData()\n    form.append('title', title)\n    if (allowed.includes(filetype)) { form.append('file', file) }\n    form.append('delete_file', delete_file)\n    form.append('youtube_link', youtube_link)\n    form.append('lesson_detail', lesson_detail)\n\n    fetch('/api/lesson?c='+this.props.course_id+'&l='+this.props.lesson_num, {\n      method: 'PUT',\n      body: form\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.openToggle()\n          this.props.reload()\n        })\n      }\n    })\n  }\n\n  openToggle() {\n    this.setState({'open': !this.state.open})\n  }\n\n  render() {\n    return (\n      <div className={this.state.open ? 'EditLesson open' : 'EditLesson close'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Edit Lesson</span>\n        </div>\n\n        <input id='edited_lesson_title' type='text' placeholder='Lesson Title' required maxLength='40'/>\n        <input id='edited_youtube_link' type='url' placeholder='Youtube Embed Link'/>\n        <div>{this.state.filename}</div>\n        <input id='edited_lesson_file' type='file' placeholder='Lesson File'/>\n\n        <label>\n          Delete File\n          <input id='delete_file_check' type=\"checkbox\"/>\n        </label>\n        \n        <TextEditor editor='EditLesson'/>\n\n        <button style={{display: 'block'}} className='submit' onClick={this.editLesson}>Edit</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport EditLesson from './EditLession.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Lesson extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false, 'deleteLesson': false,\n      'course_id': '', 'lesson_num': '', 'title': '', 'detail': '', 'video_link': '', 'filename': '', 'last_update': '',\n    }\n    this.child = React.createRef()\n    this.editLesson = this.editLesson.bind(this)\n    this.deleteLesson = this.deleteLesson.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n  }\n  \n  loadLesson(course, num) {\n    fetch('/api/lesson?c='+course+'&l='+num).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({\n            'deleteLesson': false,\n            'course_id': result.lesson.course,\n            'lesson_num': result.lesson.lesson_num,\n            'title': result.lesson.title, \n            'detail': result.lesson.detail,\n            'video_link': result.lesson.video_link,\n            'filename': result.lesson.filename,\n            'last_update': result.lesson.last_update,\n          })\n        })\n      }\n    })\n  }\n\n  editLesson(t,f,v,d) {\n    this.child.current.loadLesson(t,f,v,d)\n    this.child.current.openToggle()\n  }\n\n  deleteLesson() {\n    fetch('/api/lesson?c='+this.state.course_id+'&l='+this.state.lesson_num, { method: 'DELETE' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'deleteLesson': true })\n          this.props.loadLessons()\n        })\n      }\n    })\n  }\n\n  openToggle() {\n    this.setState({ 'open': !this.state.open })\n  }\n\n  render() {\n    return(\n      <div className={this.state.open ? 'Lesson open' : 'Lesson close'}>\n        { this.state.deleteLesson ? \n          <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n            <div>Delete Lesson Success!</div>\n              <div onClick={this.openToggle}>Back to Course Page</div>\n          </div>\n        : null }\n\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Lession</span>\n        </div>\n        \n        <div className=\"Lesson-detail\">\n          <div>{this.state.title}</div>\n          {this.state.video_link != null ? \n            <iframe width=\"560\" height=\"315\" src={this.state.video_link} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n          : null}\n          {this.state.filename != null ? \n            <div>\n              <span>{this.state.filename}</span>\n              <a href={window.location.origin+'/static/files/'+this.state.course_id+'_'+this.state.lesson_num+'.'+this.state.filename.split('.').pop()} Download={this.state.filename}>Download</a>\n            </div>\n          : null}\n          <div className=\"lesson_detail\" dangerouslySetInnerHTML={{__html: this.state.detail}}></div>\n        </div>\n\n        {this.props.myCourse ? \n          <div>\n            <div onClick={() => this.editLesson(this.state.title, this.state.filename, this.state.video_link, this.state.detail)}>Edit Lesson</div>\n            <div onClick={this.deleteLesson}>Delete Lesson</div>\n          </div>\n        : null}\n\n      \n         {this.props.myCourse ?\n           <EditLesson ref={this.child} reload={() => this.loadLesson(this.state.course_id, this.state.lesson_num)} course_id={this.state.course_id} lesson_num={this.state.lesson_num}/>\n         : null }\n\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class CreateLesson extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false,\n    }\n    this.openToggle = this.openToggle.bind(this)\n    this.createLesson = this.createLesson.bind(this)\n  }\n\n  createLesson() {\n    let allowed = ['pdf', 'doc', 'docx', 'ppt', 'pptx']\n    let title = document.querySelector('#lesson_title').value\n    let file = document.querySelector('#lesson_file').files[0]\n    let filetype = null\n    if (file != undefined) { filetype = document.querySelector('#lesson_file').files[0].name.split('.').pop() }\n    let youtube_link = document.querySelector('#youtube_link').value\n    let lesson_detail = window.frames['CreateLesson'].document.body.innerHTML\n\n    const form = new FormData()\n    form.append('title', title)\n    if (allowed.includes(filetype)) { form.append('file', file) }\n    form.append('youtube_link', youtube_link)\n    form.append('lesson_detail', lesson_detail)\n\n    fetch('/api/lesson?c='+this.props.course_id, {\n      method: 'POST',\n      body: form\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.props.reload()\n          this.openToggle()\n        })\n      }\n    })  \n  }\n\n  openToggle() {\n    document.querySelector('#lesson_title').value = ''\n    document.querySelector('#lesson_file').value = ''\n    document.querySelector('#youtube_link').value = ''\n    window.frames['CreateLesson'].document.body.innerHTML = ''\n    this.setState({'open': !this.state.open})\n  }\n\n  render() {\n    return (\n      <div className={this.state.open ? 'CreateLesson open' : 'CreateLesson close'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Create Lesson</span>\n        </div>\n\n        <input id='lesson_title' type='text' placeholder='Lesson Title' required maxLength='40'/>\n        <input id='youtube_link' type='url' placeholder='Youtube Embed Link'/>\n        <input id='lesson_file' type='file' placeholder='Lesson File'/>\n        \n        <TextEditor editor='CreateLesson'/>\n\n        <button style={{display: 'block'}} className='submit' onClick={this.createLesson}>Create</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\nconst imgStar = 'https://img.icons8.com/emoji/48/000000/star-emoji.png'\nconst imgEmptyStar = 'https://img.icons8.com/color/48/000000/star--v1.png'\n\nexport default class EditComment extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false,\n      'editedRate': 5\n    }\n    this.loadComment = this.loadComment.bind(this)\n    this.submitEditedComment = this.submitEditedComment.bind(this)\n    this.rating = this.rating.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n  }\n\n  loadComment(c, r) {\n    window.frames['EditComment'].document.body.innerHTML = c\n    this.setState({ 'editedRate': r })\n  } \n\n  submitEditedComment() {\n    let editedComment = window.frames['EditComment'].document.body.innerHTML\n    fetch('/api/courses_comments', {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_edited_comment': \n        {\n          'course': this.props.course_id,\n          'edited_comment': editedComment,\n          'edited_rate': this.state.editedRate\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.props.reload()\n          this.openToggle()\n        })\n      }\n    })\n  }\n  \n  rating(r) {\n    this.setState({ 'editedRate': r })\n  }\n\n  openToggle() {\n    this.setState({'open': !this.state.open})\n  }\n  \n  render() {\n    return (\n      <div className={this.state.open ? 'EditComment open' : 'EditComment close'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Edit Comment</span>\n        </div>\n        {[...Array(5).keys()].map(i => \n          (this.state.editedRate < i+1 ? \n            <img src={imgEmptyStar} onClick={() => this.rating(i+1)}/> \n          :  <img src={imgStar} onClick={() => this.rating(i+1)}/> \n          )\n        )}\n        <span>{this.state.editedRate}</span>\n        <TextEditor editor='EditerComment'/>\n        <button onClick={this.submitEditedComment}>Submit Edited Comment</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport EditCourse from './EditCourse.jsx'\nimport Lesson from './Lession.jsx'\nimport CreateLesson from './CreateLesson.jsx'\nimport EditComment from './EditComment.jsx'\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\nconst imgStar = 'https://img.icons8.com/emoji/48/000000/star-emoji.png'\nconst imgEmptyStar = 'https://img.icons8.com/color/48/000000/star--v1.png'\n\nexport default class Course extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false, 'commentField': false, 'deleteCourse': false,\n      'canComment': false, 'myCourse': false, 'isCollection': false,\n      'course_id': '', 'title': '', 'author': '', 'description': '',\n      'commentRate': 5,\n      'lessons': [],'comments': [], 'tags': []\n    }\n    this.child = React.createRef()\n    this.child2 = React.createRef()\n    this.child3 = React.createRef()\n    this.child4 = React.createRef()\n    this.checkCanComment = this.checkCanComment.bind(this)\n    this.checkMyCourse = this.checkMyCourse.bind(this)\n    this.checkIsCollection = this.checkIsCollection.bind(this)\n    this.loadCourse = this.loadCourse.bind(this)\n    this.loadLessons = this.loadLessons.bind(this)\n    this.loadComments = this.loadComments.bind(this)\n    this.deleteCourse = this.deleteCourse.bind(this)\n    this.openLesson = this.openLesson.bind(this)\n    this.createLesson = this.createLesson.bind(this)\n    this.collectionToggle = this.collectionToggle.bind(this)\n    this.submitComment = this.submitComment.bind(this)\n    this.editComment = this.editComment.bind(this)\n    this.deleteComment = this.deleteComment.bind(this)\n    this.rating = this.rating.bind(this)\n    this.reloadComments = this.reloadComments.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n    this.commentFieldToggle = this.commentFieldToggle.bind(this)\n  }\n\n  checkCanComment(id) {\n    fetch('/api/courses_comments?cc='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'canComment': result.canComment})\n        })\n      }\n    })\n  }\n\n  checkMyCourse(id) {\n    fetch('/api/my_courses?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'myCourse': result.myCourse })\n        })\n      }\n    })\n  }\n  \n  checkIsCollection(id) {\n    fetch('/api/course_collection?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'isCollection': result.isCollection })\n        })\n      }\n    })\n  }\n\n  loadCourse(id) {\n    fetch('/api/course?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ \n            'commentField': false,\n            'deleteCourse': false,\n            'course_id': result.course.course_id,\n            'title': result.course.title, \n            'author': result.course.nickname,\n            'description': result.course.description,\n            'tags': result.course.tags,\n            'avg_rate': result.course.avg_rate,\n            'raters': result.course.raters,\n          })\n        })\n      }\n    })\n  }\n\n  loadLessons(id) {\n    fetch('/api/lessons?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'lessons': result.lessons})\n        })\n      }\n    })\n\n  }\n  \n  loadComments(id) {\n    fetch('/api/courses_comments?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'comments': result.comments})\n        })\n      }\n    })\n  }\n\n  editCourse(title, tags, d) {\n    this.child2.current.loadCourse(title, tags, d)\n    this.child2.current.openToggle()\n  }\n\n  deleteCourse() {\n    fetch('/api/course?c='+this.state.course_id, { method: 'PATCH' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'deleteCourse': true })\n          this.props.loadCourses()\n        })\n      }\n    })\n  }\n\n  openLesson(c, l) {\n    this.child4.current.loadLesson(c,l)\n    this.child4.current.openToggle()\n  }\n\n  createLesson() {\n    this.child3.current.openToggle()\n  }\n\n  collectionToggle(id, m) {\n    fetch('/api/course_collection?c='+id, {method: m}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.checkIsCollection(this.state.course_id)\n          this.props.loadCourses()\n        })\n      }\n    })\n  }\n\n  submitComment() {\n    let comment = window.frames['CourseComment'].document.body.innerHTML\n    console.log(comment)\n    fetch('/api/courses_comments', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_comment': \n        {\n          'course': this.state.course_id,\n          'comment': comment,\n          'rate': this.state.commentRate\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.reloadComments()\n        })\n      }\n    })\n  }\n\n  editComment(c, r) {\n    this.child.current.loadComment(c, r)\n    this.child.current.openToggle()\n  }\n\n  deleteComment() {\n    fetch('/api/courses_comments?c='+this.state.course_id, { method: 'DELETE' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.reloadComments()\n        })\n      }\n    })\n  }\n\n  rating(r) {\n    this.setState({ 'commentRate': r })\n  }\n\n  reloadComments() {\n    this.checkCanComment(this.state.course_id)\n    this.loadComments(this.state.course_id)\n  }\n\n  openToggle() {\n    this.setState({ 'open': !this.state.open })\n  }\n\n  commentFieldToggle() {\n    this.setState({ 'commentField': !this.state.commentField, 'commentRate': 5})\n  }\n\n  render() {\n    return(\n      <div className={this.state.open ? 'Course open' : 'Course close'}>\n        { this.state.deleteCourse ? \n          <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n            <div>Delete Course Success!</div>\n              <div onClick={this.openToggle}>Back to Course Page</div>\n          </div>\n        : null }\n\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Course</span>\n        </div>\n        \n        <div className=\"Course-detail\">\n          <div>{this.state.title}</div>\n          <div>{this.state.author}</div>\n          <div className=\"course_description\" dangerouslySetInnerHTML={{__html: this.state.description}}></div>\n          <div>Tags: {this.state.tags.map(t => t+' ')}</div>\n        </div>\n\n        {this.state.lessons.map(lesson => \n          <div onClick={() => this.openLesson(this.state.course_id, lesson.lesson_num)}>{lesson.title}</div>\n        )}\n\n        {this.state.myCourse ? \n          <div onClick={this.createLesson}>Create Lesson</div>\n        : null}\n\n        {this.state.myCourse ? \n          <div>\n            <div onClick={() => this.editCourse(this.state.title, this.state.tags, this.state.description)}>Edit Course</div>\n            <div onClick={this.deleteCourse}>Delete Course</div>\n          </div>\n        : null}\n\n        <div>Course Rate: {this.state.avg_rate ? this.state.avg_rate.toFixed(2) : '--'}({this.state.raters ? this.state.raters : '--'})</div>\n\n        {this.state.isCollection ? \n           <div onClick={() => this.collectionToggle(this.state.course_id, 'DELETE')}>Remove from Collection</div>\n        :  <div onClick={() => this.collectionToggle(this.state.course_id, 'POST')}>Add to Collection</div> }\n\n        <h3>Comments:</h3>\n\n        {this.state.canComment ? \n          <div>\n            <div onClick={this.commentFieldToggle}>I want to comment!</div> \n            {this.state.commentField ? \n              <div>\n                {[...Array(5).keys()].map(i => \n                  (this.state.commentRate < i+1 ? \n                    <img src={imgEmptyStar} onClick={() => this.rating(i+1)}/> \n                  :  <img src={imgStar} onClick={() => this.rating(i+1)}/> \n                  )\n                )}\n                <span>{this.state.commentRate}</span>\n                <TextEditor editor='CourseComment'/>\n                <button onClick={this.submitComment}>Submit</button>\n              </div> \n            : null}\n          </div>\n         : null}\n        \n         {this.state.comments.map(c => {\n           if (c.create_by !== this.state.solved_by) {\n             return(\n               <div>\n                 <div>{c.nickname}</div>\n                 {[...Array(5).keys()].map(i => \n                   (c.rating < i+1 ? \n                     <img src={imgEmptyStar}/> \n                   : <img src={imgStar}/> \n                   )\n                 )}\n                 <div dangerouslySetInnerHTML={{__html: c.content}}></div>\n                 <div>{c.create_date}</div>\n                 {this.props.user_id === c.create_by ? \n                   <div>\n                     <div onClick={() => this.editComment(c.content, c.rating)}>Edit</div>\n                     <div onClick={this.deleteComment}>Delete</div>\n                   </div>\n                 : null}\n               </div>\n             )\n           }\n         })}\n      \n         {this.state.myCourse ?\n           <EditCourse ref={this.child2} reload={() => this.loadCourse(this.state.course_id)} course_id={this.state.course_id}/>\n         : <EditComment ref={this.child} reload={this.reloadComments} course_id={this.state.course_id}/> }\n\n         {this.state.myCourse ? <CreateLesson ref={this.child3} course_id={this.state.course_id} reload={() => this.loadLessons(this.state.course_id)}/> : null}\n\n         <Lesson ref={this.child4} myCourse={this.state.myCourse} loadLessons={() => this.loadLessons(this.state.course_id)}/>\n\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport Course from './Course.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Courses extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { \n      'new': [], 'hot':[], 'recommand': [],\n      'search_mode': false, 'search_query': '', 'search_method': 'title','search_result': []\n    }\n    this.child = React.createRef()\n    this.loadCourses = this.loadCourses.bind(this)\n    this.loadCourseSearch = this.loadCourseSearch.bind(this) \n    this.callCourse = this.callCourse.bind(this)\n    this.inputOnChange = this.inputOnChange.bind(this)\n    this.inputKeyDown = this.inputKeyDown.bind(this)\n    this.methodOnChange = this.methodOnChange.bind(this)\n    this.back =  this.back.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadCourses()\n  }\n\n  loadCourses() {\n    fetch('/api/courses').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ \n            'new': result.courses.new,\n            'hot': result.courses.hot,\n            'recommand': result.courses.recommand,\n          }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  loadCourseSearch() {\n    fetch('/api/courses', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ \n        'search_query': this.state.search_query,\n        'search_method': this.state.search_method\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'search_result': result.search_result }, () => console.log(this.state))\n          this.setState({ 'search_mode': true })\n        })\n      }\n    })\n  }\n\n  callCourse(id) {\n    this.child.current.loadCourse(id)\n    this.child.current.loadLessons(id)\n    this.child.current.loadComments(id)\n    this.child.current.checkCanComment(id)\n    this.child.current.checkMyCourse(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  inputOnChange(event) {\n    this.setState({ 'search_query': event.target.value })\n  }\n\n  inputKeyDown(event) {\n    if (event.key === 'Enter') this.loadCourseSearch()\n  }\n\n  methodOnChange(e) {\n    console.log(e.target.value)\n    this.setState({'search_method': e.target.value})\n  }\n  \n  back() {\n    this.loadCourses()\n    this.setState({ 'search_mode': false, 'search_query': '' })\n  }\n\n  render() {\n    return (\n      <div className=\"Courses content\">\n        <div>\n          <select onChange={this.methodOnChange} value={this.state.search_method}>\n            <option value='title'>Title</option>\n            <option value='tags'>Tags</option>\n            <option value='author'>Author</option>\n          </select>\n          <input type='text' placeholder='Search Courses Here!' value={this.state.search_query} onChange={this.inputOnChange} onKeyDown={this.inputKeyDown}/>\n          <span onClick={this.loadCourseSearch}>Search</span>\n        </div>\n\n        {this.state.search_mode ? \n          <div>\n            <h3><img src={imgBack} onClick={this.back}/>Search Results</h3>\n            <ul className=\"courses-list\">\n              {this.state.search_result.map(c => \n                <li onClick={() => this.callCourse(c.course_id)}>\n                  <h4>{c.title}</h4>\n                  <h6>{c.nickname}</h6>\n                  <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n                  <h6>{c.create_date}</h6>\n                </li>\n              )}\n            </ul>\n          </div>\n        :\n          <div>\n            { this.props.user_type === 'teacher' ? <NavLink to='/courses/create'><div>Create Course</div></NavLink> : null }\n            { this.props.user_type === 'teacher' ? <NavLink to='/courses/my'><div>My Courses</div></NavLink> : null }\n            <NavLink to='/courses/collection'><div>My Collection</div></NavLink>\n\n            <h1>New</h1>\n            <ul className='courses-list'>\n              {this.state.new.map(c => \n                <li onClick={() => this.callCourse(c.course_id)}>\n                  <h4>{c.title}</h4>\n                  <h6>{c.nickname}</h6>\n                  <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n                  <h6>{c.create_date}</h6>\n                </li>\n              )}\n            </ul>\n            <h3>Hotest</h3>\n            <ul>\n              {this.state.hot.map(c => \n                <li onClick={() => this.callCourse(c.course_id)}>\n                  <h4>{c.title}</h4>\n                  <h6>{c.nickname}</h6>\n                  <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n                  <h6>{c.create_date}</h6>\n                </li>\n              )}\n            </ul>\n            <h3>Recommand</h3>\n            <ul>\n              {this.state.recommand.map(c => \n                <li onClick={() => this.callCourse(c.course_id)}>\n                  <h4>{c.title}</h4>\n                  <h6>{c.nickname}</h6>\n                  <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n                  <h6>{c.create_date}</h6>\n                </li>\n              )}\n            </ul>\n          </div>\n        }\n\n            <Course ref={this.child} user_id={this.props.user_id} loadCourses={this.loadCourses}/>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nexport default class CreateCourse extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'success_page': false,\n      'tags': [''],\n    }\n    this.output = this.output.bind(this)\n    this.newTag = this.newTag.bind(this)\n    this.popTag = this.popTag.bind(this)\n    this.tagInputOnChange = this.tagInputOnChange.bind(this)\n  }\n\n  output() {\n    let title = document.querySelector('.CreateCourses > input').value\n    let description = window.frames['CreateCourse'].document.body.innerHTML\n    if (description !== '' && title !== '' && !this.state.tags.includes('')) {\n      fetch('/api/course', { \n        method: 'POST' ,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'create_course': \n          {\n            'title': title,\n            'description': description,\n            'tags': this.state.tags\n          } \n        })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n          })\n        }\n      })  \n    } else {\n      alert('Plase fill in Title, Detail and Tag(s).')\n    }\n  }\n\n  newTag() {\n    if (this.state.tags.length < 10) {\n      let newTags = this.state.tags\n      newTags.push('')\n      this.setState({ 'tags': newTags })\n    }\n  }\n\n  popTag(i) {\n    if (this.state.tags.length > 1) {\n      let newTags = this.state.tags\n      newTags.splice(i, 1)\n      this.setState({ 'tags': newTags })\n    }\n  }\n\n  tagInputOnChange(v, i) {\n    let newTags = this.state.tags\n    newTags[i] = v\n    this.setState({ 'tag': newTags }, () => console.log(this.state.tags))\n  }\n\n  render() {\n    return (\n      <div className=\"CreateCourses content\">\n        { this.state.success_page ? \n          <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n            <div>Success!</div>\n            <Link to='/courses'>\n              <div>Back to Courses Page</div>\n            </Link>\n          </div>\n        : null }\n        <input type='text' placeholder='Courses Title' required maxLength='40'/>\n        \n        <TextEditor editor='CreateCourse'/>\n\n        <div>Courses Tags <img onClick={this.newTag} src=\"https://img.icons8.com/flat_round/64/000000/plus.png\"/></div>\n        <ul>\n          { this.state.tags.map((t, index) => \n            <li>\n              <input type='text' className='tag-input' value={t} maxLength='15' onChange={e => this.tagInputOnChange(e.target.value, index)}/>\n\n              { index !== 0 ? <img src=\"https://img.icons8.com/flat_round/64/000000/minus.png\" onClick={() => this.popTag(index)}/> : null }\n            </li>\n          ) }\n        </ul>\n\n        <button style={{display: 'block'}} className='submit' onClick={this.output}>Create</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport Course from './Course.jsx'\n\nexport default class MyCourses extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { 'myCourses': [] }\n    this.child = React.createRef()\n    this.loadCourses = this.loadCourses.bind(this)\n    this.callCourse = this.callCourse.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadCourses()\n  }\n\n  loadCourses() {\n    fetch('/api/my_courses').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ \n            'myCourses': result.my_courses,\n          }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  callCourse(id) {\n    this.child.current.loadCourse(id)\n    this.child.current.loadLessons(id)\n    this.child.current.loadComments(id)\n    this.child.current.checkCanComment(id)\n    this.child.current.checkMyCourse(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  render() {\n    return (\n      <div className=\"MyCourses content\">\n        <ul className='courses-list'>\n          {this.state.myCourses.map(c => \n            <li onClick={() => this.callCourse(c.course_id)}>\n              <h4>{c.title}</h4>\n              <h6>{c.nickname}</h6>\n              <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n              <h6>{c.create_date}</h6>\n            </li>\n          )}\n        </ul>\n\n        <Course ref={this.child} user_id={this.props.user_id} loadCourses={this.loadCourses}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport Course from './Course.jsx'\n\nexport default class CourseCollection extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { 'CourseCollection': [] }\n    this.child = React.createRef()\n    this.loadCourses = this.loadCourses.bind(this)\n    this.callCourse = this.callCourse.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadCourses()\n  }\n\n  loadCourses() {\n    fetch('/api/course_collection').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ \n            'CourseCollection': result.course_collection,\n          }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  callCourse(id) {\n    this.child.current.loadCourse(id)\n    this.child.current.loadLessons(id)\n    this.child.current.loadComments(id)\n    this.child.current.checkCanComment(id)\n    this.child.current.checkMyCourse(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  render() {\n    return (\n      <div className=\"CourseCollection content\">\n        <ul className='courses-list'>\n          {this.state.CourseCollection.map(c => \n            <li onClick={() => this.callCourse(c.course_id)}>\n              <h4>{c.title}</h4>\n              <h6>{c.nickname}</h6>\n              <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n              <h6>{c.create_date}</h6>\n            </li>\n          )}\n        </ul>\n\n        <Course ref={this.child} user_id={this.props.user_id} loadCourses={this.loadCourses}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class EditAnswer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false\n    }\n    this.openToggle = this.openToggle.bind(this)\n    this.loadAnswer = this.loadAnswer.bind(this)\n    this.submitEditedAnswer = this.submitEditedAnswer.bind(this)\n  }\n\n  loadAnswer(a) {\n    window.frames['EditAnswer'].document.body.innerHTML = a\n  } \n\n  submitEditedAnswer() {\n    let editedAnswer = window.frames['EditAnswer'].document.body.innerHTML\n    fetch('/api/submit_answer', {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_edited_answer': \n        {\n          'question': this.props.question_id,\n          'edited_answer': editedAnswer\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.props.reload()\n          this.openToggle()\n        })\n      }\n    })\n  }\n\n  openToggle() {\n    this.setState({'open': !this.state.open})\n  }\n  \n  render() {\n    return (\n      <div className={this.state.open ? 'EditAnswer open' : 'EditAnswer close'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Edit Answer</span>\n        </div>\n        <TextEditor editor='EditAnswer'/>\n        <button onClick={this.submitEditedAnswer}>Submit Edited Answer</button>\n      </div>\n    )\n  }\n}\n\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport EditAnswer from './EditAnswer.jsx'\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Question extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false, 'answerField': false, 'deleteQuestion': false,\n      'canAnswer': false, 'myQuestion': false, 'isCollection': false,\n      'question_id': '', 'title': '', 'create_by': '', 'detail': '', 'solved_by': 0,\n      'answers': []\n    }\n    this.child = React.createRef()\n    this.checkCanAnswer = this.checkCanAnswer.bind(this)\n    this.checkMyQuestion = this.checkMyQuestion.bind(this)\n    this.checkIsCollection = this.checkIsCollection.bind(this)\n    this.loadQuestion = this.loadQuestion.bind(this)\n    this.loadAnswers = this.loadAnswers.bind(this)\n    this.deleteQuestion = this.deleteQuestion.bind(this)\n    this.solveQuestion = this.solveQuestion.bind(this)\n    this.collectionToggle = this.collectionToggle.bind(this)\n    this.submitAnswer = this.submitAnswer.bind(this)\n    this.editAnswer = this.editAnswer.bind(this)\n    this.deleteAnswer = this.deleteAnswer.bind(this)\n    this.likeAnswer = this.likeAnswer.bind(this)\n    this.reload = this.reload.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n    this.answerFieldToggle = this.answerFieldToggle.bind(this)\n  }\n\n  checkCanAnswer(id) {\n    fetch('/api/check_can_answer/'+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'canAnswer': result.canAnswer})\n        })\n      }\n    })\n  }\n\n  checkMyQuestion(id) {\n    fetch('/api/my_questions?q='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'myQuestion': result.myQuestion }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n  \n  checkIsCollection(id) {\n    fetch('/api/question_collection?q='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'isCollection': result.isCollection }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  loadQuestion(id) {\n    fetch('/api/question?q='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result.question)\n          this.setState({ \n            'answerField': false,\n            'deleteQuestion': false,\n            'question_id': result.question.question_id,\n            'title': result.question.title, \n            'create_by': result.question.nickname,\n            'detail': result.question.detail,\n            'solved_by': result.question.solved_by\n          })\n        })\n      }\n    })\n  }\n\n  loadAnswers(id) {\n    fetch('/api/answers/'+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({'answers': result.answers})\n        })\n      }\n    })\n  }\n\n  deleteQuestion() {\n    fetch('/api/question?q='+this.state.question_id, { method: 'PATCH' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'deleteQuestion': true })\n          this.props.loadQuestions()\n        })\n      }\n    })\n  }\n\n  solveQuestion(user_id) {\n    console.log(user_id)\n    fetch('/api/solve_question', { \n      method: 'DELETE',\n      method: 'PATCH', \n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'solve_question': \n        { \n          'question': this.state.question_id,\n          'solved_by': user_id\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadQuestion(this.state.question_id)\n        })\n      }\n    })\n  }\n\n  collectionToggle(id, m) {\n    fetch('/api/question_collection?q='+id, {method: m}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.checkIsCollection(this.state.question_id)\n          this.props.loadQuestions()\n        })\n      }\n    })\n  }\n\n  submitAnswer() {\n    let answer = QuestionComment.document.body.innerHTML\n    console.log(answer)\n    fetch('/api/submit_answer',{\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_answer': \n        {\n          'question': this.state.question_id,\n          'answer': answer\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.reload()\n        })\n      }\n    })\n  }\n\n  editAnswer(a) {\n    this.child.current.loadAnswer(a)\n    this.child.current.openToggle()\n  }\n\n  deleteAnswer() {\n    fetch('/api/submit_answer', {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'delete_answer': \n        {\n          'question': this.state.question_id\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.reload()\n        })\n      }\n    })\n  }\n\n  likeAnswer(create_by, m) {\n    fetch('/api/answer_likes?q='+this.state.question_id+'&c='+create_by, { method: m }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadAnswers(this.state.question_id)\n        })\n      }\n    })\n  }\n\n  reload() {\n    this.checkCanAnswer(this.state.question_id)\n    this.loadAnswers(this.state.question_id)\n  }\n\n  openToggle() {\n    this.setState({ 'open': !this.state.open })\n  }\n  \n  answerFieldToggle() {\n    this.setState({ 'answerField': !this.state.answerField })\n  }\n  \n  render() {\n    let imgLink = window.location.origin + \"/static/images/\"\n    return (\n      <div className={this.state.open ? 'Question open' : 'Question close'}>\n        { this.state.deleteQuestion ? \n          <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n            <div>Delete Question Success!</div>\n              <div onClick={this.openToggle}>Back to Questions Page</div>\n          </div>\n        : null }\n        \n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Question</span>\n        </div>\n        \n        <div className=\"Question-detail\">\n          <div>{this.state.title}</div>\n          <div>{this.state.create_by}</div>\n          <div className=\"question_detail\" dangerouslySetInnerHTML={{__html: this.state.detail}}></div>\n\n          {this.state.myQuestion ? \n            <div onClick={this.deleteQuestion}>Delete Question</div>\n          : null}\n          \n          {this.state.solved_by !== null && this.state.myQuestion ? \n            <div onClick={() => this.solveQuestion(0)}>Cancel Solved</div>\n          : null}\n\n          {this.state.isCollection ? \n             <div onClick={() => this.collectionToggle(this.state.question_id, 'DELETE')}>Remove from Collection</div>\n          :  <div onClick={() => this.collectionToggle(this.state.question_id, 'POST')}>Add to Collection</div> }\n\n          <h3>Answer</h3>\n\n          {this.state.solved_by !== null ?\n            this.state.answers.map(a => {\n              if (a.create_by === this.state.solved_by) {\n                return(\n                  <div>\n                    <div>Best Answer</div>\n                    <div dangerouslySetInnerHTML={{__html: a.answer}}></div>\n                    <div>{a.nickname}</div>\n                    <div>{a.create_date}</div>\n                    <div>Likes: {a.likes}</div>\n                    { a.user_liked ? \n                      <button onClick={() => this.likeAnswer(a.create_by, 'DELETE')}>Unlike</button>\n                    : <button onClick={() => this.likeAnswer(a.create_by, 'POST')}>Like</button>}\n                  </div>\n                )\n              }\n            })\n          : null}\n\n          {this.state.canAnswer ? \n            <div>\n              <div onClick={this.answerFieldToggle}>I want to answer!</div> \n              {this.state.answerField ? \n                <div>\n                  <TextEditor editor='QuestionComment'/>\n                  <button onClick={this.submitAnswer}>Submit</button>\n                </div> \n              : null}\n            </div>\n           : null}\n\n           {this.state.answers.map(a => {\n             if (a.create_by !== this.state.solved_by) {\n               return(\n                 <div>\n                   <div dangerouslySetInnerHTML={{__html: a.answer}}></div>\n                   <div>{a.nickname}</div>\n                   <div>{a.create_date}</div>\n                   <div>Likes: {a.likes ? a.likes : 0}</div>\n                   { a.user_liked ? \n                     <button onClick={() => this.likeAnswer(a.create_by, 'DELETE')}>Unlike</button>\n                   : <button onClick={() => this.likeAnswer(a.create_by, 'POST')}>Like</button>}\n                   {this.props.user_id === a.create_by ? \n                     <div>\n                       <div onClick={() => this.editAnswer(a.answer)}>Edit</div>\n                       <div onClick={this.deleteAnswer}>Delete</div>\n                     </div>\n                   : null}\n                   {(this.state.solved_by === 0 || this.state.solved_by === null) && this.state.myQuestion ? \n                     <div onClick={() => this.solveQuestion(a.create_by)}>This Answer Solve My Question!</div>\n                   : null}\n                 </div>\n               )\n             }\n           })}\n\n        </div>\n\n        <EditAnswer ref={this.child} question_id={this.state.question_id} reload={this.reload}/>\n\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport Question from './Question.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Questions extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'new': [], 'hot': [],\n      'search_mode': false, 'search_query': '', 'search_result': []\n    }\n    this.child = React.createRef()\n    this.loadQuestions = this.loadQuestions.bind(this)\n    this.loadQuestionSearch = this.loadQuestionSearch.bind(this)\n    this.callQuestion = this.callQuestion.bind(this)\n    this.inputOnChange = this.inputOnChange.bind(this)\n    this.inputKeyDown = this.inputKeyDown.bind(this)\n    this.back =  this.back.bind(this)\n  }\n  \n  componentDidMount() {\n    this.loadQuestions()\n  }\n\n  loadQuestions() {\n    fetch('/api/questions').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ \n            'new': result.questions.new,\n            'hot': result.questions.hot\n          }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  loadQuestionSearch() {\n    fetch('/api/questions', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'search_query': this.state.search_query })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'search_result': result.search_result }, () => console.log(this.state))\n          this.setState({ 'search_mode': true })\n        })\n      }\n    })\n  }\n\n  callQuestion(id) {\n    this.child.current.loadQuestion(id)\n    this.child.current.loadAnswers(id)\n    this.child.current.checkCanAnswer(id)\n    this.child.current.checkMyQuestion(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  inputOnChange(event) {\n    this.setState({ 'search_query': event.target.value })\n  }\n\n  inputKeyDown(event) {\n    if (event.key === 'Enter') this.loadQuestionSearch()\n  }\n  \n  back() {\n    this.loadQuestions()\n    this.setState({ 'search_mode': false, 'search_query': '' })\n  }\n\n  render() {\n    return (\n      <div className=\"Questions content\">\n        <input type='text' placeholder='Search Questions Here!' value={this.state.search_query} onChange={this.inputOnChange} onKeyDown={this.inputKeyDown}/>\n        <button onClick={this.loadQuestionSearch}>Search</button>\n        {this.state.search_mode ? \n          <div>\n            <h3><img src={imgBack} onClick={this.back}/>Search Results</h3>\n            <ul className=\"question-list\">\n              {this.state.search_result.map(q => \n                <li onClick={() => this.callQuestion(q.question_id)}>\n                  <h4>{q.title}</h4>\n                  <h6>{q.nickname}</h6>\n                  <h6>{q.create_date}</h6>\n                </li>\n              )}\n            </ul>\n          </div>\n        : <div>\n            <NavLink to='/questions/create'><div>Ask Questions</div></NavLink>\n            <NavLink to='/questions/my'><div>My Questions</div></NavLink>\n            <NavLink to='/questions/collection'><div>My Collection</div></NavLink>\n            <h3>New</h3>\n            <ul className=\"question-list\">\n              {this.state.new.map(q => \n                <li onClick={() => this.callQuestion(q.question_id)}>\n                  <h4>{q.title}</h4>\n                  <h6>{q.nickname}</h6>\n                  <h6>{q.create_date}</h6>\n                  <h6>{q.solve}</h6>\n                </li>\n              )}\n            </ul>\n            <h3>Hotest</h3>\n            <ul className=\"question-list\">\n              {this.state.hot.map(q => \n                <li onClick={() => this.callQuestion(q.question_id)}>\n                  <h4>{q.title}</h4>\n                  <h6>{q.nickname}</h6>\n                  <h6>{q.create_date}</h6>\n                  <h6>{q.solve}</h6>\n                </li>\n              )}\n            </ul>\n          </div>\n          }\n\n        <div style={{textAlign: 'center'}}>--- Bottom ---</div>\n        <Question ref={this.child} user_id={this.props.user_id} loadQuestions={this.loadQuestions}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nexport default class CreateQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'success_page': false\n    }\n    this.output = this.output.bind(this)\n  }\n\n  output() {\n    let title = document.querySelector('.CreateQuestions > input').value\n    let content = window.frames['CreateQuestion'].document.body.innerHTML\n    if (content !== '' && title !== '') {\n      fetch('/api/question', { \n        method: 'POST' ,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'create_question': \n          {\n            'title': title,\n            'content': content\n          } \n        })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n          })\n        }\n      })  \n    } else {\n      alert('Plase fill in Title and Detail.')\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"CreateQuestions content\">\n        { this.state.success_page ? \n          <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n            <div>Success!</div>\n            <Link to='/questions'>\n              <div>Back to Questions Page</div>\n            </Link>\n          </div>\n        : null }\n        <input type='text' placeholder='Question Title' required/>\n        <TextEditor editor='CreateQuestion'/>\n        <button className='submit' onClick={this.output}>Ask!</button>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport Question from './Question.jsx'\n\nexport default class MyQuestions extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'my_questions': []\n    }\n    this.loadMyQuestions = this.loadMyQuestions.bind(this)\n    this.callQuestion = this.callQuestion.bind(this)\n    this.child = React.createRef()\n  }\n  \n  componentDidMount() {\n    this.loadMyQuestions()\n  }\n\n  loadMyQuestions() {\n    fetch('/api/my_questions').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'my_questions': result.my_questions }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  callQuestion(id) {\n    this.child.current.loadQuestion(id)\n    this.child.current.loadAnswers(id)\n    this.child.current.checkCanAnswer(id)\n    this.child.current.checkMyQuestion(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  render() {\n    return (\n      <div className=\"MyQuestions content\">\n        <ul className=\"question-list\">\n          {this.state.my_questions.map(q => \n            <li onClick={() => this.callQuestion(q.question_id)}>\n              <h4>{q.title}</h4>\n              <h6>{q.nickname}</h6>\n              <h6>{q.create_date}</h6>\n            </li>\n          )}\n        </ul>\n        <div style={{textAlign: 'center'}}>--- Bottom ---</div>\n        <Question ref={this.child} user_id={this.props.user_id} loadQuestions={this.loadMyQuestions}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport Question from './Question.jsx'\n\nexport default class QuestionCollection extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'question_collection': []\n    }\n    this.loadQuestionCollection = this.loadQuestionCollection.bind(this)\n    this.callQuestion = this.callQuestion.bind(this)\n    this.child = React.createRef()\n  }\n  \n  componentDidMount() {\n    this.loadQuestionCollection()\n  }\n\n  loadQuestionCollection() {\n    fetch('/api/question_collection').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'question_collection': result.question_collection }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  callQuestion(id) {\n    this.child.current.loadQuestion(id)\n    this.child.current.loadAnswers(id)\n    this.child.current.checkCanAnswer(id)\n    this.child.current.checkMyQuestion(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  render() {\n    return (\n      <div className=\"QuestionCollection content\">\n        <ul className=\"question-list\">\n          {this.state.question_collection.map(q => \n            <li onClick={() => this.callQuestion(q.question_id)}>\n              <h4>{q.title}</h4>\n              <h6>{q.nickname}</h6>\n              <h6>{q.create_date}</h6>\n            </li>\n          )}\n        </ul>\n        <div style={{textAlign: 'center'}}>--- Bottom ---</div>\n        <Question ref={this.child} user_id={this.props.user_id} loadQuestions={this.loadQuestionCollection}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport { Link, Redirect, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass Classroom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false, 'editToggle': false, 'success_page': false,\n      'classroom_id': '', 'name': '', 'description': '', 'create_by': '', 'nickname': '', 'create_date': '',\n      'newName': '', 'newDescription': ''\n    }\n    this.loadClassroom = this.loadClassroom.bind(this)\n    this.editClassroom = this.editClassroom.bind(this)\n    this.editToggle = this.editToggle.bind(this)\n    this.deleteClassroom = this.deleteClassroom.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadClassroom()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params && prevProps.match.path === this.props.match.path) {\n      this.loadClassroom()\n    }     \n  }\n  \n  loadClassroom() {\n    console.log(this.props)\n    fetch('/api/classroom?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          if (result.classroom !== 'Error') {\n            this.setState({\n              'permission': true,\n              'classroom_id': result.classroom.classroom_id,\n              'name': result.classroom.name,\n              'newName': result.classroom.name,\n              'description': result.classroom.description,\n              'newDescription': result.classroom.description,\n              'create_by': result.classroom.create_by,\n              'nickname': result.classroom.nickname,\n              'create_date': result.classroom.create_date\n            })\n          } else {\n            this.props.history.goBack()\n          }\n        })\n      }\n    })\n  }\n\n  newNameInputOnChange(value) {\n    this.setState({ 'newName': value })\n  }\n\n  newDescriptionOnChange(value) {\n    this.setState({ 'newDescription': value })\n  }\n\n  editClassroom(e) {\n    e.preventDefault()\n    let form = document.forms.form_editClassroom\n\n    if (form.classroom_name.value !== '') {\n      fetch('/api/classroom?c='+this.props.match.params.class, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          'editClassroom': {\n            'name': form.classroom_name.value,\n            'description': form.classroom_description.value\n          }\n        })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            form.classroom_name.value = ''\n            form.classroom_description.value = ''\n            this.editToggle()\n            this.loadClassroom()\n          })\n        }\n      })\n    } else {\n      alert('Please at least fill in the name of the classroom.')\n    }\n  }\n\n  editToggle() {\n    this.setState({'editToggle': !this.state.editToggle})\n  }\n\n  deleteClassroom() {\n    fetch('/api/classroom?c='+this.props.match.params.class, {method: 'DELETE'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'success_page': true})\n          this.props.reload()\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"Classroom content\">\n        <div className=\"header\">\n          <Link className=\"header-icon\" to={'/classrooms'}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Classroom</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n                <div>Delete Success!</div>\n                <Link to='/classrooms'>\n                  <div>Back to Classrooms Page</div>\n                </Link>\n              </div>\n            : null }\n            <div>\n              <div>{this.state.name}</div>\n              <div>{this.state.nickname}</div>\n              <div><pre style={{fontFamily: 'inherit'}}>{this.state.description}</pre></div>\n              <div>{this.state.create_date}</div>\n            </div>\n            <ul className=\"classroom-item\">\n              <li onClick={this.editToggle}>Edit Description</li>\n              {this.state.editToggle ? \n                <li>\n                  <form name='form_editClassroom' onSubmit={this.editClassroom}>\n                    <input type=\"text\" name=\"classroom_name\" placeholder=\"Name of the Classroom\" value={this.state.newName} onChange={e => this.newNameInputOnChange(e.target.value)} required/>\n                    <textarea name=\"classroom_description\" placeholder=\"Desceibe the Classroom here...\" value={this.state.newDescription} onChange={e => this.newDescriptionOnChange(e.target.value)} required/>\n                    <input type=\"submit\"/>\n                  </form>\n                </li>\n              : null }\n              <Link to={'/classrooms/'+this.state.classroom_id+'/members'}><li>Members</li></Link>\n              <Link to={'/classrooms/'+this.state.classroom_id+'/tasks'}><li>Tasks</li></Link>\n              {this.props.user_type === 'teacher' ? <Link to={'/classrooms/'+this.state.classroom_id+'/create_task'}><li>Create Task</li></Link> : null}\n              <Link to={'/classrooms/'+this.state.classroom_id+'/calendar'}><li>Calendar</li></Link>\n              <Link to={'/classrooms/'+this.state.classroom_id+'/chat'}><li>Chatroom</li></Link>\n              <li></li>\n              <li onClick={this.deleteClassroom}>Delete Classroom</li>\n            </ul>\n          </div>\n          : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Classroom)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass ClassroomMembers extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'ClassroomMembers': [],\n      'permission': false\n    }\n    this.loadClassroomMembers = this.loadClassroomMembers.bind(this)\n    this.checkPermission = this.checkPermission.bind(this)\n    this.inviteMember = this.inviteMember.bind(this)\n    this.kickFromClassroom = this.kickFromClassroom.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params) {\n      this.checkPermission()\n    }     \n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true },() => this.loadClassroomMembers())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n  \n  loadClassroomMembers() {\n    console.log(this.props)\n    if (this.state.permission) {\n      fetch('/api/classroom_members?c='+this.props.match.params.class).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.classroom_members !== 'Error') {\n              this.setState({\n                'classroom': result.classroom,\n                'ClassroomMembers': result.classroom_members\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  inviteMember(e) {\n    e.preventDefault()\n    let form = document.forms.form_inviteMember\n    if (form.user.value && form.user.value > 0) {\n      fetch('/api/classroom_members?c='+this.props.match.params.class+'&i='+form.user.value, {method: 'POST'}).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.loadClassroomMembers()\n          })\n        }\n      })\n    } else {\n      alert('Please fill in a valid ID.')\n    }\n  }\n\n  kickFromClassroom(u) {\n    fetch('/api/classroom_members?c='+this.props.match.params.class+'&i='+u, {method: 'DELETE'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadClassroomMembers()\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"ClassroomMembers content\">\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Classroom Members</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            <div>{this.state.classroom ? this.state.classroom.name : null}: Member List</div>\n            <form onSubmit={this.inviteMember} name=\"form_inviteMember\">Invite Member: <input type=\"number\" name=\"user\" required/> <input type=\"submit\"/> </form>\n            <ul>\n              {this.state.ClassroomMembers.map(member => \n                <li>\n                  <div>ID: {member.user_id}</div>\n                  <div>{member.fullname.toUpperCase()} {member.nickname}</div>\n                  <div>Type: {member.user_type}</div>\n                  <div>Join Date: {member.join_date}</div>\n                  {member.user_type === 'student' ? <button onClick={() => this.kickFromClassroom(member.user_id)}>Kick</button> : null}\n                </li>\n              )}\n            </ul>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(ClassroomMembers)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass Tasks extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'tasks': [],\n      'permission': false\n    }\n    this.loadTasks = this.loadTasks.bind(this)\n    this.checkPermission = this.checkPermission.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params) {\n      this.checkPermission()\n    }     \n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true },() => this.loadTasks())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n  \n  loadTasks() {\n    if (this.state.permission) {\n      fetch('/api/tasks?c='+this.props.match.params.class).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.tasks !== 'Error') {\n              this.setState({\n                'classroom': result.classroom,\n                'tasks': result.tasks\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Tasks content\">\n        <div className=\"header\">\n          <Link className='header-icon' to={'/classrooms/'+this.props.match.params.class}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Classroom Tasks</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            <div>{this.state.classroom ? this.state.classroom.name : null}: Tasks List</div>\n            <ul>\n              {this.state.tasks.map(task => \n                <Link to={this.props.location.pathname+'/'+task.task_num}>\n                  <li>\n                    <div>Title: {task.title}</div>\n                    <div>Deadline: {task.deadline}</div>\n                  </li>\n                </Link>\n              )}\n            </ul>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Tasks)\n\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass Task extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'title': '', 'create_date': '', 'deadline': '', 'task_answers': [],\n      'permission': false, 'success_page': false\n    }\n    this.loadTask = this.loadTask.bind(this)\n    this.loadAnswer = this.loadAnswer.bind(this)\n    this.checkPermission = this.checkPermission.bind(this)\n    this.deleteTask = this.deleteTask.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n    this.loadAnswer()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params) {\n      this.checkPermission()\n    }     \n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true },() => this.loadTask())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n  \n  loadTask() {\n    if (this.state.permission) {\n      fetch('/api/task?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.task !== 'Error' && result.task != null) {\n              this.setState({\n                'classroom': result.classroom,\n                'title': result.task.title,\n                'create_date': result.task.create_date,\n                'deadline': result.task.deadline,\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  loadAnswer() {\n    fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({'task_answers': result.task_answers})\n        })\n      }\n    })\n  }\n\n  deleteTask() {\n    fetch('/api/task?c='+this.props.match.params.class+'&t='+this.props.match.params.task, {method: 'DELETE'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'success_page': true})\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"Task content\">\n        <div className=\"header\">\n          <Link className=\"header-icon\" to={'/classrooms/'+this.props.match.params.class+'/tasks'}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Classroom Task</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n                <div>Delete Success!</div>\n                <Link to={'/classrooms/'+this.props.match.params.class+'/tasks'}>\n                  <div>Back to Tasks Page</div>\n                </Link>\n              </div>\n            : null }\n            <div>Task Title: {this.state.title}</div>\n            <div>{this.state.create_date}</div>\n            <div>{this.state.deadline}</div>\n\n            { this.props.user_type === 'teacher' ?\n                new Date() > new Date(this.state.deadline) ?\n                  <Link to={this.props.location.pathname+'/results'}><button>Result</button></Link>\n                :\n                  <div>\n                    <Link to={this.props.location.pathname+'/edit'}><button>Edit</button></Link>\n                    <br/><button onClick={this.deleteTask}>Delete</button>\n                  </div>\n            : new Date() > new Date(this.state.deadline) ?\n                <Link to={this.props.location.pathname+'/results/'+this.props.user_id}><button>Result</button></Link>\n              : \n                this.state.task_answers.length > 0 ? \n                  <Link to={this.props.location.pathname+'/edit_answer/'+this.props.user_id}><button>Edit Answer</button></Link>\n                : <Link to={this.props.location.pathname+'/answer'}><button>Answer</button></Link>}\n\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Task)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport DayPickerInput from 'react-day-picker/DayPickerInput'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\nlet MCQ_format = { 'type': 'MC', 'question': '', 'answer': 1, 'choice': ['','','',''], 'category': ''}\nlet SQ_format = { 'type': 'SQ', 'question': '', 'answer': '', 'choice': [], 'category': ''}\n\nclass CreateTask extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false,\n      'success_page': false,\n      'title': '', 'questions': [], 'deadline': undefined\n    }\n    this.checkPermission = this.checkPermission.bind(this)\n    this.create_task = this.create_task.bind(this)\n    this.titleOnChange = this.titleOnChange.bind(this)\n    this.deadlineOnChange = this.deadlineOnChange.bind(this)\n    this.newMCQ = this.newMCQ.bind(this)\n    this.newSQ = this.newSQ.bind(this)\n    this.popQuestion = this.popQuestion.bind(this)\n    this.categoryInputOnChange = this.categoryInputOnChange.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.choiceInputOnChange = this.choiceInputOnChange.bind(this)\n    this.textareaOnChange = this.textareaOnChange.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.addChoice = this.addChoice.bind(this)\n    this.popChoice = this.popChoice.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true })\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n\n  create_task() {\n    let questions = this.state.questions.slice(), fail = false\n    questions.forEach(q => {\n      if (q.question === '' || q.answer === '' || q.choice.includes('')) {\n        fail = true\n      }\n    })\n    if (this.state.title !== '' && this.state.deadline !== undefined &&questions.length > 0 && !fail) {\n      fetch('/api/task?c='+this.props.match.params.class, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'task': {\n          'title': this.state.title,\n          'deadline': this.state.deadline,\n          'questions': this.state.questions\n        }})\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n          })\n        }\n      })\n    } else {\n      alert('Please create at least 1 question fill in all the blanks')\n    }\n  }\n\n  titleOnChange(e) {\n    this.setState({'title': e.target.value})  \n  }\n\n  deadlineOnChange(day) {\n    this.setState({'deadline': day})\n  }\n\n  newMCQ() {\n    let temp = this.state.questions.slice()\n    let MCQ = JSON.parse(JSON.stringify(MCQ_format))\n    temp.push(MCQ)\n    this.setState({'questions': temp})\n  }\n\n  newSQ() {\n    let temp = this.state.questions.slice()\n    let SQ = JSON.parse(JSON.stringify(SQ_format))\n    temp.push(SQ)\n    this.setState({'questions': temp})\n  }\n\n  popQuestion(question_index) {\n    let temp = this.state.questions.slice()\n    temp.splice(question_index, 1)\n    this.setState({'questions': temp})\n  }\n\n  categoryInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].category = value\n    this.setState({ 'questions': temp })\n  }\n\n  choiceInputOnChange(value, question_index, choice_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice[choice_index] = value\n    this.setState({ 'questions': temp })\n  }\n\n  answerInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = value\n    this.setState({ 'questions': temp })\n  }\n\n  textareaOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].question = value\n    this.setState({ 'questions': temp })\n  }\n\n  mcAnswerToggle(question_index, answer) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = answer\n    this.setState({ 'questions': temp })\n  }\n\n  addChoice(question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice.push('')\n    this.setState({ 'questions': temp })\n  }\n\n  popChoice(question_index, choice_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice.splice(choice_index, 1)\n    this.setState({ 'questions': temp })\n  }\n\n  render() {\n    const { deadline } = this.state\n    return (\n      <div className=\"CreateTask content\">\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Create Task</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n                <div>Success!</div>\n                <Link to='/classrooms'>\n                  <div>Back to Classroom Page</div>\n                </Link>\n              </div>\n            : null }\n              <input type=\"text\" value={this.state.title} onChange={this.titleOnChange} placeholder='Task Title'/><br/>\n              <DayPickerInput onDayChange={this.deadlineOnChange} />\n\n              <div>Questions:</div>\n              { this.state.questions.map((q, qi) => \n                <div>\n                  <textarea placeholder=\"Type in your Task Question Here...\" value={q.question} onChange={e => this.textareaOnChange(e.target.value, qi)}/>\n                  <div onClick={() => this.popQuestion(qi)}>Delete Question</div>\n                    <ul>\n                      <input type=\"text\" value={q.category} onChange={e => this.categoryInputOnChange(e.target.value, qi)} placeholder='Question Cateory (Optional)'/>\n                      { q.type === 'MC' && q.choice.length < 4 ? \n                        <div>New Choice<img onClick={() => this.addChoice(qi)} src=\"https://img.icons8.com/flat_round/64/000000/plus.png\"/></div>\n                      : null }\n                      { q.type == 'MC' ? \n                        q.choice.map((c, ci) =>\n                          <li>A{ci+1}: \n                            <input type=\"text\" value={c} onChange={e => this.choiceInputOnChange(e.target.value, qi, ci)} placeholder=\"Multiple Choice\"/>\n                            <span className={ci+1 === q.answer ? 'task_answer_toggle yes' : 'task_answer_toggle no'} onClick={() => this.mcAnswerToggle(qi, ci+1)}>Answer</span>\n                            { q.choice.length > 2 ? <img src=\"https://img.icons8.com/flat_round/64/000000/minus.png\" onClick={() => this.popChoice(qi, ci)}/> : null }\n                          </li>\n                        ) \n                      : <li>Answer: <input type=\"text\" value={q.answer} onChange={e => this.answerInputOnChange(e.target.value, qi)} /></li>}\n                    </ul>\n                </div>\n              ) }\n            <div onClick={ this.newMCQ }>New MC Question</div>\n            <div onClick={ this.newSQ }>New Short Question</div>\n\n            <button onClick={this.create_task}>Create Task</button>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(CreateTask)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport DayPickerInput from 'react-day-picker/DayPickerInput'\n\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\nlet MCQ_format = { 'type': 'MC', 'question': '', 'answer': 1, 'choice': ['','','',''], 'category': ''}\nlet SQ_format = { 'type': 'SQ', 'question': '', 'answer': '', 'choice': [], 'category': ''}\n\nclass EditTask extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false,\n      'success_page': false,\n      'title': '', 'questions': [], 'deadline': new Date()\n    }\n    this.checkPermission = this.checkPermission.bind(this)\n    this.loadTaskQuestions = this.loadTaskQuestions.bind(this)\n    this.edit_task = this.edit_task.bind(this)\n    this.titleOnChange = this.titleOnChange.bind(this)\n    this.deadlineOnChange = this.deadlineOnChange.bind(this)\n    this.newMCQ = this.newMCQ.bind(this)\n    this.newSQ = this.newSQ.bind(this)\n    this.popQuestion = this.popQuestion.bind(this)\n    this.categoryInputOnChange = this.categoryInputOnChange.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.choiceInputOnChange = this.choiceInputOnChange.bind(this)\n    this.textareaOnChange = this.textareaOnChange.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.addChoice = this.addChoice.bind(this)\n    this.popChoice = this.popChoice.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true }, () => this.loadTaskQuestions())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n\n  loadTaskQuestions() {\n    if (this.state.permission) {\n      fetch('/api/task_questions?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.task !== 'Error' && !(new Date() > new Date(result.task.deadline))) {\n              this.setState({\n                'title': result.task.title,\n                'deadline': new Date(result.task.deadline),\n                'questions': result.task.task_questions\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  edit_task() {\n    let questions = this.state.questions.slice(), fail = false\n    questions.forEach(q => {\n      if (q.question === '' || q.answer === '' || q.choice.includes('')) {\n        fail = true\n      }\n    })\n    if (this.state.title !== '' && this.state.deadline !== undefined &&questions.length > 0 && !fail) {\n      fetch('/api/task?c='+this.props.match.params.class+'&t='+this.props.match.params.task, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'task': {\n          'title': this.state.title,\n          'deadline': this.state.deadline,\n          'questions': this.state.questions\n        }})\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n          })\n        }\n      })\n    } else {\n      alert('Please create at least 1 question fill in all the blanks')\n    }\n  }\n\n  titleOnChange(e) {\n    this.setState({'title': e.target.value})  \n  }\n\n  deadlineOnChange(day) {\n    this.setState({'deadline': day})\n  }\n\n  newMCQ() {\n    let temp = this.state.questions.slice()\n    let MCQ = JSON.parse(JSON.stringify(MCQ_format))\n    temp.push(MCQ)\n    this.setState({'questions': temp})\n  }\n\n  newSQ() {\n    let temp = this.state.questions.slice()\n    let SQ = JSON.parse(JSON.stringify(SQ_format))\n    temp.push(SQ)\n    this.setState({'questions': temp})\n  }\n\n  popQuestion(question_index) {\n    let temp = this.state.questions.slice()\n    temp.splice(question_index, 1)\n    this.setState({'questions': temp})\n  }\n\n  categoryInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].category = value\n    this.setState({ 'questions': temp })\n  }\n\n  choiceInputOnChange(value, question_index, choice_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice[choice_index] = value\n    this.setState({ 'questions': temp })\n  }\n\n  answerInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = value\n    this.setState({ 'questions': temp })\n  }\n\n  textareaOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].question = value\n    this.setState({ 'questions': temp })\n  }\n\n  mcAnswerToggle(question_index, answer) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = answer\n    this.setState({ 'questions': temp })\n  }\n\n  addChoice(question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice.push('')\n    this.setState({ 'questions': temp })\n  }\n\n  popChoice(question_index, choice_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice.splice(choice_index, 1)\n    this.setState({ 'questions': temp })\n  }\n\n  render() {\n    console.log(this.props.match)\n    const { deadline } = this.state\n    return (\n      <div className=\"EditTask content\">\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Edit Task</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n                <div>Success!</div>\n                <Link to={this.props.match.url.replace('/edit', '')}>\n                  <div>Back to Task Page</div>\n                </Link>\n              </div>\n            : null }\n              <input type=\"text\" value={this.state.title} onChange={this.titleOnChange} placeholder='Task Title'/><br/>\n              <DayPickerInput onDayChange={this.deadlineOnChange} value={new Date(this.state.deadline).toISOString().split('T')[0]} Format='YYYY-MM-DD'/>\n\n              <div>Questions:</div>\n              { this.state.questions.map((q, qi) => \n                <div>\n                  <textarea placeholder=\"Type in your Task Question Here...\" value={q.question} onChange={e => this.textareaOnChange(e.target.value, qi)}/>\n                  <div onClick={() => this.popQuestion(qi)}>Delete Question</div>\n                    <ul>\n                      <input type=\"text\" value={q.category} onChange={e => this.categoryInputOnChange(e.target.value, qi)} placeholder='Question Cateory (Optional)'/>\n                      { q.type.toUpperCase() === 'MC' && q.choice.length < 4 ? \n                        <div>New Choice<img onClick={() => this.addChoice(qi)} src=\"https://img.icons8.com/flat_round/64/000000/plus.png\"/></div>\n                      : null }\n                      { q.type.toUpperCase() == 'MC' ? \n                        q.choice.map((c, ci) =>\n                          <li>A{ci+1}: \n                            <input type=\"text\" value={c} onChange={e => this.choiceInputOnChange(e.target.value, qi, ci)} placeholder=\"Multiple Choice\"/>\n                            <span className={ci+1 === q.answer ? 'task_answer_toggle yes' : 'task_answer_toggle no'} onClick={() => this.mcAnswerToggle(qi, ci+1)}>Answer</span>\n                            { q.choice.length > 2 ? <img src=\"https://img.icons8.com/flat_round/64/000000/minus.png\" onClick={() => this.popChoice(qi, ci)}/> : null }\n                          </li>\n                        ) \n                      : <li>Answer: <input type=\"text\" value={q.answer} onChange={e => this.answerInputOnChange(e.target.value, qi)} /></li>}\n                    </ul>\n                </div>\n              ) }\n            <div onClick={ this.newMCQ }>New MC Question</div>\n            <div onClick={ this.newSQ }>New Short Question</div>\n\n            <button onClick={this.edit_task}>Edit Task</button>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(EditTask)\n\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass AnswerTask extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'questions': [],\n      'permission': false, 'success_page': false\n    }\n    this.checkPermission = this.checkPermission.bind(this)\n    this.loadTaskQuestions = this.loadTaskQuestions.bind(this)\n    this.answerTask = this.answerTask.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.mcAnswerToggle = this.mcAnswerToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true }, () => this.loadTaskQuestions())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n\n  loadTaskQuestions() {\n    if (this.state.permission) {\n      fetch('/api/student_task_questions?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.task !== 'Error' && !(new Date() > new Date(result.task.deadline))) {\n              this.setState({\n                'questions': result.task.task_questions\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  answerTask() {\n    let questions = this.state.questions.slice(), fail = false\n    questions.forEach(q => {\n      if (q.answer === '') {\n        fail = true\n      }\n    })\n    if (!fail) {\n      fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'answer_task': {\n          'questions': this.state.questions\n        }})\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n          })\n        }\n      })\n    } else {\n      alert('Please Answer All the Questions')\n    }\n  }\n\n  answerInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = value\n    this.setState({ 'questions': temp })\n  }\n\n  mcAnswerToggle(question_index, answer) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = temp.slice()[question_index].choice[answer]\n    this.setState({ 'questions': temp })\n  }\n\n  render() {\n    return (\n      <div className=\"AnswerTask content\">\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Answer Task</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n                <div>Success!</div>\n                <Link to={this.props.match.url.replace('/answer', '')}>\n                  <div>Back to Task Page</div>\n                </Link>\n              </div>\n            : null }\n              <div>Questions:</div>\n              { this.state.questions.map((q, qi) => \n                <div>\n                  <div>Question: {q.question_num}</div>\n                  <div><pre style={{fontFamily: 'inherit'}}>{q.question}</pre></div>\n                    <ul>\n                      { q.type.toUpperCase() == 'MC' ? \n                        q.choice.map((c, ci) =>\n                          <li> \n                            <div className={c === q.answer ? 'task_answer_toggle yes' : 'task_answer_toggle no'} \n                                 onClick={() => this.mcAnswerToggle(qi, ci)}>\n                                 A{ci+1}:{c}\n                            </div>\n                          </li>\n                        ) \n                      : <li>Answer: <input type=\"text\" value={q.answer} onChange={e => this.answerInputOnChange(e.target.value, qi)} /></li>}\n                    </ul>\n                </div>\n              ) }\n\n            <button onClick={this.answerTask}>Answer Task</button>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(AnswerTask)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass EditAnswer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'questions': [], 'task_answers': [],\n      'permission': false, 'success_page': false\n    }\n    this.checkPermission = this.checkPermission.bind(this)\n    this.loadAnswer = this.loadAnswer.bind(this)\n    this.loadTaskQuestions = this.loadTaskQuestions.bind(this)\n    this.editAnswer = this.editAnswer.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.mcAnswerToggle = this.mcAnswerToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  checkPermission() {\n    fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task+'&s='+this.props.match.params.student).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          if (result.edit_task === 'OK') {\n            this.setState({ 'permission': true }, () => this.loadTaskQuestions())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n\n  loadAnswer() {\n    fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          let temp = this.state.questions.slice()\n          temp.map((q, i) => {\n            q['answer'] = result.task_answers[i]['answer']\n          })\n          this.setState({'questions': temp})\n        })\n      }\n    })\n  }\n\n  loadTaskQuestions() {\n    if (this.state.permission) {\n      fetch('/api/student_task_questions?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.task !== 'Error' && !(new Date() > new Date(result.task.deadline))) {\n              this.setState({\n                'questions': result.task.task_questions\n              }, () => this.loadAnswer() )\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  editAnswer() {\n    let questions = this.state.questions.slice(), fail = false\n    questions.forEach(q => {\n      if (q.answer === '') {\n        fail = true\n      }\n    })\n    if (!fail) {\n      fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'answer_task': {\n          'questions': this.state.questions\n        }})\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n          })\n        }\n      })\n    } else {\n      alert('Please Answer All the Questions')\n    }\n  }\n\n  answerInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = value\n    this.setState({ 'questions': temp })\n  }\n\n  mcAnswerToggle(question_index, answer) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = temp.slice()[question_index].choice[answer]\n    this.setState({ 'questions': temp })\n  }\n\n  render() {\n    return (\n      <div className=\"EditAnswer content\">\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Edit Answer</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div style={{top: '0', left: '0', position: 'absolute', width: '100%', height: '100vh', background: 'white'}}>\n                <div>Success!</div>\n                <Link to={'/classrooms/'+this.props.match.params.class+'/tasks/'+this.props.match.params.task}>\n                  <div>Back to Task Page</div>\n                </Link>\n              </div>\n            : null }\n              <div>Questions:</div>\n              { this.state.questions.map((q, qi) => \n                <div>\n                  <div>Question: {q.question_num}</div>\n                  <div><pre style={{fontFamily: 'inherit'}}>{q.question}</pre></div>\n                    <ul>\n                      { q.type.toUpperCase() == 'MC' ? \n                        q.choice.map((c, ci) =>\n                          <li> \n                            <div className={c === q.answer ? 'task_answer_toggle yes' : 'task_answer_toggle no'} \n                                 onClick={() => this.mcAnswerToggle(qi, ci)}>\n                                 A{ci+1}: {c}\n                            </div>\n                          </li>\n                        ) \n                      : <li>Answer: <input type=\"text\" value={q.answer} onChange={e => this.answerInputOnChange(e.target.value, qi)} /></li>}\n                    </ul>\n                </div>\n              ) }\n\n            <button onClick={this.editAnswer}>Edit Answer</button>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(EditAnswer)\n\n","import React from 'react'\r\nCanvasJS = CanvasJS.Chart ? CanvasJS : window.CanvasJS\r\n\r\nclass CanvasJSChart extends React.Component {\r\n\tstatic _cjsContainerId = 0\r\n\tconstructor(props) {\t\t\r\n\t\tsuper(props)\t\r\n\t\tthis.options = props.options ? props.options : {}\t\t\r\n\t\tthis.containerProps = props.containerProps ? props.containerProps : {width: \"100%\", position: \"relative\"}\r\n\t\tthis.containerProps.height = props.containerProps && props.containerProps.height ? props.containerProps.height : this.options.height ? this.options.height + \"px\" : \"400px\"\r\n\t\tthis.chartContainerId = \"canvasjs-react-chart-container-\" + CanvasJSChart._cjsContainerId++\r\n\t}\t\r\n\tcomponentDidMount() {\r\n\t\tthis.chart = new CanvasJS.Chart(this.chartContainerId, this.options)\r\n\t\tthis.chart.render()\r\n\t\t\r\n\t\tif(this.props.onRef)\r\n\t\t\tthis.props.onRef(this.chart)\r\n\t}\t\r\n    shouldComponentUpdate(nextProps, nextState){\r\n        return !(nextProps.options === this.options)\r\n    }\r\n\tcomponentDidUpdate() {\r\n\t\tthis.chart.options = this.props.options\r\n\t\tthis.chart.render()\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tthis.chart.destroy()\r\n\t\tif(this.props.onRef)\r\n\t\t\tthis.props.onRef(undefined)\r\n\t}\t\t\r\n\trender() {\t\t\r\n\t\treturn <div id = {this.chartContainerId} style = {this.containerProps}/>\t\t\r\n\t}\t\r\n}\r\n\r\nvar CanvasJSReact = {\r\n    CanvasJSChart: CanvasJSChart,\r\n    CanvasJS: CanvasJS\r\n}\r\n\r\nexport default CanvasJSReact\r\n","import React from 'react'\r\nimport CanvasJSReact from './CanvasJS.jsx'\r\nconst CanvasJSChart = CanvasJSReact.CanvasJSChart\r\n \r\nclass BarChart extends React.Component {\r\n\trender() {\r\n\t\tconst options = {\r\n\t\t\tanimationEnabled: true,\r\n\t\t\ttitle:{\r\n\t\t\t\ttext: this.props.title\r\n\t\t\t},\r\n\t\t\taxisX: {\r\n\t\t\t\ttitle: this.props.title_X,\r\n\t\t\t\treversed: true,\r\n\t\t\t},\r\n\t\t\taxisY: {\r\n\t\t\t\ttitle: this.props.title_Y,\r\n        maximum: 100\r\n\t\t\t},\r\n\t\t\tdata: [{\r\n\t\t\t\ttype: \"bar\",\r\n\t\t\t\tdataPoints: this.props.data\r\n\t\t\t}]\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CanvasJSChart options={options}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default BarChart\r\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport BarChart from '../../../CanvasJS/BarChart.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass TaskResults extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false, 'questionToggle': false, 'categoryToggle': false,\n      'title': '', 'create_date': '', 'deadline': '', 'question_count': 0, 'submited': 0,\n      'student_answers': [], 'performance_category': [], 'performance_question': [],\n      'questionGraph': [], 'categoryGraph': []\n    }\n    this.loadTaskResults = this.loadTaskResults.bind(this)\n    this.questionToggle = this.questionToggle.bind(this)\n    this.categoryToggle = this.categoryToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.setState({'permission': true})\n    this.loadTaskResults()\n  }\n\n  loadTaskResults() {\n    let params = this.props.match.params\n    fetch(`/api/task_results?c=${params.class}&t=${params.task}`).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          if (result.task !== 'Error' && (new Date() > new Date(result.task_results.deadline))) {\n            this.setState({ \n              'title': result.task_results.title,\n              'create_date': result.task_results.create_date,\n              'deadline': result.task_results.deadline,\n              'submitted': result.task_results.submitted,\n              'question_count': result.task_results.question_count,\n              'student_answers': result.task_results.student_answers,\n              'performance_category': result.task_results.performance_category,\n              'performance_question': result.task_results.performance_question,\n            }, () => {\n              let questionGraph = this.state.performance_question.map(p => ({y:Number(p.correct/this.state.question_count*100), label: p.question_num}))\n              let categoryGraph = this.state.performance_category.map(p => ({y:Number(p.correct/p.category_count*100), label: p.category}))\n              this.setState({'questionGraph': questionGraph, 'categoryGraph': categoryGraph})\n            })\n          } else {\n            this.props.history.goBack()\n          }\n        })\n      }\n    })\n  }\n\n  questionToggle() {\n    this.setState({'questionToggle': !this.state.questionToggle})\n  }\n\n  categoryToggle() {\n    this.setState({'categoryToggle': !this.state.categoryToggle})\n  }\n\n  render() {\n    return (\n      <div className=\"TaskResults content\">\n        <div className=\"header\">\n          <Link className=\"header-icon\" to={'/classrooms/'+this.props.match.params.class+'/tasks/'+this.props.match.params.task}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Task Results</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            <div>Task Title: {this.state.title}</div>\n            <div>Create Date: {this.state.create_date}</div>\n            <div>Deadline: {this.state.deadline}</div>\n            <div>Submitted: {this.state.submitted}</div>\n            <div>Total Question: {this.state.question_count}</div>\n            <ul>\n              <li>\n                <span onClick={this.questionToggle}>Correct Rate (By question)</span>\n                {this.state.questionToggle ? \n                  <div>\n                    <BarChart title='Correct Rate by Question' title_X='Questions' title_Y='Correct Rate (%)' data={this.state.questionGraph}/>\n                    {this.state.performance_question.map(p => \n                      <div>{p.question_num}: {Number(p.correct/this.state.question_count*100).toFixed(2)}%({p.correct}/{this.state.question_count})</div>\n                    )}\n                  </div>\n                : null}\n              </li>\n              <li>\n                <span onClick={this.categoryToggle}>Correct Rate (By category)</span>\n                {this.state.categoryToggle ?  \n                  <div>\n                    <BarChart title='Correct Rate by Category' title_X='Categories' title_Y='Correct Rate (%)' data={this.state.categoryGraph}/>\n                    {this.state.performance_category.map(p => \n                      <div>{p.category ? p.category : 'Others'}: {Number(p.correct/p.category_count*100).toFixed(2)}%({p.correct}/{p.category_count})</div>\n                    )}\n                  </div>\n                : null}\n              </li>\n            </ul>\n            <div>Student Answers:</div>\n            <ul>\n              {this.state.student_answers.map(s => \n                <Link to={this.props.match.url+'/'+parseInt(s.student)}>\n                  <li>\n                    <div>ID: {s.student}</div>\n                    <div>Name: {s.name}</div>\n                    <div>Correct Rate: {Number(s.correct/this.state.question_count*100).toFixed(2)}%({s.correct}/{this.state.question_count})</div>\n                  </li>\n                </Link>\n              )}\n            </ul>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(TaskResults)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport BarChart from '../../../CanvasJS/BarChart.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass TaskResult extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false,\n      'title': '', 'create_date': '', 'deadline': '', 'question_count': 0, 'student_result': null,\n      'performance_category': [], 'student_answers': [],\n      'categoryGraph': []\n    }\n    this.loadTaskResult = this.loadTaskResult.bind(this)\n    this.categoryToggle = this.categoryToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadTaskResult()\n  }\n\n  loadTaskResult() {\n    let params = this.props.match.params\n    fetch(`/api/task_result?c=${params.class}&t=${params.task}&s=${params.student}`).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          if (result.task !== 'Error' && (new Date() > new Date(result.task_results.deadline))) {\n            this.setState({ \n              'permission': true,\n              'title': result.task_results.title,\n              'create_date': result.task_results.create_date,\n              'deadline': result.task_results.deadline,\n              'question_count': result.task_results.question_count,\n              'performance_category': result.task_results.performance_category,\n              'student_result': result.task_results.student_result,\n              'student_answers': result.task_results.student_answers,\n            }, () => {\n              let categoryGraph = this.state.performance_category.map(p => ({y:Number(p.correct/p.category_count*100), label: p.category}))\n              this.setState({'categoryGraph': categoryGraph})\n            })\n          } else {\n            this.props.history.goBack()\n          }\n        })\n      }\n    })\n  }\n\n  categoryToggle() {\n    this.setState({'categoryToggle': !this.state.categoryToggle})\n  }\n\n  render() {\n    return (\n      <div className=\"TaskResult content\">\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Task Result</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            <div>Task Title: {this.state.title}</div>\n            <div>Create Date: {this.state.create_date}</div>\n            <div>Deadline: {this.state.deadline}</div>\n            <div>Total Question: {this.state.question_count}</div>\n            <ul>\n                {this.state.student_result != null ? \n                  <li>\n                      <div>Student ID: {this.state.student_result.student}</div>\n                      <div>Student Name: {this.state.student_result.name}</div>\n                      <div>Correct Rate: {Number(this.state.student_result.correct/this.state.question_count*100).toFixed(2)}%({this.state.student_result.correct}/{this.state.question_count})</div>\n                  </li>\n                :null}\n              <li>\n                <span onClick={this.categoryToggle}>Correct Rate (By category)</span>\n                {this.state.categoryToggle ?  \n                  <div>\n                    <BarChart title='Correct Rate by Category' title_X='Categories' title_Y='Correct Rate (%)' data={this.state.categoryGraph}/>\n                    {this.state.performance_category.map(p => \n                      <div>{p.category ? p.category : 'Others'}: {Number(p.correct/p.category_count*100).toFixed(2)}%({p.correct}/{p.category_count})</div>\n                    )}\n                  </div>\n                : null}\n              </li>\n            </ul>\n            <br/>\n            <div>Question Result:</div>\n            {this.state.student_answers.map(a => \n              <div>\n                <div>Question {a.question_num}.</div>\n                <div><pre>{a.question}</pre></div>\n                <div>Your answer: <span style={a.student_answer === a.answer ? {color: 'green'} : {color: 'red'}}>{a.student_answer}</span></div>\n                {a.student_answer !== a.answer ? <div>Correct answer: <span style={{color: 'green'}}>{a.answer}</span></div>: null}\n              </div>\n            )}\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(TaskResult)\n\n","import React from 'react'\n\nconst day = (n) => <li className=\"day\">\n                     <div className=\"dayHead\">{n !== 0 ? n : null}</div>\n                     <div className=\"dayDetail\"></div>\n                   </li>\n\nconst dayList = (date) => {\n  let bigMonth = [1,3,5,7,8,10,12], list = [], days = 30, weekday = (new Date(`${date.year}/${date.month}/1`)).getDay()\n  if (date.month === 2) {\n    let y = date.year\n    if ((y%4 === 0 && y%100 != 0)||(y%400 === 0 && y%3200 != 0)) { days = 29 }\n    else { days = 28 }\n  } else {\n    for (let i = 0; i < bigMonth.length; i++) {\n      if (date.month === bigMonth[i]) { days = 31 }\n    }\n  }\n  for (let i = 1; i <= weekday; i++) { list.push(day(0)) }\n  for (let i = 1; i <= days; i++) { list.push(day(i)) }\n\n  return (<ul className=\"days\">{list}</ul>)\n}\n\nexport default class Days extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {}\n  }\n\n  render() {\n    console.log(this.props.date)\n    let Month = dayList(this.props.date)\n    \n    return (\n      <div className=\"day-list\">\n        {Month}\n      </div>\n    )\n  }\n} \n\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport Days from './Days.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass Calendar extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      'today': new Date(Date.now()).toLocaleDateString(),\n      'center': '',\n      'date': {'year': 2000, 'month': 1},\n      'eventList': [],\n    }\n    this.createMonthList = this.createMonthList.bind(this)\n    this.changeMonth = this.changeMonth.bind(this)\n  }\n\n  componentDidMount() {\n    this.createMonthList()\n  }\n\n  createMonthList() {\n    let todayYear = parseInt(this.state.today.split('/')[2])\n    let todayMonth = parseInt(this.state.today.split('/')[1])\n    let date = {'year': todayYear, 'month': todayMonth}\n    this.setState({ 'date': date })\n  }\n\n  changeMonth(num) {\n    let date = this.state.date\n    if (date.month + num < 1) { date = {'year': date.year - 1, 'month': date.month + 12 + num} }\n    else if (date.month + num > 12) { date = {'year': date.year + 1, 'month': date.month - 12 + num} }\n    else { date = {'year': date.year, 'month': date.month + num} }\n    this.setState({ 'date': date })\n  }\n    \n  render() {\n    return (\n      <div className=\"Calendar content\">\n        <div className=\"header\" style={{gridArea: 'header'}}>\n          <Link className=\"header-icon\" to={'/classrooms/'+this.props.match.params.class}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Calendar</span>\n        </div>\n        <div className=\"month\">\n          <img src={imgBack} className=\"left\" onClick={() => this.changeMonth(-1)}/>\n          <span className=\"middle\">{this.state.date.year}-{this.state.date.month}</span>\n          <img src={imgBack} className=\"right\" onClick={() => this.changeMonth(1)}/>\n        </div>\n          <ul className=\"weeks\">\n              <li className=\"week sunday\">Sun</li>\n              <li className=\"week\">Mon</li>\n              <li className=\"week\">Tue</li>\n              <li className=\"week\">Wed</li>\n              <li className=\"week\">Thu</li>\n              <li className=\"week\">Fri</li>\n              <li className=\"week\">Sat</li>\n          </ul>\n          <Days date={this.state.date}/>\n      </div>\n    )\n  }\n} \n\nexport default withRouter(Calendar)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport Classroom from './Classroom.jsx'\nimport ClassroomMembers from './ClassroomMembers.jsx'\nimport Tasks from './Tasks/Tasks.jsx'\nimport Task from './Tasks/Task.jsx'\nimport CreateTask from './Tasks/CreateTask.jsx'\nimport EditTask from './Tasks/EditTask.jsx'\nimport AnswerTask from './Tasks/AnswerTask.jsx'\nimport EditAnswer from './Tasks/EditAnswer.jsx'\nimport TaskResults from './Tasks/TaskResults.jsx'\nimport TaskResult from './Tasks/TaskResult.jsx'\nimport Calendar from './Calendar.jsx'\n\nclass Classrooms extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'createToggle': false,\n      'classrooms': [],\n      'part': ''\n    }\n    this.loadClassrooms = this.loadClassrooms.bind(this)\n    this.createToggle = this.createToggle.bind(this)\n    this.createClassroom = this.createClassroom.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadClassrooms()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match !== this.props.match) {\n      console.log(this.props)\n      if (this.props.match.path === \"/classrooms/:class/members\") {this.setState({'part': 'classMembers'})}\n      else if (this.props.match.path === \"/classrooms/:class/create_task\") {this.setState({'part': 'createTask'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks\") {this.setState({'part': 'tasks'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task\") {this.setState({'part': 'task'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/edit\" && this.props.user_type === 'teacher') {this.setState({'part': 'editTask'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/results\" && this.props.user_type === 'teacher') {this.setState({'part': 'results'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/results/:student\") {this.setState({'part': 'result'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/answer\" && this.props.user_type === 'student') {this.setState({'part': 'answerTask'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/edit_answer/:student\" && this.props.user_type === 'student') {this.setState({'part': 'editAnswer'})}\n      else if (this.props.match.path === \"/classrooms/:class/calendar\") {this.setState({'part': 'calendar'})}     \n      else if (this.props.match.path === \"/classrooms/:class\") {this.setState({'part': 'class'})}     \n      else {this.setState({'part': ''})}\n    }\n  }\n\n  loadClassrooms() {\n    fetch('/api/classrooms').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'classrooms': result.classrooms })\n        })\n      }\n    })\n  }\n\n  createToggle() {\n    this.setState({ 'createToggle': !this.state.createToggle })\n  }\n\n  createClassroom(e) {\n    e.preventDefault()\n    let form = document.forms.form_createClassroom\n\n    if (form.classroom_name.value !== '') {\n      fetch('/api/classroom', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          'createClassroom': {\n            'name': form.classroom_name.value,\n            'description': form.classroom_description.value\n          }\n        })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            form.classroom_name.value = ''\n            form.classroom_description.value = ''\n            this.loadClassrooms()\n            this.createToggle()\n          })\n        }\n      })\n    } else {\n      alert('Please at least fill in the name of the classroom.')\n    }\n  }\n\n\n  render() {\n    return (\n      <div className=\"content\">\n        <div className=\"Classrooms\">\n          {this.props.user_type === 'teacher' ? \n            <div>\n              <button onClick={this.createToggle}>Create Classrooms</button>\n              {this.state.createToggle ? \n                <form name='form_createClassroom'>\n                  <input type=\"text\" name=\"classroom_name\" placeholder=\"Name of the Classroom\" required/>\n                  <textarea name=\"classroom_description\" placeholder=\"Desceibe the Classroom here...\" required/>\n                  <input type=\"submit\" onClick={this.createClassroom}/>\n                </form>\n              : null }\n            </div>\n          : null}\n\n          <h3>My Classrooms</h3>\n          <ul>\n            {this.state.classrooms.map(c => \n              <Link to={'/classrooms/'+c.classroom_id}>\n                <li>\n                  <div>{c.name}</div>\n                  <div>{c.description}</div>\n                  <div>{c.create_date}</div>\n                </li>\n              </Link>\n            )}\n          </ul>\n          <div style={{textAlign: 'center'}}>--- Bottom ---</div>\n        </div>\n\n        {this.state.part !== '' ? <div className=\"coverboard\"></div> : null}\n        {this.state.part === 'class' ? <Classroom user_type={this.props.user_type} reload={this.loadClassrooms}/> : null}\n        {this.state.part === 'classMembers' ? <ClassroomMembers/> : null}\n        {this.state.part === 'createTask' ? <CreateTask/> : null}\n        {this.state.part === 'tasks' ? <Tasks user_id={this.props.user_id}/> : null}\n        {this.state.part === 'task' ? <Task user_id={this.props.user_id}  user_type={this.props.user_type}/> : null}\n        {this.state.part === 'editTask' && this.props.user_type === 'teacher' ? <EditTask/> : null}\n        {this.state.part === 'answerTask' && this.props.user_type === 'student' ? <AnswerTask/> : null}\n        {this.state.part === 'editAnswer' && this.props.user_type === 'student' ? <EditAnswer/> : null}\n        {this.state.part === 'results' && this.props.user_type === 'teacher' ? <TaskResults/> : null}\n        {this.state.part === 'result' ? <TaskResult/> : null}\n        {this.state.part === 'calendar' ? <Calendar/> : null}\n\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Classrooms)\n","import React from 'react'\n\nexport default class Notification extends React.Component {\n  constructor(props) {\n    super(props)\n    this.stats = {}\n  }\n  render() {\n    return (\n      <div className=\"Notification content\">\n        Notification Here!\n      </div>\n    )\n  }\n}\n\n\n","import React from 'react'\n\nexport default class Setting extends React.Component {\n  constructor(props) {\n    super(props)\n    this.stats = {}\n  }\n  render() {\n    return (\n      <div className=\"Setting content\">\n        <div>\n          <span>{this.props.user_data.nickname}</span>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom'\n\nimport Nav from './Nav.jsx'\n\nimport Courses from './Courses/Courses.jsx'\nimport CreateCourse from './Courses/CreateCourse.jsx'\nimport MyCourses from './Courses/MyCourses.jsx'\nimport CourseCollection from './Courses/CourseCollection.jsx'\n\nimport Questions from './Questions/Questions.jsx'\nimport CreateQuestions from './Questions/CreateQuestion.jsx'\nimport MyQuestions from './Questions/MyQuestions.jsx'\nimport QuestionCollection from './Questions/QuestionCollection.jsx'\n\nimport Classrooms from './Classrooms/Classrooms.jsx'\n\nimport Notification from './Notification/Notification.jsx'\nimport Setting from './Setting/Setting.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Student extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'nav': false,\n      'user_data': {},\n    }\n    this.navToggle = this.navToggle.bind(this)\n    this.loadUser = this.loadUser.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadUser()\n  }\n\n  navToggle() {\n    this.setState({'nav': !this.state.nav}, () => console.log(this.state))\n  }\n  \n  loadUser() {\n    fetch('/api/user_data').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({'user_data': result.user_data}, () => console.log(this.state.user_data))\n        })\n      }\n    })\n  }\n\n  render() {\n    let imgLink = window.location.origin + \"/static/images/\"\n    let Header = (props) => (<div className=\"header\">\n                               <img className=\"header-icon\" src={imgLink + \"icons/icon-192x192.png\"}/>\n                               <span>{props.title}</span>\n                               <img className=\"header-toggle\" src={imgLink + \"toggle.png\"} onClick={this.navToggle}/>\n                             </div>)\n    return (\n      <div id=\"Student\">\n        <Router>\n          <div id=\"main\">\n            <Nav nav={this.state.nav} navToggle={this.navToggle}/>\n            <Switch>\n              <Route path=\"/courses/collection\">\n                <div className=\"header\">\n                  <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                  <span>My Collection</span>\n                </div>\n                <CourseCollection/>\n              </Route>\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/courses/my\">\n                  <div className=\"header\">\n                    <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                    <span>My Courses</span>\n                  </div>\n                  <MyCourses/>\n                </Route>\n              : null}\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/courses/create\">\n                  <div className=\"header\">\n                    <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                    <span>Create Courses</span>\n                  </div>\n                  <CreateCourse/>\n                </Route>\n              : null}\n              <Route path=\"/courses\">\n                <Header title='Courses'/>\n                <Courses user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n              </Route>\n\n              <Route path=\"/questions/my\">\n                <div className=\"header\">\n                  <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                  <span>My Questions</span>\n                </div>\n                <MyQuestions/>\n              </Route>\n              <Route path=\"/questions/collection\">\n                <div className=\"header\">\n                  <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                  <span>My Collection</span>\n                </div>\n                <QuestionCollection/>\n              </Route>\n              <Route path=\"/questions/create\">\n                <div className=\"header\">\n                  <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                  <span>Create Questions</span>\n                </div>\n                <CreateQuestions/>\n              </Route>\n              <Route path=\"/questions\">\n                <Header title='Questions'/>\n                <Questions user_id={this.state.user_data.user_id}/>\n              </Route>\n\n              <Route path=\"/classrooms/:class/chat\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n              </Route>\n              <Route path=\"/classrooms/:class/calendar\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n              </Route>\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/classrooms/:class/create_task\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n                </Route>\n              : null}\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/classrooms/:class/tasks/:task/edit\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n                </Route>\n              : null}\n              <Route path=\"/classrooms/:class/tasks/:task/results/:student\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n              </Route>\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/classrooms/:class/tasks/:task/results\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n                </Route>\n              : null}\n              {this.state.user_data.user_type === 'student' ?\n                <Route path=\"/classrooms/:class/tasks/:task/edit_answer/:student\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n                </Route>\n              : null}\n              {this.state.user_data.user_type === 'student' ?\n                <Route path=\"/classrooms/:class/tasks/:task/answer\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n                </Route>\n              : null}\n              <Route path=\"/classrooms/:class/tasks/:task\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n              </Route>\n              <Route path=\"/classrooms/:class/tasks\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n              </Route>\n              <Route path=\"/classrooms/:class/members\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n              </Route>\n              <Route path=\"/classrooms/:class\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n              </Route>\n              <Route path=\"/classrooms\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id}/>\n              </Route>\n\n              <Route path=\"/notification\">\n                <Header title='Notification'/>\n                <Notification/>\n              </Route>\n              <Route path=\"/setting\">\n                <Header title='Setting'/>\n                <Setting user_data={this.state.user_data}/>\n              </Route>\n              <Redirect from=\"/\" to=\"/courses\"/>\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Student from './Student.jsx'\n\nReactDOM.render(<Student />, document.querySelector(\"#node\"))\n"],"sourceRoot":""}