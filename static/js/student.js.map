{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/student/Nav.jsx","webpack:///./src/student/UserInfo.jsx","webpack:///./src/TextEditor.jsx","webpack:///./src/student/Courses/EditCourse.jsx","webpack:///./src/student/Courses/EditLession.jsx","webpack:///./src/student/Courses/Lession.jsx","webpack:///./src/student/Courses/CreateLesson.jsx","webpack:///./src/student/Courses/EditComment.jsx","webpack:///./src/student/Courses/Course.jsx","webpack:///./src/student/Courses/Courses.jsx","webpack:///./src/student/Courses/CreateCourse.jsx","webpack:///./src/student/Courses/MyCourses.jsx","webpack:///./src/student/Courses/CourseCollection.jsx","webpack:///./src/student/Questions/EditAnswer.jsx","webpack:///./src/student/Questions/Question.jsx","webpack:///./src/student/Questions/Questions.jsx","webpack:///./src/student/Questions/CreateQuestion.jsx","webpack:///./src/student/Questions/MyQuestions.jsx","webpack:///./src/student/Questions/QuestionCollection.jsx","webpack:///./src/student/Classrooms/Classroom.jsx","webpack:///./src/student/Classrooms/ClassroomMembers.jsx","webpack:///./src/student/Classrooms/Tasks/Tasks.jsx","webpack:///./src/student/Classrooms/Tasks/Task.jsx","webpack:///./src/student/Classrooms/Tasks/CreateTask.jsx","webpack:///./src/student/Classrooms/Tasks/EditTask.jsx","webpack:///./src/student/Classrooms/Tasks/AnswerTask.jsx","webpack:///./src/student/Classrooms/Tasks/EditAnswer.jsx","webpack:///./src/CanvasJS/CanvasJS.jsx","webpack:///./src/CanvasJS/BarChart.jsx","webpack:///./src/student/Classrooms/Tasks/TaskResults.jsx","webpack:///./src/student/Classrooms/Tasks/TaskResult.jsx","webpack:///./src/student/Classrooms/Calendar/Days.jsx","webpack:///./src/student/Classrooms/Calendar/Day.jsx","webpack:///./src/student/Classrooms/Calendar/Calendar.jsx","webpack:///./src/student/Classrooms/Chatroom.jsx","webpack:///./src/student/Classrooms/Classrooms.jsx","webpack:///./src/student/Notification/Notification.jsx","webpack:///./src/student/Setting/Setting.jsx","webpack:///./src/student/Student.jsx","webpack:///./src/student/App.jsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Nav","React","Component","constructor","props","super","this","logout","e","preventDefault","fetch","method","then","res","ok","json","location","href","origin","render","id","className","nav","to","onClick","navToggle","src","UserInfo","state","loadUserInfo","loadIcon","imgOnError","followToggle","target","setState","console","log","target_info","Date","getTime","targetInfo","openToggle","icon","alt","onError","nickname","String","user_id","padStart","user_type","school","best_answer","answer_likes","course_avg","follower","following","TextEditor","btnClick","componentDidMount","frames","editor","document","designMode","execCommand","body","style","fontSize","event","Math","random","title","marginwidth","marginheight","onKeyUp","counting","EditCourse","loadCourse","submitEditedCourse","newTag","popTag","tagInputOnChange","titleOnChange","openFalse","tags","innerHTML","editedDescription","headers","JSON","stringify","course_id","editedTitle","reload","newTags","v","open","type","onChange","width","margin","map","index","maxLength","display","EditLesson","editLesson","loadLesson","f","querySelector","checked","allowed","file","files","filetype","undefined","split","pop","youtube_link","lesson_detail","delete_file","form","FormData","append","includes","lesson_num","reloadLessons","alert","overflowY","placeholder","required","filename","float","Lesson","child","createRef","deleteLesson","course","num","lesson","detail","video_link","last_update","current","loadLessons","scrollTo","myCourse","frameborder","allow","allowfullscreen","Download","dangerouslySetInnerHTML","__html","ref","CreateLesson","createLesson","EditComment","loadComment","submitEditedComment","rating","editedComment","editedRate","Array","keys","imgStar","Course","child2","child3","child4","checkCanComment","checkMyCourse","checkIsCollection","loadComments","deleteCourse","openLesson","collectionToggle","submitComment","editComment","deleteComment","reloadComments","openTrue","commentFieldToggle","canComment","isCollection","author","description","create_date","avg_rate","raters","lessons","comments","editCourse","loadCourses","comment","commentRate","scrollTop","commentField","userInfoToggle","textAlign","padding","toISOString","cursor","borderBottom","background","borderRadius","toFixed","fontWeight","create_by","solved_by","content","Courses","loadCourseSearch","callCourse","inputOnChange","inputKeyDown","methodOnChange","back","courses","new","hot","recommand","search_query","search_method","search_result","onKeyDown","search_mode","CreateCourse","output","success_page","MyCourses","my_courses","myCourses","CourseCollection","course_collection","EditAnswer","loadAnswer","submitEditedAnswer","a","editedAnswer","question_id","Question","checkCanAnswer","checkMyQuestion","loadQuestion","loadAnswers","deleteQuestion","solveQuestion","submitAnswer","editAnswer","deleteAnswer","likeAnswer","answerFieldToggle","canAnswer","myQuestion","question","answers","loadQuestions","answer","QuestionComment","answerField","user_liked","likes","Questions","loadQuestionSearch","callQuestion","questions","q","CreateQuestion","MyQuestions","loadMyQuestions","my_questions","QuestionCollection","loadQuestionCollection","question_collection","Classroom","loadClassroom","editClassroom","editToggle","deleteClassroom","componentDidUpdate","prevProps","match","params","path","class","classroom","classroom_id","history","goBack","newNameInputOnChange","newDescriptionOnChange","forms","form_editClassroom","classroom_name","classroom_description","permission","fontFamily","onSubmit","newName","newDescription","withRouter","ClassroomMembers","loadClassroomMembers","checkPermission","inviteMember","kickFromClassroom","inviteToggle","member","err","classroom_members","form_inviteMember","user","invite_member","u","marginBottom","Number","fullname","toUpperCase","join_date","Tasks","loadTasks","tasks","task","pathname","task_num","force_close","color","deadline","Task","loadTask","forceClose","deleteTask","task_answers","MCQ_format","SQ_format","CreateTask","create_task","deadlineOnChange","newMCQ","newSQ","popQuestion","categoryInputOnChange","answerInputOnChange","choiceInputOnChange","textareaOnChange","addChoice","popChoice","fail","forEach","choice","toDateString","day","temp","MCQ","parse","SQ","question_index","category","choice_index","mcAnswerToggle","onDayChange","inputProps","readOnly","Format","qi","ci","EditTask","loadTaskQuestions","edit_task","task_questions","url","replace","AnswerTask","answerTask","question_num","student","CanvasJS","Chart","CanvasJSChart","options","containerProps","position","height","chartContainerId","_cjsContainerId","chart","onRef","shouldComponentUpdate","nextProps","nextState","componentWillUnmount","destroy","BarChart","animationEnabled","text","axisX","title_X","reversed","axisY","title_Y","maximum","dataPoints","TaskResults","loadTaskResults","questionToggle","categoryToggle","task_results","submitted","question_count","student_answers","performance_category","performance_question","questionGraph","y","correct","label","categoryGraph","category_count","zIndex","parseInt","TaskResult","loadTaskResult","student_result","student_answer","date","events","dayHead","deadlineDetail","eventDetail","deadlineCount","eventCount","todayDate","toLocaleDateString","year","month","event_date","dayList","bigMonth","list","days","weekday","getDay","daynum","Days","Month","Day","loadCalendar","createEvent","deleteEvent","createEventToggle","calendar","form_createEvent","event_name","event_description","event_num","opt","paddingBottom","marginTop","imgBack","Calendar","loadDate","createMonthList","changeMonth","today","Chatroom","loadMessage","sendMessage","leaveRoom","scrollToBottom","socket","io","connect","on","emit","reloadMessage","msg","chatroom","messages","input","chatList","scrollHeight","message","Classrooms","loadClassrooms","createToggle","createClassroom","classrooms","form_createClassroom","part","Notification","loadNotice","notification","notice","collection","Setting","loadInfo","changeIcon","deleteIcon","changeNickname","changePassword","iconToggle","nicknameToggle","passwordToggle","user_info","user_data","form_changeIcon","send_form","form_changeNickname","form_changePassword","password_new","password_repeat","password_now","iconChange","nicknameChange","passwordChange","sex","info","Student","loadUser","userInfo","imgLink","Header","from","ReactDOM"],"mappings":"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","file":"student.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([24,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react'\nimport { NavLink  } from 'react-router-dom'\n\nconst imgCourses = 'https://img.icons8.com/dusk/64/000000/course-assign.png'\nconst imgQuestions = 'https://img.icons8.com/dusk/64/000000/why-us-male.png'\nconst imgClassrooms = 'https://img.icons8.com/dusk/64/000000/class.png'\nconst imgSelf = 'https://img.icons8.com/dusk/64/000000/small-smile.png'\nconst imgNotice = 'https://img.icons8.com/dusk/64/000000/appointment-reminders.png'\nconst imgLogout = 'https://img.icons8.com/dusk/64/000000/logout-rounded-left.png'\n\nexport default class Nav extends React.Component {\n  constructor(props) {\n    super(props)\n    this.logout = this.logout.bind(this)\n  }\n\n  logout(e) {\n    e.preventDefault()\n    fetch('/logout', {method: 'POST'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.logout === 'Success') {\n            window.location.href = window.location.origin\n          }\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n      <ul id=\"nav\" className={this.props.nav ? 'open' : 'close'}>\n        <NavLink to=\"/courses\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgCourses}/>\n            <div>Courses</div>\n          </li>\n        </NavLink>\n        <NavLink to=\"/questions\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgQuestions}/>\n            <div>Questions</div>\n          </li>\n        </NavLink>\n        <NavLink to=\"/classrooms\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgClassrooms}/>\n            <div>Classrooms</div>\n          </li>\n        </NavLink>\n        <NavLink to=\"/setting\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgSelf}/>\n            <div>Self</div>\n          </li>\n        </NavLink>\n        <NavLink to=\"/notification\" onClick={this.props.navToggle}>\n          <li className=\"nav-items\">\n            <img src={imgNotice}/>\n            <div>Notification</div>\n          </li>\n        </NavLink>\n        <a href=\"/\" onClick={this.logout}>\n          <li className=\"nav-items\">\n            <img src={imgLogout}/>\n            <div>Logout</div>\n          </li>\n        </a>\n      </ul>\n    )\n  }\n}\n","import React from 'react'\n\nexport default class UserInfo extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { \n      'target': 0,\n      'targetInfo': false,\n      'icon': `${window.location.origin}/static/images/icons/icon-128x128.png`,\n    }\n    this.loadUserInfo = this.loadUserInfo.bind(this)\n    this.loadIcon = this.loadIcon.bind(this)\n    this.imgOnError = this.imgOnError.bind(this)\n    this.followToggle = this.followToggle.bind(this)\n  }\n\n  loadUserInfo(target) {\n    this.setState({\"target\": target}, () => {\n      fetch(`/api/user_info?target=${this.state.target}`).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({ 'targetInfo': result.target_info })\n            this.loadIcon(this.state.target)\n          })\n        }\n      })\n    })\n  }\n  \n  loadIcon(target) {\n    this.setState({ 'icon': `${window.location.origin}/static/images/user_icons/${target}.png?${new Date().getTime()}` })\n  }\n\n  imgOnError() {\n    this.setState({ 'icon': `${window.location.origin}/static/images/icons/icon-128x128.png` })\n  }\n\n  followToggle() {\n    fetch(`/api/user_follow?target=${this.state.target}`, { method: 'POST' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadUserInfo(this.state.target)\n        })\n      }\n    })\n  }\n\n  render() {\n    const { targetInfo } = this.state\n    return (\n      <div className=\"UserInfo\">\n        <div className=\"UserInfo-bg\" onClick={this.props.openToggle}></div>\n        {targetInfo && \n          <div className=\"UserInfo-main\">\n            <img src={this.state.icon} alt=\"target icon\" onError={this.imgOnError}/>\n            <div>{targetInfo.nickname}</div>\n            <div>User Id: {String(targetInfo.user_id).padStart(8,'0')}</div>\n            <div>{targetInfo.user_type === 'teacher' ? 'Teacher' : 'Student'} from {targetInfo.school}</div>\n            <div className=\"flex\">\n              <div>\n                <div>Best Answer</div>\n                <div>{ targetInfo.best_answer ? targetInfo.best_answer : 0 }</div>\n              </div>\n              <div>\n                <div>Answer Likes</div>\n                <div>{ targetInfo.answer_likes ? targetInfo.answer_likes : 0 }</div>\n              </div>\n              { targetInfo.user_type === 'teacher' && \n                <div>\n                  <div>Courses Avg. Rate</div>\n                  <div>{ targetInfo.course_avg ? targetInfo.course_avg : 0 }</div>\n                </div>\n              }\n              { targetInfo.user_type === 'teacher' &&\n                <div>\n                  <div>Followers</div>\n                  <div>{ targetInfo.follower ? targetInfo.follower : 0 }</div>\n                </div>\n              }\n            </div>\n            { targetInfo.user_id !== this.props.user_id && targetInfo.user_type === 'teacher' ? \n                targetInfo.following ?\n                  <div className=\"unfollow\" onClick={this.followToggle}>Unfollow</div>\n                : <div className=\"follow\" onClick={this.followToggle}>Follow</div>\n            : null }\n          </div>\n        }\n      </div>\n    )\n  }\n}\n","import React from 'react'\n\nconst imgBold = 'https://img.icons8.com/metro/26/000000/bold.png'\nconst imgItalic = 'https://img.icons8.com/metro/26/000000/italic.png'\nconst imgUnderline = 'https://img.icons8.com/metro/26/000000/underline.png'\nconst imgStrike = 'https://img.icons8.com/metro/26/000000/strikethrough.png'\nconst imgJL = 'https://img.icons8.com/metro/26/000000/align-left.png'\nconst imgJC = 'https://img.icons8.com/metro/26/000000/align-center.png'\nconst imgJR = 'https://img.icons8.com/metro/26/000000/align-right.png'\nconst imgSub = 'https://img.icons8.com/ios-glyphs/30/000000/subscript.png'\nconst imgSup = 'https://img.icons8.com/ios-glyphs/30/000000/superscript.png'\nconst imgNList = 'https://img.icons8.com/material-sharp/24/000000/list.png'\nconst imgOList = 'https://img.icons8.com/metro/26/000000/numbered-list.png'\n\nexport default class TextEditor extends React.Component {\n  constructor(props) {\n    super(props)\n    this.btnClick = this.btnClick.bind(this)\n  }\n  componentDidMount() {\n    window.frames[this.props.editor].document.designMode = 'on'\n    window.frames[this.props.editor].document.execCommand(\"enableObjectResizing\", false, false)\n    window.frames[this.props.editor].document.body.style.fontSize = '2rem'\n  }\n  btnClick(event) {\n    let n = null\n    if (event === 'InsertOrderedList' || event === 'InsertUnorderedList') n = Math.random() * 1000\n    window.frames[this.props.editor].document.execCommand(event, false, n)\n  }\n\n  render() {\n    return(\n      <div className='TextEditor'>\n        <div className='EditorPanel'>\n          <button id=\"btnBold\" title=\"Bold\" onClick={() => this.btnClick('Bold')}><img src={imgBold}/></button>\n          <button id=\"btnItalic\" title=\"Italic\" onClick={() => this.btnClick('Italic')}><img src={imgItalic}/></button>\n          <button id=\"btnUnderln\" title=\"Underline\" onClick={() => this.btnClick('Underline')}><img src={imgUnderline}/></button>\n          <button id=\"btnStrike\" title=\"Strike\" onClick={() => this.btnClick('Strikethrough')}><img src={imgStrike}/></button>\n          <button id=\"btnJLeft\" title=\"Justisfy left\" onClick={() => this.btnClick('JustifyLeft')}><img src={imgJL}/></button>\n          <button id=\"btnJCenter\" title=\"Justisfy center\" onClick={() => this.btnClick('JustifyCenter')}><img src={imgJC}/></button>\n          <button id=\"btnJRight\" title=\"Justisfy right\" onClick={() => this.btnClick('JustifyRight')}><img src={imgJR}/></button>\n          <button id=\"btnOList\" title=\"Ordered list\" onClick={() => this.btnClick('InsertOrderedList')}><img src={imgOList}/></button>\n          <button id=\"btnUList\" title=\"Unorder list\" onClick={() => this.btnClick('InsertUnorderedList')}><img src={imgNList}/></button>\n          <button id=\"btnSup\" title=\"Superscript\" onClick={() => this.btnClick('Superscript')}><img src={imgSup}/></button>\n          <button id=\"btnSub\" title=\"Subscript\" onClick={() => this.btnClick('Subscript')}><img src={imgSub}/></button>\n        </div>\n\n        <iframe marginwidth=\"15\" marginheight=\"10\" name={this.props.editor} id={this.props.editor} onKeyUp={this.counting}></iframe>\n      </div>\n    )\n  }\n}\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class EditCourse extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false,\n      'editedTitle': '',\n      'tags': []\n    }\n    this.loadCourse = this.loadCourse.bind(this)\n    this.submitEditedCourse = this.submitEditedCourse.bind(this)\n    this.newTag = this.newTag.bind(this)\n    this.popTag = this.popTag.bind(this)\n    this.tagInputOnChange = this.tagInputOnChange.bind(this)\n    this.titleOnChange = this.titleOnChange.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n    this.openFalse = this.openFalse.bind(this)\n  }\n\n  loadCourse(title, tags, d) {\n    this.setState({ 'editedTitle': title, 'tags': tags })\n    window.frames['EditCourse'].document.body.innerHTML = d\n  } \n\n  submitEditedCourse() {\n    let editedDescription = window.frames['EditCourse'].document.body.innerHTML\n    fetch('/api/course', {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_edited_course': \n        {\n          'course': this.props.course_id,\n          'edited_title': this.state.editedTitle,\n          'edited_description': editedDescription,\n          'edited_tags': this.state.tags\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.props.reload()\n          this.openToggle()\n        })\n      }\n    })\n  }\n\n  newTag() {\n    if (this.state.tags.length < 10) {\n      let newTags = this.state.tags\n      newTags.push('')\n      this.setState({ 'tags': newTags })\n    }\n  }\n\n  popTag(i) {\n    if (this.state.tags.length > 1) {\n      let newTags = this.state.tags\n      newTags.splice(i, 1)\n      this.setState({ 'tags': newTags })\n    }\n  }\n\n  tagInputOnChange(v, i) {\n    let newTags = this.state.tags\n    newTags[i] = v\n    this.setState({ 'tag': newTags }, () => console.log(this.state.tags))\n  }\n\n  titleOnChange(e) {\n    this.setState({ 'editedTitle': e.target.value })\n  }\n  \n  openToggle() {\n    this.setState({'open': !this.state.open})\n  }\n\n  openFalse() {\n    this.setState({'open': false})\n  }\n  \n  render() {\n    return (\n      <div className={this.state.open ? 'EditCourse open' : 'EditCourse close'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Edit Course</span>\n        </div>\n        \n        <input type=\"text\" value={this.state.editedTitle} onChange={this.titleOnChange}/>\n        <div style={{fontSize: '2.5vh', width: '95%', margin: 'auto'}}>Course Description:</div>        \n        <TextEditor editor='EditCourse'/>\n\n        <div>Courses Tags <img className=\"add\" onClick={this.newTag} src=\"https://img.icons8.com/flat_round/64/000000/plus.png\"/></div>\n        <ol>\n          { this.state.tags.map((t, index) => \n            <li>\n              <input type='text' className='tag-input' value={t} maxLength='15' onChange={e => this.tagInputOnChange(e.target.value, index)}/>\n\n              { index !== 0 ? <img className=\"minus\" src=\"https://img.icons8.com/flat_round/64/000000/minus.png\" onClick={() => this.popTag(index)}/> : null }\n            </li>\n          ) }\n        </ol>\n        <button style={{display: 'block'}} className='submit' onClick={this.submitEditedCourse}>Submit Edited Course</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class EditLesson extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false,\n      'filename': 'No File',\n    }\n    this.openToggle = this.openToggle.bind(this)\n    this.editLesson = this.editLesson.bind(this)\n    this.openFalse = this.openFalse.bind(this)\n  }\n\n  loadLesson(t,f,v,d) {\n    document.querySelector('#edited_lesson_title').value = t\n    document.querySelector('#edited_lesson_file').value = ''\n    document.querySelector('#edited_youtube_link').value = v\n    document.querySelector('#delete_file_check').checked = false\n    window.frames['EditLesson'].document.body.innerHTML = d\n    this.setState({ 'filename': f })\n  }\n\n  editLesson() {\n    let allowed = ['pdf', 'doc', 'docx', 'ppt', 'pptx']\n    let title = document.querySelector('#edited_lesson_title').value\n    let file = document.querySelector('#edited_lesson_file').files[0]\n    let filetype = null\n    if (file!= undefined) { filetype = document.querySelector('#edited_lesson_file').files[0].name.split('.').pop() }\n    let youtube_link = document.querySelector('#edited_youtube_link').value\n    let lesson_detail = window.frames['EditLesson'].document.body.innerHTML\n    let delete_file = false\n    if (document.querySelector('#delete_file_check').checked === true) { delete_file = true }\n    console.log(delete_file)\n\n    if (title !== '') {\n      const form = new FormData()\n      form.append('title', title)\n      if (allowed.includes(filetype)) { form.append('file', file) }\n      form.append('delete_file', delete_file)\n      form.append('youtube_link', youtube_link)\n      form.append('lesson_detail', lesson_detail)\n\n      fetch('/api/lesson?c='+this.props.course_id+'&l='+this.props.lesson_num, {\n        method: 'PUT',\n        body: form\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.openToggle()\n            this.props.reload()\n            this.props.reloadLessons()\n          })\n        }\n      })\n    } else {\n      alert(\"Please at least input the title of lesson\")\n    }\n  }\n\n  openToggle() {\n    this.setState({'open': !this.state.open})\n    if (document.querySelector('.Lesson')) {document.querySelector('.Lesson').style.overflowY = 'scroll'}\n  }\n\n  openFalse() {\n    this.setState({'open': false})\n  }\n\n  render() {\n    return (\n      <div className={this.state.open ? 'EditLesson open sticky-top' : 'EditLesson close sticky-top'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Edit Lesson</span>\n        </div>\n\n        <input id='edited_lesson_title' type='text' placeholder='Lesson Title' required maxLength='40'/>\n        <input id='edited_youtube_link' type='url' placeholder='Youtube Embed Link'/>\n        <div style={{fontSize: '2.5vh', width: '95%', margin: 'auto'}}>\n          Lesson File: {this.state.filename} <input className=\"lesson_file\" style={{display: 'inline'}} id='edited_lesson_file' type='file' placeholder='Lesson File'/>\n          <label style={{float: 'right'}}>\n            Delete File\n            <input id='delete_file_check' type=\"checkbox\"/>\n          </label>\n        </div>\n\n        \n        <div style={{fontSize: '2.5vh', width: '95%', margin: 'auto'}}>Lesson Detail</div>        \n        <TextEditor editor='EditLesson'/>\n\n        <button style={{display: 'block'}} className='submit' onClick={this.editLesson}>Edit</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport EditLesson from './EditLession.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Lesson extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false, 'deleteLesson': false,\n      'course_id': '', 'lesson_num': '', 'title': '', 'detail': '', 'video_link': '', 'filename': '', 'last_update': '',\n    }\n    this.child = React.createRef()\n    this.editLesson = this.editLesson.bind(this)\n    this.deleteLesson = this.deleteLesson.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n    this.openFalse = this.openFalse.bind(this)\n  }\n  \n  loadLesson(course, num) {\n    fetch('/api/lesson?c='+course+'&l='+num).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({\n            'deleteLesson': false,\n            'course_id': result.lesson.course,\n            'lesson_num': result.lesson.lesson_num,\n            'title': result.lesson.title, \n            'detail': result.lesson.detail,\n            'video_link': result.lesson.video_link,\n            'filename': result.lesson.filename,\n            'last_update': result.lesson.last_update,\n          })\n        })\n      }\n    })\n  }\n\n  editLesson(t,f,v,d) {\n    this.child.current.loadLesson(t,f,v,d)\n    this.child.current.openToggle()\n    document.querySelector('.Lesson').style.overflowY = 'hidden'\n  }\n\n  deleteLesson() {\n    fetch('/api/lesson?c='+this.state.course_id+'&l='+this.state.lesson_num, { method: 'DELETE' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'deleteLesson': true })\n          this.props.loadLessons()\n          document.querySelector('.Lesson').scrollTo(0,0)\n          document.querySelector('.Lesson').style.overflowY = 'hidden'\n        })\n      }\n    })\n  }\n\n  openToggle() {\n    this.setState({ 'open': !this.state.open })\n   document.querySelector('.Course').style.overflowY = 'scroll'\n  }\n\n  openFalse() {\n    this.setState({'open': false})\n    if (this.child.current) this.child.current.openFalse()\n  }\n\n  render() {\n    return(\n      <div className={this.state.open ? 'Lesson open' : 'Lesson close'}>\n        { this.state.deleteLesson ? \n          <div className=\"success_page\">\n            <div>Delete Lesson Success!</div>\n            <div className=\"btn\" onClick={this.openToggle}>Back to Course Page</div>\n          </div>\n        : null }\n\n        <div className=\"header sticky-top\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Lession</span>\n        </div>\n        \n        <div className=\"Lesson-detail\">\n          <div className=\"lesson_title block\">{this.state.title}</div>\n          {this.props.myCourse ? \n            <div className=\"flex\">\n              <div className=\"edit\" onClick={() => this.editLesson(this.state.title, this.state.filename, this.state.video_link, this.state.detail)}>Edit Lesson</div>\n              <div className=\"delete\" onClick={this.deleteLesson}>Delete Lesson</div>\n            </div>\n          : null}\n          {this.state.video_link != '' && this.state.video_link ? \n            <iframe className=\"video\" src={this.state.video_link} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n          : null}\n          {this.state.filename != null ? \n            <div className=\"block download\">\n              <span>{this.state.filename}</span>\n              <a href={window.location.origin+'/static/files/'+this.state.course_id+'_'+this.state.lesson_num+'.'+this.state.filename.split('.').pop()} Download={this.state.filename}>Download</a>\n            </div>\n          : null}\n          <div className=\"lesson_detail\" dangerouslySetInnerHTML={{__html: this.state.detail}}></div>\n        </div>\n\n      \n         {this.props.myCourse ?\n           <EditLesson ref={this.child} reloadLessons={this.props.loadLessons} reload={() => this.loadLesson(this.state.course_id, this.state.lesson_num)} course_id={this.state.course_id} lesson_num={this.state.lesson_num}/>\n         : null }\n\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class CreateLesson extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false,\n    }\n    this.openToggle = this.openToggle.bind(this)\n    this.openFalse = this.openFalse.bind(this)\n    this.createLesson = this.createLesson.bind(this)\n  }\n\n  createLesson() {\n    let allowed = ['pdf', 'doc', 'docx', 'ppt', 'pptx']\n    let title = document.querySelector('#lesson_title').value\n    let file = document.querySelector('#lesson_file').files[0]\n    let filetype = null\n    if (file != undefined) { filetype = document.querySelector('#lesson_file').files[0].name.split('.').pop() }\n    let youtube_link = document.querySelector('#youtube_link').value\n    let lesson_detail = window.frames['CreateLesson'].document.body.innerHTML\n\n    if (title !== '') {\n      const form = new FormData()\n      form.append('title', title)\n      if (allowed.includes(filetype)) { form.append('file', file) }\n      form.append('youtube_link', youtube_link)\n      form.append('lesson_detail', lesson_detail)\n\n      fetch('/api/lesson?c='+this.props.course_id, {\n        method: 'POST',\n        body: form\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.props.reload()\n            this.openToggle()\n          })\n        }\n      })  \n    } else {\n      alert(\"Please at least input the title of lesson\")\n    }\n  }\n\n  openToggle() {\n    document.querySelector('#lesson_title').value = ''\n    document.querySelector('#lesson_file').value = ''\n    document.querySelector('#youtube_link').value = ''\n    window.frames['CreateLesson'].document.body.innerHTML = ''\n    this.setState({'open': !this.state.open})\n    document.querySelector('.Course').style.overflowY = 'scroll'\n  }\n\n  openFalse() {\n    this.setState({'open': false})\n  }\n\n  render() {\n    return (\n      <div className={this.state.open ? 'CreateLesson open' : 'CreateLesson close'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Create Lesson</span>\n        </div>\n\n        <input id='lesson_title' type='text' placeholder='Lesson Title' required maxLength='40'/>\n        <input id='youtube_link' type='url' placeholder='Youtube Embed Link'/>\n        <div style={{fontSize: '2.5vh', width: '95%', margin: 'auto'}}>\n          Lesson File:&nbsp;\n          <input className=\"lesson_file\" style={{display: 'inline'}} id='lesson_file' type='file' placeholder='Lesson File'/>\n        </div>\n        \n        <div style={{fontSize: '2.5vh', width: '95%', margin: 'auto'}}>Lesson Detail</div>        \n        <TextEditor editor='CreateLesson'/>\n\n        <button style={{display: 'block'}} className='submit' onClick={this.createLesson}>Create</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\nconst imgStar = 'https://img.icons8.com/emoji/48/000000/star-emoji.png'\nconst imgEmptyStar = 'https://img.icons8.com/color/48/000000/star--v1.png'\n\nexport default class EditComment extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false,\n      'editedRate': 5\n    }\n    this.loadComment = this.loadComment.bind(this)\n    this.submitEditedComment = this.submitEditedComment.bind(this)\n    this.rating = this.rating.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n    this.openFalse = this.openFalse.bind(this)\n  }\n\n  loadComment(c, r) {\n    window.frames['EditComment'].document.body.innerHTML = c\n    this.setState({ 'editedRate': r })\n  } \n\n  submitEditedComment() {\n    let editedComment = window.frames['EditComment'].document.body.innerHTML\n    fetch('/api/courses_comments', {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_edited_comment': \n        {\n          'course': this.props.course_id,\n          'edited_comment': editedComment,\n          'edited_rate': this.state.editedRate\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.props.reload()\n          this.openToggle()\n        })\n      }\n    })\n  }\n  \n  rating(r) {\n    this.setState({ 'editedRate': r })\n  }\n\n  openToggle() {\n    this.setState({'open': !this.state.open})\n    document.querySelector('.Course').style.overflowY = 'scroll'\n  }\n\n  openFalse() {\n    this.setState({'open': false})\n  }\n  \n  render() {\n    return (\n      <div className={this.state.open ? 'EditComment open' : 'EditComment close'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Edit Comment</span>\n        </div>\n        <div className=\"block\">\n          <span>Rate:</span>\n          {[...Array(5).keys()].map(i => \n            (this.state.editedRate < i+1 ? \n              <img className=\"rate\" src={imgEmptyStar} onClick={() => this.rating(i+1)}/> \n            :  <img className=\"rate\" src={imgStar} onClick={() => this.rating(i+1)}/> \n            )\n          )}\n        <span>{this.state.editedRate}</span>\n        </div>\n        <TextEditor editor='EditComment'/>\n        <button className=\"submit\" onClick={this.submitEditedComment}>Submit Edited Comment</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport EditCourse from './EditCourse.jsx'\nimport Lesson from './Lession.jsx'\nimport CreateLesson from './CreateLesson.jsx'\nimport EditComment from './EditComment.jsx'\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\nconst imgStar = 'https://img.icons8.com/emoji/48/000000/star-emoji.png'\nconst imgEmptyStar = 'https://img.icons8.com/color/48/000000/star--v1.png'\n\nexport default class Course extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false, 'commentField': false, 'deleteCourse': false,\n      'canComment': false, 'myCourse': false, 'isCollection': false,\n      'course_id': '', 'title': '', 'author': '', 'nickname': '', 'description': '',\n      'commentRate': 5,\n      'lessons': [],'comments': [], 'tags': []\n    }\n    this.child = React.createRef()\n    this.child2 = React.createRef()\n    this.child3 = React.createRef()\n    this.child4 = React.createRef()\n    this.checkCanComment = this.checkCanComment.bind(this)\n    this.checkMyCourse = this.checkMyCourse.bind(this)\n    this.checkIsCollection = this.checkIsCollection.bind(this)\n    this.loadCourse = this.loadCourse.bind(this)\n    this.loadLessons = this.loadLessons.bind(this)\n    this.loadComments = this.loadComments.bind(this)\n    this.deleteCourse = this.deleteCourse.bind(this)\n    this.openLesson = this.openLesson.bind(this)\n    this.createLesson = this.createLesson.bind(this)\n    this.collectionToggle = this.collectionToggle.bind(this)\n    this.submitComment = this.submitComment.bind(this)\n    this.editComment = this.editComment.bind(this)\n    this.deleteComment = this.deleteComment.bind(this)\n    this.rating = this.rating.bind(this)\n    this.reloadComments = this.reloadComments.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n    this.openTrue = this.openTrue.bind(this)\n    this.commentFieldToggle = this.commentFieldToggle.bind(this)\n  }\n\n  checkCanComment(id) {\n    fetch('/api/courses_comments?cc='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'canComment': result.canComment})\n        })\n      }\n    })\n  }\n\n  checkMyCourse(id) {\n    fetch('/api/my_courses?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'myCourse': result.myCourse })\n        })\n      }\n    })\n  }\n  \n  checkIsCollection(id) {\n    fetch('/api/course_collection?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'isCollection': result.isCollection })\n        })\n      }\n    })\n  }\n\n  loadCourse(id) {\n    fetch('/api/course?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ \n            'commentField': false,\n            'deleteCourse': false,\n            'course_id': result.course.course_id,\n            'title': result.course.title, \n            'author': result.course.author,\n            'nickname': result.course.nickname,\n            'description': result.course.description,\n            'tags': result.course.tags,\n            'create_date': result.course.create_date,\n            'avg_rate': result.course.avg_rate,\n            'raters': result.course.raters,\n          })\n        })\n      }\n    })\n  }\n\n  loadLessons(id) {\n    fetch('/api/lessons?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'lessons': result.lessons})\n        })\n      }\n    })\n\n  }\n  \n  loadComments(id) {\n    fetch('/api/courses_comments?c='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'comments': result.comments})\n        })\n      }\n    })\n  }\n\n  editCourse(title, tags, d) {\n    this.child2.current.loadCourse(title, tags, d)\n    this.child2.current.openToggle()\n    document.querySelector('.Course').scrollTo(0,0)\n  }\n\n  deleteCourse() {\n    fetch('/api/course?c='+this.state.course_id, { method: 'PATCH' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'deleteCourse': true })\n          this.props.loadCourses()\n          document.querySelector('.Course').scrollTo(0,0)\n          document.querySelector('.Course').style.overflowY = 'hidden'\n        })\n      }\n    })\n  }\n\n  openLesson(c, l) {\n    this.child4.current.loadLesson(c,l)\n    this.child4.current.openToggle()\n    console.log(document.querySelector('.Course').style.overflowY)\n    document.querySelector('.Course').scrollTo(0,0)\n    document.querySelector('.Course').style.overflowY = 'hidden'\n    console.log(document.querySelector('.Course').style.overflowY)\n  }\n\n  createLesson() {\n    this.child3.current.openToggle()\n    console.log(document.querySelector('.Course').style.overflowY)\n    document.querySelector('.Course').scrollTo(0,0)\n    document.querySelector('.Course').style.overflowY = 'hidden'\n    console.log(document.querySelector('.Course').style.overflowY)\n  }\n\n  collectionToggle(id, m) {\n    fetch('/api/course_collection?c='+id, {method: m}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.checkIsCollection(this.state.course_id)\n          this.props.loadCourses()\n        })\n      }\n    })\n  }\n\n  submitComment() {\n    let comment = window.frames['CourseComment'].document.body.innerHTML\n    console.log(comment)\n    fetch('/api/courses_comments', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_comment': \n        {\n          'course': this.state.course_id,\n          'comment': comment,\n          'rate': this.state.commentRate\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.reloadComments()\n        })\n      }\n    })\n  }\n\n  editComment(c, r) {\n    this.child.current.loadComment(c, r)\n    this.child.current.openToggle()\n    document.querySelector('.Course').scrollTop = 0\n    document.querySelector('.Course').style.overflowY = 'hidden'\n  }\n\n  deleteComment() {\n    fetch('/api/courses_comments?c='+this.state.course_id, { method: 'DELETE' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.reloadComments()\n        })\n      }\n    })\n  }\n\n  rating(r) {\n    this.setState({ 'commentRate': r })\n  }\n\n  reloadComments() {\n    this.loadCourse(this.state.course_id)\n    this.checkCanComment(this.state.course_id)\n    this.loadComments(this.state.course_id)\n  }\n\n  openToggle() {\n    this.setState({ 'open': !this.state.open })\n  }\n\n  openTrue() {\n    this.setState({ 'open': true })\n    if (this.child.current) this.child.current.openFalse()\n    if (this.child2.current) this.child2.current.openFalse()\n    if (this.child3.current) this.child3.current.openFalse()\n    if (this.child4.current) this.child4.current.openFalse()\n    document.querySelector('.Course').style.overflowY = 'scroll'\n    document.querySelector('.Lesson').style.overflowY = 'scroll'\n  }\n\n  commentFieldToggle() {\n    this.setState({ 'commentField': !this.state.commentField, 'commentRate': 5})\n  }\n\n  render() {\n    return(\n      <div className={this.state.open ? 'Course open' : 'Course close'}>\n        { this.state.deleteCourse ? \n          <div className=\"success_page\">\n            <div>Delete Course Success!</div>\n              <div className=\"btn\" onClick={this.openToggle}>Back to Course Page</div>\n          </div>\n        : null }\n\n        <div className=\"header sticky-top hidden\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Course</span>\n        </div>\n        \n        <div className=\"course-detail\">\n          <div className=\"title\">{this.state.title}</div>\n          <div className=\"author\" onClick={() => this.props.userInfoToggle(this.state.author)}>Author: {this.state.nickname}</div>\n          <div className=\"description\" dangerouslySetInnerHTML={{__html: this.state.description}}></div>\n          <div className=\"tags\">Tags: {this.state.tags.map(t => t+' ')}</div>\n          <div style={{textAlign: 'right', padding: '1vh 1vh 0 1vh'}}>\n              {this.state.create_date && new Date(this.state.create_date).toISOString().split('T')[0]}&nbsp;\n              {this.state.create_date && new Date(this.state.create_date).toISOString().split('T')[1].split('.')[0]}\n          </div>\n        </div>\n\n        {this.state.lessons.length > 0 ? \n          <div className=\"lesson-panel\">\n            <div className=\"lesson\" style={{cursor: 'default', borderBottom: '1px solid darkgray'}}>Lessons</div>\n            {this.state.lessons.map(lesson => \n              <div className=\"lesson\" onClick={() => this.openLesson(this.state.course_id, lesson.lesson_num)}>\n                {lesson.title}  \n                {lesson.video_link ? <span style={{background: 'lightskyblue', margin: '0 0.5vh', fontSize: '2vh', padding: '0.5vh', borderRadius: '5px'}}>Video</span> : null} \n                {lesson.filename ? <span style={{background: 'lightyellow', margin: '0 0.5vh', fontSize: '2vh', padding: '0.5vh', borderRadius: '5px'}}>File</span> : null}\n              </div>\n            )}\n        </div>\n\n        : null}\n\n        <div className=\"course-btn-panel\">\n          {this.state.myCourse ? \n            <div className=\"create\" onClick={this.createLesson}>Create Lesson</div>\n          : null}\n\n          {this.state.myCourse ? \n            <div className=\"flex\">\n              <div className=\"edit\" onClick={() => this.editCourse(this.state.title, this.state.tags, this.state.description)}>Edit Course</div>\n              <div className=\"delete\" onClick={this.deleteCourse}>Delete Course</div>\n            </div>\n          : null}\n\n          <div className=\"rate\">Course Rate: {this.state.avg_rate ? this.state.avg_rate.toFixed(2) : '--'}({this.state.raters ? this.state.raters : '--'})</div>\n\n          {this.state.isCollection ? \n             <div className=\"collection remove\" onClick={() => this.collectionToggle(this.state.course_id, 'DELETE')}>Remove from Collection</div>\n          :  <div className=\"collection add\" onClick={() => this.collectionToggle(this.state.course_id, 'POST')}>Add to Collection</div> }\n        </div>\n\n        <div className=\"comments-header\">Comments</div>\n\n        {this.state.canComment ? \n          <div className=\"comments-header\" style={{background: 'lightgreen', fontWeight: 'auto'}}>\n            <div onClick={this.commentFieldToggle} style={{cursor: 'pointer'}}>I want to comment!</div> \n            {this.state.commentField ? \n              <div>\n                {[...Array(5).keys()].map(i => \n                  (this.state.commentRate < i+1 ? \n                    <img src={imgEmptyStar} onClick={() => this.rating(i+1)}/> \n                  : <img src={imgStar} onClick={() => this.rating(i+1)}/> )\n                )}\n                <span>{this.state.commentRate}</span>\n                <TextEditor editor='CourseComment'/>\n                <button onClick={this.submitComment}>Submit</button>\n              </div> \n            : null}\n          </div>\n        : null}\n        {this.state.comments.length > 0 ?\n          <ul className=\"comment-list\">\n            {this.state.comments.map(c => {\n              if (c.create_by !== this.state.solved_by) {\n                return(\n                  <li>\n                    <div onClick={() => this.props.userInfoToggle(c.create_by)}>\n                      {c.nickname}&nbsp;\n                      {[...Array(5).keys()].map(i => \n                        (c.rating < i+1 ? \n                          <img src={imgEmptyStar}/> \n                        : <img src={imgStar}/> \n                        )\n                      )}\n                      <span style={{float: 'right'}}>\n                          {new Date(c.create_date).toISOString().split('T')[0]}&nbsp;\n                          {new Date(c.create_date).toISOString().split('T')[1].split('.')[0]}\n                      </span>\n                    </div>\n                    <div className=\"comment-content\" dangerouslySetInnerHTML={{__html: c.content}}></div>\n                    {this.props.user_id === c.create_by ? \n                      <div className=\"flex\">\n                        <div className=\"edit\" onClick={() => this.editComment(c.content, c.rating)}>Edit</div>\n                        <div className=\"delete\" onClick={this.deleteComment}>Delete</div>\n                      </div>\n                    : null}\n                  </li>\n                )\n              }\n            })}\n          </ul>\n        : null} \n      \n         {this.state.myCourse ?\n           <EditCourse ref={this.child2} reload={() => this.loadCourse(this.state.course_id)} course_id={this.state.course_id}/>\n         : <EditComment ref={this.child} reload={this.reloadComments} course_id={this.state.course_id}/> }\n\n         {this.state.myCourse ? <CreateLesson ref={this.child3} course_id={this.state.course_id} reload={() => this.loadLessons(this.state.course_id)}/> : null}\n\n         <Lesson ref={this.child4} myCourse={this.state.myCourse} loadLessons={() => this.loadLessons(this.state.course_id)}/>\n\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport Course from './Course.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Courses extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { \n      'new': [], 'hot':[], 'recommand': [],\n      'search_mode': false, 'search_query': '', 'search_method': 'title','search_result': []\n    }\n    this.child = React.createRef()\n    this.loadCourses = this.loadCourses.bind(this)\n    this.loadCourseSearch = this.loadCourseSearch.bind(this) \n    this.callCourse = this.callCourse.bind(this)\n    this.inputOnChange = this.inputOnChange.bind(this)\n    this.inputKeyDown = this.inputKeyDown.bind(this)\n    this.methodOnChange = this.methodOnChange.bind(this)\n    this.back =  this.back.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadCourses()\n    document.querySelector('title').innerHTML = 'Courses - FYP'\n  }\n\n  loadCourses() {\n    fetch('/api/courses').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ \n            'new': result.courses.new,\n            'hot': result.courses.hot,\n            'recommand': result.courses.recommand,\n          }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  loadCourseSearch() {\n    fetch('/api/courses', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ \n        'search_query': this.state.search_query,\n        'search_method': this.state.search_method\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'search_result': result.search_result }, () => console.log(this.state))\n          this.setState({ 'search_mode': true })\n        })\n      }\n    })\n  }\n\n  callCourse(id) {\n    this.child.current.loadCourse(id)\n    this.child.current.loadLessons(id)\n    this.child.current.loadComments(id)\n    this.child.current.checkCanComment(id)\n    this.child.current.checkMyCourse(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openTrue()\n  }\n\n  inputOnChange(event) {\n    this.setState({ 'search_query': event.target.value })\n  }\n\n  inputKeyDown(event) {\n    if (event.key === 'Enter') this.loadCourseSearch()\n  }\n\n  methodOnChange(e) {\n    console.log(e.target.value)\n    this.setState({'search_method': e.target.value})\n  }\n  \n  back() {\n    this.loadCourses()\n    this.setState({ 'search_mode': false, 'search_query': '' })\n  }\n\n  render() {\n    return (\n      <div className=\"Courses content\">\n        <div className=\"search-panel\">\n          <select onChange={this.methodOnChange} value={this.state.search_method}>\n            <option value='title'>Title</option>\n            <option value='tags'>Tags</option>\n            <option value='author'>Author</option>\n          </select>\n          <input type='text' placeholder='Search Courses Here!' value={this.state.search_query} onChange={this.inputOnChange} onKeyDown={this.inputKeyDown}/>\n          <span onClick={this.loadCourseSearch}>Search</span>\n        </div>\n\n        {this.state.search_mode ? \n          <div>\n            <h1 className=\"title\"><img src={imgBack} onClick={this.back}/>Search Results</h1>\n            <ul className=\"course-list\">\n              {this.state.search_result.map(c => \n                <li onClick={() => this.callCourse(c.course_id)}>\n                  <h4>{c.title}</h4>\n                  <h6>Author: {c.nickname} <span>{new Date(c.create_date).toISOString().split('T')[0]} {new Date(c.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n                  <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n                </li>\n              )}\n            </ul>\n          </div>\n        :\n          <div>\n            { this.props.user_type === 'teacher' ? <NavLink className=\"option\" to='/courses/create'><div>Create Course</div></NavLink> : null }\n            { this.props.user_type === 'teacher' ? <NavLink className=\"option\" to='/courses/my'><div>My Courses</div></NavLink> : null }\n            <NavLink className=\"option\" to='/courses/collection'><div>My Collection</div></NavLink>\n\n            <h1 className=\"title\">New</h1>\n            <hr/>\n            <ul className='course-list'>\n              {this.state.new.map(c => \n                <li onClick={() => this.callCourse(c.course_id)}>\n                  <h4>{c.title}</h4>\n                  <h6>Author: {c.nickname} <span>{new Date(c.create_date).toISOString().split('T')[0]} {new Date(c.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n                  <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n                </li>\n              )}\n            </ul>\n            <h1 className=\"title\">Hotest</h1>\n            <hr/>\n            <ul className=\"course-list\">\n              {this.state.hot.map(c => \n                <li onClick={() => this.callCourse(c.course_id)}>\n                  <h4>{c.title}</h4>\n                  <h6>Author: {c.nickname} <span>{new Date(c.create_date).toISOString().split('T')[0]} {new Date(c.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n                  <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n                </li>\n              )}\n            </ul>\n            <h1 className=\"title\">Recommand</h1>\n            <hr/>\n            <ul className=\"course-list\">\n              {this.state.recommand.map(c => \n                <li onClick={() => this.callCourse(c.course_id)}>\n                  <h4>{c.title}</h4>\n                  <h6>Author: {c.nickname} <span>{new Date(c.create_date).toISOString().split('T')[0]} {new Date(c.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n                  <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n                </li>\n              )}\n            </ul>\n          </div>\n        }\n        <Course ref={this.child} user_id={this.props.user_id} loadCourses={this.loadCourses} userInfoToggle={this.props.userInfoToggle}/>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nexport default class CreateCourse extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'success_page': false,\n      'tags': [''],\n    }\n    this.output = this.output.bind(this)\n    this.newTag = this.newTag.bind(this)\n    this.popTag = this.popTag.bind(this)\n    this.tagInputOnChange = this.tagInputOnChange.bind(this)\n  }\n\n  output() {\n    let title = document.querySelector('.CreateCourses > input').value\n    let description = window.frames['CreateCourse'].document.body.innerHTML\n    if (description !== '' && title !== '' && !this.state.tags.includes('')) {\n      fetch('/api/course', { \n        method: 'POST' ,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'create_course': \n          {\n            'title': title,\n            'description': description,\n            'tags': this.state.tags\n          } \n        })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n          })\n        }\n      })  \n    } else {\n      alert('Plase fill in Title, Detail and Tag(s).')\n    }\n  }\n\n  newTag() {\n    if (this.state.tags.length < 10) {\n      let newTags = this.state.tags\n      newTags.push('')\n      this.setState({ 'tags': newTags })\n    }\n  }\n\n  popTag(i) {\n    if (this.state.tags.length > 1) {\n      let newTags = this.state.tags\n      newTags.splice(i, 1)\n      this.setState({ 'tags': newTags })\n    }\n  }\n\n  tagInputOnChange(v, i) {\n    let newTags = this.state.tags\n    newTags[i] = v\n    this.setState({ 'tag': newTags }, () => console.log(this.state.tags))\n  }\n\n  render() {\n    return (\n      <div className=\"CreateCourses content\">\n        { this.state.success_page ? \n          <div className=\"success_page create\">\n            <div>Success!</div>\n            <Link to='/courses'>\n              <div>Back to Courses Page</div>\n            </Link>\n          </div>\n        : null }\n        <input type='text' placeholder='Courses Title' required maxLength='40'/>\n        <div style={{fontSize: '2.5vh', width: '95%', margin: 'auto'}}>Course Description:</div>        \n        <TextEditor editor='CreateCourse'/>\n\n        <div>Courses Tags <img className=\"add\" onClick={this.newTag} src=\"https://img.icons8.com/flat_round/64/000000/plus.png\"/></div>\n        <ol>\n          { this.state.tags.map((t, index) => \n            <li>\n              <input type='text' className='tag-input' value={t} maxLength='15' onChange={e => this.tagInputOnChange(e.target.value, index)}/>\n\n              { index !== 0 ? <img className=\"minus\" src=\"https://img.icons8.com/flat_round/64/000000/minus.png\" onClick={() => this.popTag(index)}/> : null }\n            </li>\n          ) }\n        </ol>\n\n        <button style={{display: 'block'}} className='submit' onClick={this.output}>Create</button>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport Course from './Course.jsx'\n\nexport default class MyCourses extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { 'myCourses': [] }\n    this.child = React.createRef()\n    this.loadCourses = this.loadCourses.bind(this)\n    this.callCourse = this.callCourse.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadCourses()\n  }\n\n  loadCourses() {\n    fetch('/api/my_courses').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ \n            'myCourses': result.my_courses,\n          }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  callCourse(id) {\n    this.child.current.loadCourse(id)\n    this.child.current.loadLessons(id)\n    this.child.current.loadComments(id)\n    this.child.current.checkCanComment(id)\n    this.child.current.checkMyCourse(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  render() {\n    return (\n      <div className=\"MyCourses content\">\n        <ul className='course-list'>\n          {this.state.myCourses.map(c => \n            <li onClick={() => this.callCourse(c.course_id)}>\n              <h4>{c.title}</h4>\n              <h6>Author: {c.nickname} <span>{new Date(c.create_date).toISOString().split('T')[0]} {new Date(c.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n              <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n            </li>\n          )}\n        </ul>\n\n        <Course ref={this.child} user_id={this.props.user_id} loadCourses={this.loadCourses} userInfoToggle={this.props.userInfoToggle}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport Course from './Course.jsx'\n\nexport default class CourseCollection extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { 'CourseCollection': [] }\n    this.child = React.createRef()\n    this.loadCourses = this.loadCourses.bind(this)\n    this.callCourse = this.callCourse.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadCourses()\n  }\n\n  loadCourses() {\n    fetch('/api/course_collection').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ \n            'CourseCollection': result.course_collection,\n          }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  callCourse(id) {\n    this.child.current.loadCourse(id)\n    this.child.current.loadLessons(id)\n    this.child.current.loadComments(id)\n    this.child.current.checkCanComment(id)\n    this.child.current.checkMyCourse(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  render() {\n    return (\n      <div className=\"CourseCollection content\">\n        <ul className='course-list'>\n          {this.state.CourseCollection.map(c => \n            <li onClick={() => this.callCourse(c.course_id)}>\n              <h4>{c.title}</h4>\n              <h6>Author: {c.nickname} <span>{new Date(c.create_date).toISOString().split('T')[0]} {new Date(c.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n              <div dangerouslySetInnerHTML={{__html: c.description}}></div>\n            </li>\n          )}\n        </ul>\n\n        <Course ref={this.child} user_id={this.props.user_id} loadCourses={this.loadCourses} userInfoToggle={this.props.userInfoToggle}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class EditAnswer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false\n    }\n    this.openToggle = this.openToggle.bind(this)\n    this.loadAnswer = this.loadAnswer.bind(this)\n    this.submitEditedAnswer = this.submitEditedAnswer.bind(this)\n    this.openFalse = this.openFalse.bind(this)\n  }\n\n  loadAnswer(a) {\n    window.frames['EditAnswer'].document.body.innerHTML = a\n  } \n\n  submitEditedAnswer() {\n    let editedAnswer = window.frames['EditAnswer'].document.body.innerHTML\n    fetch('/api/submit_answer', {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_edited_answer': \n        {\n          'question': this.props.question_id,\n          'edited_answer': editedAnswer\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.props.reload()\n          this.openToggle()\n        })\n      }\n    })\n  }\n\n  openToggle() {\n    this.setState({'open': !this.state.open})\n  }\n\n  openFalse() {\n    this.setState({'open': false})\n  }\n  \n  render() {\n    return (\n      <div className={this.state.open ? 'EditAnswer open' : 'EditAnswer close'}>\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Edit Answer</span>\n        </div>\n        <TextEditor editor='EditAnswer'/>\n        <button className=\"submit\" onClick={this.submitEditedAnswer}>Submit Edited Answer</button>\n      </div>\n    )\n  }\n}\n\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport EditAnswer from './EditAnswer.jsx'\nimport TextEditor from '../../TextEditor.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Question extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'open': false, 'answerField': false, 'deleteQuestion': false,\n      'canAnswer': false, 'myQuestion': false, 'isCollection': false,\n      'question_id': '', 'title': '', 'create_by': '', 'nickname': '', 'detail': '', 'solved_by': 0,\n      'answers': []\n    }\n    this.child = React.createRef()\n    this.checkCanAnswer = this.checkCanAnswer.bind(this)\n    this.checkMyQuestion = this.checkMyQuestion.bind(this)\n    this.checkIsCollection = this.checkIsCollection.bind(this)\n    this.loadQuestion = this.loadQuestion.bind(this)\n    this.loadAnswers = this.loadAnswers.bind(this)\n    this.deleteQuestion = this.deleteQuestion.bind(this)\n    this.solveQuestion = this.solveQuestion.bind(this)\n    this.collectionToggle = this.collectionToggle.bind(this)\n    this.submitAnswer = this.submitAnswer.bind(this)\n    this.editAnswer = this.editAnswer.bind(this)\n    this.deleteAnswer = this.deleteAnswer.bind(this)\n    this.likeAnswer = this.likeAnswer.bind(this)\n    this.reload = this.reload.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n    this.openTrue = this.openTrue.bind(this)\n    this.answerFieldToggle = this.answerFieldToggle.bind(this)\n  }\n\n  checkCanAnswer(id) {\n    fetch('/api/check_can_answer/'+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'canAnswer': result.canAnswer})\n        })\n      }\n    })\n  }\n\n  checkMyQuestion(id) {\n    fetch('/api/my_questions?q='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'myQuestion': result.myQuestion }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n  \n  checkIsCollection(id) {\n    fetch('/api/question_collection?q='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'isCollection': result.isCollection }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  loadQuestion(id) {\n    fetch('/api/question?q='+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result.question)\n          this.setState({ \n            'answerField': false,\n            'deleteQuestion': false,\n            'question_id': result.question.question_id,\n            'title': result.question.title, \n            'create_by': result.question.create_by,\n            'nickname': result.question.nickname,\n            'detail': result.question.detail,\n            'create_date': result.question.create_date,\n            'solved_by': result.question.solved_by\n          })\n        })\n      }\n    })\n  }\n\n  loadAnswers(id) {\n    fetch('/api/answers/'+id).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({'answers': result.answers})\n        })\n      }\n    })\n  }\n\n  deleteQuestion() {\n    fetch('/api/question?q='+this.state.question_id, { method: 'PATCH' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'deleteQuestion': true })\n          this.props.loadQuestions()\n        })\n      }\n    })\n  }\n\n  solveQuestion(user_id) {\n    console.log(user_id)\n    fetch('/api/solve_question', { \n      method: 'DELETE',\n      method: 'PATCH', \n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'solve_question': \n        { \n          'question': this.state.question_id,\n          'solved_by': user_id\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadQuestion(this.state.question_id)\n          this.props.loadQuestions()\n        })\n      }\n    })\n  }\n\n  collectionToggle(id, m) {\n    fetch('/api/question_collection?q='+id, {method: m}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.checkIsCollection(this.state.question_id)\n          this.props.loadQuestions()\n        })\n      }\n    })\n  }\n\n  submitAnswer() {\n    let answer = QuestionComment.document.body.innerHTML\n    console.log(answer)\n    fetch('/api/submit_answer',{\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'submit_answer': \n        {\n          'question': this.state.question_id,\n          'answer': answer\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.reload()\n        })\n      }\n    })\n  }\n\n  editAnswer(a) {\n    this.child.current.loadAnswer(a)\n    this.child.current.openToggle()\n    document.querySelector('.Question').scrollTo(0,0)\n  }\n\n  deleteAnswer() {\n    fetch('/api/submit_answer', {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'delete_answer': \n        {\n          'question': this.state.question_id\n        }\n      })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.reload()\n        })\n      }\n    })\n  }\n\n  likeAnswer(create_by, m) {\n    fetch('/api/answer_likes?q='+this.state.question_id+'&c='+create_by, { method: m }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadAnswers(this.state.question_id)\n        })\n      }\n    })\n  }\n\n  reload() {\n    this.checkCanAnswer(this.state.question_id)\n    this.loadAnswers(this.state.question_id)\n  }\n\n  openToggle() {\n    this.setState({ 'open': !this.state.open })\n  }\n  \n  openTrue() {\n    this.setState({ 'open': true })\n    if (this.child.current) this.child.current.openFalse()\n  }\n  \n  answerFieldToggle() {\n    this.setState({ 'answerField': !this.state.answerField })\n  }\n  \n  render() {\n    let imgLink = window.location.origin + \"/static/images/\"\n    return (\n      <div className={this.state.open ? 'Question open' : 'Question close'}>\n        { this.state.deleteQuestion ? \n          <div className=\"success_page\">\n            <div>Delete Question Success!</div>\n            <div className=\"btn\" onClick={this.openToggle}>Back to Questions Page</div>\n          </div>\n        : null }\n        \n        <div className=\"header sticky-top hidden\">\n          <img className='header-icon' src={imgBack} onClick={this.openToggle}/>\n          <span>Question</span>\n        </div>\n        \n        <div className=\"Question-detail\">\n          <div className=\"question-basic\">\n            <div className=\"question-title\">{this.state.title}</div>\n            <div className=\"create_by\" onClick={() => this.props.userInfoToggle(this.state.create_by)}>\n              {this.state.nickname} {this.state.create_date ? \n                <span>{new Date(this.state.create_date).toISOString().split('T')[0]} {new Date(this.state.create_date).toISOString().split('T')[1].split('.')[0]}</span>\n              : null}\n            </div>\n          </div>\n          <div className=\"question-detail\" dangerouslySetInnerHTML={{__html: this.state.detail}}></div>\n\n          {this.state.myQuestion ? \n            <div className=\"delete\" onClick={this.deleteQuestion}>Delete Question</div>\n          : null}\n\n          {this.state.isCollection ? \n             <div className=\"collection remove\" onClick={() => this.collectionToggle(this.state.question_id, 'DELETE')}>Remove from Collection</div>\n          :  <div className=\"collection add\" onClick={() => this.collectionToggle(this.state.question_id, 'POST')}>Add to Collection</div> }\n\n          <h3 className=\"question-header\">Answer</h3>\n\n          {this.state.solved_by !== null ?\n            this.state.answers.map(a => {\n              if (a.create_by === this.state.solved_by) {\n                return(\n                  <div>\n                    <div className=\"best-answer-header\">Best Answer</div>\n\n                    <div className=\"answer-basic create_by\" onClick={() => this.props.userInfoToggle(a.create_by)}>\n                      {a.nickname} {a.create_date ? \n                        <span>{new Date(this.state.create_date).toISOString().split('T')[0]} {new Date(this.state.create_date).toISOString().split('T')[1].split('.')[0]}</span>\n                      : null}\n                    </div>\n                    <div className=\"answer-detail\"dangerouslySetInnerHTML={{__html: a.answer}}></div>\n                    { a.user_liked ? \n                      <div className=\"collection remove\" onClick={() => this.likeAnswer(a.create_by, 'DELETE')}>Unlike (Like: {a.likes ? a.likes : 0})</div>\n                    : <div className=\"collection add\" onClick={() => this.likeAnswer(a.create_by, 'POST')}>Like (Like: {a.likes ? a.likes : 0})</div>}\n                  </div>\n                )\n              }\n            })\n          : null}\n          \n          {this.state.solved_by !== null && this.state.myQuestion ? \n            <div className=\"delete cancel\" onClick={() => this.solveQuestion(0)}>Cancel Solved</div>\n          : null}\n\n          {this.state.canAnswer ? \n            <div className=\"question-header\">\n              <div onClick={this.answerFieldToggle}>I want to answer!</div> \n              {this.state.answerField ? \n                <div>\n                  <TextEditor editor='QuestionComment'/>\n                  <button onClick={this.submitAnswer}>Submit</button>\n                </div> \n              : null}\n            </div>\n           : null}\n\n           {this.state.answers.map(a => {\n             if (a.create_by !== this.state.solved_by) {\n               return(\n                 <div>\n                    <div className=\"answer-basic create_by\" onClick={() => this.props.userInfoToggle(a.create_by)}>\n                      {a.nickname} {a.create_date ? \n                        <span>{new Date(this.state.create_date).toISOString().split('T')[0]} {new Date(this.state.create_date).toISOString().split('T')[1].split('.')[0]}</span>\n                      : null}\n                    </div>\n                    <div className=\"answer-detail\"dangerouslySetInnerHTML={{__html: a.answer}}></div>\n                    { a.user_liked ? \n                      <div className=\"collection remove\" onClick={() => this.likeAnswer(a.create_by, 'DELETE')}>Unlike (Like: {a.likes ? a.likes : 0})</div>\n                    : <div className=\"collection add\" onClick={() => this.likeAnswer(a.create_by, 'POST')}>Like (Like: {a.likes ? a.likes : 0})</div>}\n                   {this.props.user_id === a.create_by ? \n                     <div>\n                       <div className=\"delete cancel\" onClick={() => this.editAnswer(a.answer)}>Edit</div>\n                       <div className=\"delete\" onClick={this.deleteAnswer}>Delete</div>\n                     </div>\n                   : null}\n                   {(this.state.solved_by === 0 || this.state.solved_by === null) && this.state.myQuestion ? \n                     <div className=\"collection add\" onClick={() => this.solveQuestion(a.create_by)}>This Answer Solve My Question!</div>\n                   : null}\n                 </div>\n               )\n             }\n           })}\n        </div>\n\n        <EditAnswer ref={this.child} question_id={this.state.question_id} reload={this.reload}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport Question from './Question.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Questions extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'new': [], 'hot': [],\n      'search_mode': false, 'search_query': '', 'search_result': []\n    }\n    this.child = React.createRef()\n    this.loadQuestions = this.loadQuestions.bind(this)\n    this.loadQuestionSearch = this.loadQuestionSearch.bind(this)\n    this.callQuestion = this.callQuestion.bind(this)\n    this.inputOnChange = this.inputOnChange.bind(this)\n    this.inputKeyDown = this.inputKeyDown.bind(this)\n    this.back =  this.back.bind(this)\n  }\n  \n  componentDidMount() {\n    this.loadQuestions()\n    document.querySelector('title').innerHTML = 'Questions - FYP'\n  }\n\n  loadQuestions() {\n    fetch('/api/questions').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ \n            'new': result.questions.new,\n            'hot': result.questions.hot\n          }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  loadQuestionSearch() {\n    fetch('/api/questions', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ 'search_query': this.state.search_query })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'search_result': result.search_result }, () => console.log(this.state))\n          this.setState({ 'search_mode': true })\n        })\n      }\n    })\n  }\n\n  callQuestion(id) {\n    this.child.current.loadQuestion(id)\n    this.child.current.loadAnswers(id)\n    this.child.current.checkCanAnswer(id)\n    this.child.current.checkMyQuestion(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openTrue()\n  }\n\n  inputOnChange(event) {\n    this.setState({ 'search_query': event.target.value })\n  }\n\n  inputKeyDown(event) {\n    if (event.key === 'Enter') this.loadQuestionSearch()\n  }\n  \n  back() {\n    this.loadQuestions()\n    this.setState({ 'search_mode': false, 'search_query': '' })\n  }\n\n  render() {\n    return (\n      <div className=\"Questions content\">\n        <div className=\"search-panel\">\n          <input type='text' placeholder='Search Questions Here!' value={this.state.search_query} onChange={this.inputOnChange} onKeyDown={this.inputKeyDown}/>\n          <span onClick={this.loadQuestionSearch}>Search</span>\n        </div>\n        {this.state.search_mode ? \n          <div>\n            <h1 className=\"title\"><img src={imgBack} onClick={this.back}/>Search Results</h1>\n            <ul className=\"question-list\">\n              {this.state.search_result.map(q => \n                <li onClick={() => this.callQuestion(q.question_id)}>\n                  <h4>{q.title}</h4>\n                  <h6>Ask By: {q.nickname} <span>{new Date(q.create_date).toISOString().split('T')[0]} {new Date(q.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n                  {q.solved_by ? <h6 className=\"solved\">Solved</h6> : <h6 className=\"not-solved\">Not Solved</h6> }\n                </li>\n              )}\n            </ul>\n          </div>\n        : \n          <div>\n            <NavLink to='/questions/create' className=\"option\"><div>Ask Questions</div></NavLink>\n            <NavLink to='/questions/my' className=\"option\"><div>My Questions</div></NavLink>\n            <NavLink to='/questions/collection' className=\"option\"><div>My Collection</div></NavLink>\n            <h1 className=\"title\">New</h1>\n            <ul className=\"question-list\">\n              {this.state.new.map(q => \n                <li onClick={() => this.callQuestion(q.question_id)}>\n                  <h4>{q.title}</h4>\n                  <h6>Ask By: {q.nickname} <span>{new Date(q.create_date).toISOString().split('T')[0]} {new Date(q.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n                  {q.solved_by ? <h6 className=\"solved\">Solved</h6> : <h6 className=\"not-solved\">Not Solved</h6> }\n                </li>\n              )}\n            </ul>\n            <h1 className=\"title\">Hotest</h1>\n            <ul className=\"question-list\">\n              {this.state.hot.map(q => \n                <li onClick={() => this.callQuestion(q.question_id)}>\n                  <h4>{q.title}</h4>\n                  <h6>Ask By: {q.nickname} <span>{new Date(q.create_date).toISOString().split('T')[0]} {new Date(q.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n                  {q.solved_by ? <h6 className=\"solved\">Solved</h6> : <h6 className=\"not-solved\">Not Solved</h6> }\n                </li>\n              )}\n            </ul>\n          </div>\n          }\n\n        <Question ref={this.child} user_id={this.props.user_id} loadQuestions={this.loadQuestions} userInfoToggle={this.props.userInfoToggle}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport TextEditor from '../../TextEditor.jsx'\n\nexport default class CreateQuestion extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'success_page': false\n    }\n    this.output = this.output.bind(this)\n  }\n\n  output() {\n    let title = document.querySelector('.CreateQuestions > input').value\n    let content = window.frames['CreateQuestion'].document.body.innerHTML\n    if (content !== '' && title !== '') {\n      fetch('/api/question', { \n        method: 'POST' ,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'create_question': \n          {\n            'title': title,\n            'content': content\n          } \n        })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n          })\n        }\n      })  \n    } else {\n      alert('Plase fill in Title and Detail.')\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"CreateQuestions content\">\n        { this.state.success_page ? \n          <div className=\"success_page create\">\n            <div>Success!</div>\n            <Link to='/questions'>\n              <div className=\"btn\">Back to Questions Page</div>\n            </Link>\n          </div>\n        : null }\n        <input type='text' placeholder='Question Title' required/>\n        <TextEditor editor='CreateQuestion'/>\n        <button className='submit' onClick={this.output}>Ask!</button>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport Question from './Question.jsx'\n\nexport default class MyQuestions extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'my_questions': []\n    }\n    this.loadMyQuestions = this.loadMyQuestions.bind(this)\n    this.callQuestion = this.callQuestion.bind(this)\n    this.child = React.createRef()\n  }\n  \n  componentDidMount() {\n    this.loadMyQuestions()\n  }\n\n  loadMyQuestions() {\n    fetch('/api/my_questions').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'my_questions': result.my_questions }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  callQuestion(id) {\n    this.child.current.loadQuestion(id)\n    this.child.current.loadAnswers(id)\n    this.child.current.checkCanAnswer(id)\n    this.child.current.checkMyQuestion(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  render() {\n    return (\n      <div className=\"MyQuestions content\">\n        <ul className=\"question-list\">\n          {this.state.my_questions.map(q => \n            <li onClick={() => this.callQuestion(q.question_id)}>\n              <h4>{q.title}</h4>\n              <h6>Ask By: {q.nickname} <span>{new Date(q.create_date).toISOString().split('T')[0]} {new Date(q.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n              {q.solved_by ? <h6 className=\"solved\">Solved</h6> : <h6 className=\"not-solved\">Not Solved</h6> }\n            </li>\n          )}\n        </ul>\n        <div style={{textAlign: 'center'}}>--- Bottom ---</div>\n        <Question ref={this.child} user_id={this.props.user_id} loadQuestions={this.loadMyQuestions} userInfoToggle={this.props.userInfoToggle}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport Question from './Question.jsx'\n\nexport default class QuestionCollection extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'question_collection': []\n    }\n    this.loadQuestionCollection = this.loadQuestionCollection.bind(this)\n    this.callQuestion = this.callQuestion.bind(this)\n    this.child = React.createRef()\n  }\n  \n  componentDidMount() {\n    this.loadQuestionCollection()\n  }\n\n  loadQuestionCollection() {\n    fetch('/api/question_collection').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'question_collection': result.question_collection }, () => console.log(this.state))\n        })\n      }\n    })\n  }\n\n  callQuestion(id) {\n    this.child.current.loadQuestion(id)\n    this.child.current.loadAnswers(id)\n    this.child.current.checkCanAnswer(id)\n    this.child.current.checkMyQuestion(id)\n    this.child.current.checkIsCollection(id)\n    this.child.current.openToggle()\n  }\n\n  render() {\n    return (\n      <div className=\"QuestionCollection content\">\n        <ul className=\"question-list\">\n          {this.state.question_collection.map(q => \n            <li onClick={() => this.callQuestion(q.question_id)}>\n              <h4>{q.title}</h4>\n              <h6>Ask By: {q.nickname} <span>{new Date(q.create_date).toISOString().split('T')[0]} {new Date(q.create_date).toISOString().split('T')[1].split('.')[0]}</span></h6>\n              {q.solved_by ? <h6 className=\"solved\">Solved</h6> : <h6 className=\"not-solved\">Not Solved</h6> }\n            </li>\n          )}\n        </ul>\n        <div style={{textAlign: 'center'}}>--- Bottom ---</div>\n        <Question ref={this.child} user_id={this.props.user_id} loadQuestions={this.loadQuestionCollection} userInfoToggle={this.props.userInfoToggle}/>\n      </div>\n    )\n  }\n}\n\n","import React from 'react'\nimport { Link, Redirect, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass Classroom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false, 'editToggle': false, 'success_page': false,\n      'classroom_id': '', 'name': '', 'description': '', 'create_by': '', 'nickname': '', 'create_date': '',\n      'newName': '', 'newDescription': ''\n    }\n    this.loadClassroom = this.loadClassroom.bind(this)\n    this.editClassroom = this.editClassroom.bind(this)\n    this.editToggle = this.editToggle.bind(this)\n    this.deleteClassroom = this.deleteClassroom.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadClassroom()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params && prevProps.match.path === this.props.match.path) {\n      this.loadClassroom()\n    }     \n  }\n  \n  loadClassroom() {\n    console.log(this.props)\n    fetch('/api/classroom?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          if (result.classroom !== 'Error') {\n            this.setState({\n              'permission': true,\n              'classroom_id': result.classroom.classroom_id,\n              'name': result.classroom.name,\n              'newName': result.classroom.name,\n              'description': result.classroom.description,\n              'newDescription': result.classroom.description,\n              'create_by': result.classroom.create_by,\n              'nickname': result.classroom.nickname,\n              'create_date': result.classroom.create_date\n            })\n          } else {\n            this.props.history.goBack()\n          }\n        })\n      }\n    })\n  }\n\n  newNameInputOnChange(value) {\n    this.setState({ 'newName': value })\n  }\n\n  newDescriptionOnChange(value) {\n    this.setState({ 'newDescription': value })\n  }\n\n  editClassroom(e) {\n    e.preventDefault()\n    let form = document.forms.form_editClassroom\n\n    if (form.classroom_name.value !== '') {\n      fetch('/api/classroom?c='+this.props.match.params.class, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          'editClassroom': {\n            'name': form.classroom_name.value,\n            'description': form.classroom_description.value\n          }\n        })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            form.classroom_name.value = ''\n            form.classroom_description.value = ''\n            this.editToggle()\n            this.loadClassroom()\n            this.props.reload()\n          })\n        }\n      })\n    } else {\n      alert('Please at least fill in the name of the classroom.')\n    }\n  }\n\n  editToggle() {\n    this.setState({'editToggle': !this.state.editToggle})\n  }\n\n  deleteClassroom() {\n    fetch('/api/classroom?c='+this.props.match.params.class, {method: 'DELETE'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'success_page': true})\n          this.props.reload()\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"Classroom content part\">\n        <div className=\"header sticky-top hidden\">\n          <Link className=\"header-icon\" to={'/classrooms'}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Classroom</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div className=\"success_page\">\n                <div>Delete Success!</div>\n                <Link to='/classrooms'>\n                  <div className=\"btn\">Back to Classrooms</div>\n                </Link>\n              </div>\n            : null }\n            <div className=\"block classroom\">\n              <div className=\"name\">{this.state.name}</div>\n              <div className=\"nickname\" onClick={() => this.props.userInfoToggle(this.state.create_by)}>Teacher: {this.state.nickname}</div>\n              <div className=\"description\"><pre style={{fontFamily: 'inherit'}}>{this.state.description}</pre></div>\n              <div className=\"date\">&nbsp;<span>{new Date(this.state.create_date).toISOString().split('T')[0]} {new Date(this.state.create_date).toISOString().split('T')[1].split('.')[0]}</span></div>\n            </div>\n            <ul className=\"classroom-item\">\n              { this.props.user_type === 'teacher' ?\n                <li onClick={this.editToggle} className=\"edit\">Edit Classroom</li>\n                : null}\n              {this.state.editToggle && this.props.user_type === 'teacher' ? \n                <li className=\"edit\">\n                  <form name='form_editClassroom' onSubmit={this.editClassroom}>\n                    <input type=\"text\" name=\"classroom_name\" placeholder=\"Name of the Classroom\" value={this.state.newName} onChange={e => this.newNameInputOnChange(e.target.value)} required/>\n                    <textarea name=\"classroom_description\" placeholder=\"Desceibe the Classroom here...\" value={this.state.newDescription} onChange={e => this.newDescriptionOnChange(e.target.value)} required/>\n                    <input type=\"submit\"/>\n                  </form>\n                </li>\n              : null }\n              <Link to={'/classrooms/'+this.state.classroom_id+'/members'}><li>Members</li></Link>\n              <Link to={'/classrooms/'+this.state.classroom_id+'/tasks'}><li>Tasks</li></Link>\n              {this.props.user_type === 'teacher' ? <Link to={'/classrooms/'+this.state.classroom_id+'/create_task'}><li>Create Task</li></Link> : null}\n              <Link to={'/classrooms/'+this.state.classroom_id+'/calendar'}><li>Calendar</li></Link>\n              <Link to={'/classrooms/'+this.state.classroom_id+'/chat'}><li>Chatroom</li></Link>\n\n              {this.props.user_id === this.state.create_by ? <li className=\"delete\" onClick={this.deleteClassroom}>Delete Classroom</li> : null}\n            </ul>\n          </div>\n          : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Classroom)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass ClassroomMembers extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'ClassroomMembers': [],\n      'permission': false, 'inviteToggle': false\n    }\n    this.loadClassroomMembers = this.loadClassroomMembers.bind(this)\n    this.checkPermission = this.checkPermission.bind(this)\n    this.inviteMember = this.inviteMember.bind(this)\n    this.kickFromClassroom = this.kickFromClassroom.bind(this)\n    this.inviteToggle = this.inviteToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params) {\n      this.checkPermission()\n    }     \n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true },() => this.loadClassroomMembers())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n  \n  loadClassroomMembers() {\n    console.log(this.props)\n    if (this.state.permission) {\n      fetch('/api/classroom_members?c='+this.props.match.params.class).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.classroom_members !== 'Error') {\n              this.setState({\n                'classroom': result.classroom,\n                'ClassroomMembers': result.classroom_members\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  inviteMember(e) {\n    e.preventDefault()\n    let form = document.forms.form_inviteMember\n    if (form.user.value && form.user.value > 0) {\n      fetch('/api/classroom_members?c='+this.props.match.params.class+'&i='+form.user.value, {method: 'POST'}).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.invite_member !== \"Error\") {\n              this.loadClassroomMembers()\n              form.user.value = ''\n            } else {\n              alert('Please fill in a valid ID.')\n            }\n          })\n        }\n      })\n    } else {\n      alert('Please fill in a valid ID.')\n    }\n  }\n\n  kickFromClassroom(u) {\n    fetch('/api/classroom_members?c='+this.props.match.params.class+'&i='+u, {method: 'DELETE'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadClassroomMembers()\n        })\n      }\n    })\n  }\n\n  imgOnError(e) {\n    e.target.src = \"https://briyana.ddns.net/static/images/icons/icon-128x128.png\"\n  }\n\n  inviteToggle() {\n    this.setState({\"inviteToggle\": !this.state.inviteToggle})\n  }\n\n  render() {\n    return (\n      <div className=\"ClassroomMembers content part\">\n        <div className=\"header sticky-top\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Classroom Members</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            <div className=\"block form\">{this.state.classroom ? this.state.classroom.name : null}</div>\n            {this.props.user_type === 'teacher' ? \n              <div>\n                <div className=\"block\" style={{padding: '1vh 0', background: 'lightgreen', marginBottom: '0'}} onClick={this.inviteToggle}>Invite Member</div>\n                {this.state.inviteToggle &&\n                  <form className=\"block form\" style={{background: 'lightgreen', margin: '0 auto'}} onSubmit={this.inviteMember} name=\"form_inviteMember\">\n                    <input type=\"number\" name=\"user\" placeholder=\"Student ID\" required/>\n                    <input type=\"submit\"/>\n                  </form>\n                }\n              </div>\n            : null}\n            <ul className=\"member-list\">\n              {this.state.ClassroomMembers.map(member => \n                <li>\n                  <img src={window.location.origin+'/static/images/user_icons/'+Number(member.user_id)+'.png'} onError={this.imgOnError}/>\n                  <div onClick={() => this.props.userInfoToggle(Number(member.user_id))}>ID: {member.user_id}</div>\n                  <div onClick={() => this.props.userInfoToggle(Number(member.user_id))}>{member.fullname.toUpperCase()} {member.nickname}</div>\n                  <div>Type: {member.user_type}</div>\n                  <div>Join: {new Date(member.join_date).toISOString().split('T')[0]} {new Date(member.join_date).toISOString().split('T')[1].split('.')[0]}</div>\n                  <div className=\"kick\">\n                    &nbsp;\n                    {member.user_type === 'student' && this.props.user_type === 'teacher' ? <span onClick={() => this.kickFromClassroom(member.user_id)}>Kick</span> : null}\n                  </div>\n                </li>\n              )}\n            </ul>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(ClassroomMembers)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass Tasks extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'tasks': [],\n      'permission': false\n    }\n    this.loadTasks = this.loadTasks.bind(this)\n    this.checkPermission = this.checkPermission.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params) {\n      this.checkPermission()\n    }     \n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true },() => this.loadTasks())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n  \n  loadTasks() {\n    if (this.state.permission) {\n      fetch('/api/tasks?c='+this.props.match.params.class).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.tasks !== 'Error') {\n              this.setState({\n                'classroom': result.classroom,\n                'tasks': result.tasks\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Tasks content part\">\n        <div className=\"header\">\n          <Link className='header-icon' to={'/classrooms/'+this.props.match.params.class}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Classroom Tasks</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            <div className=\"block form\"> Tasks for {this.state.classroom ? this.state.classroom.name : null}</div>\n            <ul className=\"task-list\">\n              {this.state.tasks.map(task => \n                <Link to={this.props.location.pathname+'/'+task.task_num}>\n                  <li>\n                    <div>Title: {task.title} {task.force_close ? <span style={{color: 'red'}}>(Closed)</span> : new Date() > new Date(task.deadline) ? <span style={{color: 'red'}}>(End)</span> : null }</div>\n                    <div>Deadline: {new Date(task.deadline).toISOString().split('T')[0]}</div>\n                  </li>\n                </Link>\n              )}\n            </ul>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Tasks)\n\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass Task extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'title': '', 'create_date': '', 'deadline': '', 'task_answers': [], 'forceClose': false,\n      'permission': false, 'success_page': false\n    }\n    this.loadTask = this.loadTask.bind(this)\n    this.loadAnswer = this.loadAnswer.bind(this)\n    this.checkPermission = this.checkPermission.bind(this)\n    this.forceClose = this.forceClose.bind(this)\n    this.deleteTask = this.deleteTask.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n    this.loadAnswer()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params !== this.props.match.params) {\n      this.checkPermission()\n    }     \n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true },() => this.loadTask())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n  \n  loadTask() {\n    if (this.state.permission) {\n      fetch('/api/task?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.task !== 'Error' && result.task != null) {\n              this.setState({\n                'classroom': result.classroom,\n                'title': result.task.title,\n                'create_date': result.task.create_date,\n                'deadline': result.task.deadline,\n                'forceClose': result.task.force_close\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  loadAnswer() {\n    fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({'task_answers': result.task_answers})\n        })\n      }\n    })\n  }\n\n  forceClose() {\n    fetch('/api/task?c='+this.props.match.params.class+'&t='+this.props.match.params.task, {method: 'PATCH'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadTask()\n        })\n      }\n    })\n  }\n\n  deleteTask() {\n    fetch('/api/task?c='+this.props.match.params.class+'&t='+this.props.match.params.task, {method: 'DELETE'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({'success_page': true})\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"Task content part\">\n        <div className=\"header\">\n          <Link className=\"header-icon\" to={'/classrooms/'+this.props.match.params.class+'/tasks'}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Classroom Task</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div className=\"success_page\">\n                <div>Delete Success!</div>\n                <Link to={'/classrooms/'+this.props.match.params.class+'/tasks'}>\n                  <div className=\"btn\">Back to Tasks Page</div>\n                </Link>\n              </div>\n            : null }\n\n            <div className=\"task-basic block\">\n              <div>Title: {this.state.title}</div>\n              <div className=\"date\">Created: {this.state.create_date !== '' && new Date(this.state.create_date).toISOString().split('T')[0]}</div>\n              <div className=\"date\">Deadline: {this.state.deadline !== '' && new Date(this.state.deadline).toISOString().split('T')[0]}</div>\n            </div>\n\n            {this.props.user_type === 'teacher' ?\n              new Date() > new Date(this.state.deadline) || this.state.forceClose ?\n                <Link to={this.props.location.pathname+'/results'}><div className=\"block btn\">Result</div></Link>\n              :\n                <div>\n                  <Link to={this.props.location.pathname+'/edit'}><div className=\"block edit btn\">Edit</div></Link>\n                  <div onClick={this.forceClose} className=\"block close btn\">Force Close</div>\n                  <div onClick={this.deleteTask} className=\"block delete btn\">Delete</div>\n                </div>\n            : \n              new Date() > new Date(this.state.deadline) || this.state.forceClose  ?\n                <Link to={this.props.location.pathname+'/results/'+this.props.user_id}><div className=\"block btn\">Result</div></Link>\n              : \n                this.state.task_answers.length > 0 ? \n                  <Link to={this.props.location.pathname+'/edit_answer/'+this.props.user_id}><div className=\"block edit btn\">Edit Answer</div></Link>\n                : <Link to={this.props.location.pathname+'/answer'}><div className=\"block btn\">Answer</div></Link>}\n\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Task)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport DayPickerInput from 'react-day-picker/DayPickerInput'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\nlet MCQ_format = { 'type': 'MC', 'question': '', 'answer': 1, 'choice': ['','','',''], 'category': ''}\nlet SQ_format = { 'type': 'SQ', 'question': '', 'answer': '', 'choice': [], 'category': ''}\n\nclass CreateTask extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false,\n      'success_page': false,\n      'title': '', 'questions': [], 'deadline': undefined\n    }\n    this.checkPermission = this.checkPermission.bind(this)\n    this.create_task = this.create_task.bind(this)\n    this.titleOnChange = this.titleOnChange.bind(this)\n    this.deadlineOnChange = this.deadlineOnChange.bind(this)\n    this.newMCQ = this.newMCQ.bind(this)\n    this.newSQ = this.newSQ.bind(this)\n    this.popQuestion = this.popQuestion.bind(this)\n    this.categoryInputOnChange = this.categoryInputOnChange.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.choiceInputOnChange = this.choiceInputOnChange.bind(this)\n    this.textareaOnChange = this.textareaOnChange.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.addChoice = this.addChoice.bind(this)\n    this.popChoice = this.popChoice.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true })\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n\n  create_task() {\n    let questions = this.state.questions.slice(), fail = false\n    questions.forEach(q => {\n      if (q.question === '' || q.answer === '' || q.choice.includes('')) {\n        fail = true\n      }\n    })\n    if (this.state.title !== '' && this.state.deadline !== undefined && questions.length > 0 && !fail) {\n      if (new Date(this.state.deadline.toDateString()) > new Date()) {\n        fetch('/api/task?c='+this.props.match.params.class, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ 'task': {\n            'title': this.state.title,\n            'deadline': this.state.deadline,\n            'questions': this.state.questions\n          }})\n        }).then(res => {\n          if (res.ok) {\n            res.json().then(result => {\n              console.log(result)\n              this.setState({'success_page': true})\n              document.querySelector('.CreateTask').scrollTop = 0\n            })\n          }\n        })\n      } else {\n        alert('Invaild Date of Deadline')\n      }\n    } else {\n      alert('Please fill in all the blank and at least one question')\n    }\n  }\n\n  titleOnChange(e) {\n    this.setState({'title': e.target.value})  \n  }\n\n  deadlineOnChange(day) {\n    this.setState({'deadline': day})\n  }\n\n  newMCQ() {\n    let temp = this.state.questions.slice()\n    let MCQ = JSON.parse(JSON.stringify(MCQ_format))\n    temp.push(MCQ)\n    this.setState({'questions': temp})\n  }\n\n  newSQ() {\n    let temp = this.state.questions.slice()\n    let SQ = JSON.parse(JSON.stringify(SQ_format))\n    temp.push(SQ)\n    this.setState({'questions': temp})\n  }\n\n  popQuestion(question_index) {\n    let temp = this.state.questions.slice()\n    temp.splice(question_index, 1)\n    this.setState({'questions': temp})\n  }\n\n  categoryInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].category = value\n    this.setState({ 'questions': temp })\n  }\n\n  choiceInputOnChange(value, question_index, choice_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice[choice_index] = value\n    this.setState({ 'questions': temp })\n  }\n\n  answerInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = value\n    this.setState({ 'questions': temp })\n  }\n\n  textareaOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].question = value\n    this.setState({ 'questions': temp })\n  }\n\n  mcAnswerToggle(question_index, answer) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = answer\n    this.setState({ 'questions': temp })\n  }\n\n  addChoice(question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice.push('')\n    this.setState({ 'questions': temp })\n  }\n\n  popChoice(question_index, choice_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice.splice(choice_index, 1)\n    this.setState({ 'questions': temp })\n  }\n\n  render() {\n    const { deadline } = this.state\n    return (\n      <div className=\"CreateTask content part\">\n        <div className=\"header sticky-top\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Create Task</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            {this.state.success_page ? \n              <div className=\"success_page\">\n                <div>Success!</div>\n                <Link to={`/classrooms/${this.props.match.params.class}`}>\n                  <div className=\"btn\">Back to Classroom</div>\n                </Link>\n              </div>\n            : \n            <div>\n              <div className=\"block\">\n                <input maxLength='50' type=\"text\" value={this.state.title} onChange={this.titleOnChange} placeholder='Task Title'/>\n                <DayPickerInput onDayChange={this.deadlineOnChange} placeholder=\"Deadline\" inputProps={{readOnly: true}} Format='YYYY-MM-DD'/>\n              </div>\n\n              <div className=\"block title\">Questions</div>\n              {this.state.questions.map((q, qi) => \n                <div className=\"block question\">\n                  <div className=\"type\">\n                    {q.type === 'MC' ? 'MC Question' : 'Short Question'}\n                    <span className=\"delete\" onClick={() => this.popQuestion(qi)}>Delete</span>\n                  </div>\n                  \n                  <textarea placeholder=\"Type in your Question Here...\" value={q.question} onChange={e => this.textareaOnChange(e.target.value, qi)}/>\n                  <input maxLength='30' className=\"category\" type=\"text\" value={q.category} onChange={e => this.categoryInputOnChange(e.target.value, qi)} placeholder='Question Cateory (Optional)'/>\n\n                  <ul>\n                    { q.type === 'MC' && q.choice.length < 4 ? \n                      <div>New Choice<img onClick={() => this.addChoice(qi)} src=\"https://img.icons8.com/flat_round/64/000000/plus.png\"/></div>\n                    : null }\n\n                    { q.type == 'MC' ? \n                      q.choice.map((c, ci) =>\n                        <li>{ci+1}.&nbsp; \n                          <input maxLength='30' type=\"text\" value={c} onChange={e => this.choiceInputOnChange(e.target.value, qi, ci)} placeholder=\"Multiple Choice\"/>\n                          <span className={ci+1 === q.answer ? 'task_answer_toggle yes' : 'task_answer_toggle no'} onClick={() => this.mcAnswerToggle(qi, ci+1)}>Ans.</span>\n                          { q.choice.length > 2 ? <img src=\"https://img.icons8.com/flat_round/64/000000/minus.png\" onClick={() => this.popChoice(qi, ci)}/> : null }\n                        </li>\n                      ) \n                    :\n                      <li>Answer: <input maxLength='30' type=\"text\" value={q.answer} onChange={e => this.answerInputOnChange(e.target.value, qi)} /></li>}\n                  </ul>\n\n                </div>\n              )}\n\n              <div className=\"block flex\">\n                <div onClick={this.newMCQ}>New MC Question</div>\n                <div onClick={this.newSQ}>New Short Question</div>\n              </div>\n\n              <div className=\"sticky-bottom\">\n                <button className=\"submit\" onClick={this.create_task}>Create Task</button>\n              </div>\n            </div> }\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(CreateTask)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport DayPickerInput from 'react-day-picker/DayPickerInput'\n\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\nlet MCQ_format = { 'type': 'MC', 'question': '', 'answer': 1, 'choice': ['','','',''], 'category': ''}\nlet SQ_format = { 'type': 'SQ', 'question': '', 'answer': '', 'choice': [], 'category': ''}\n\nclass EditTask extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false,\n      'success_page': false,\n      'title': '', 'questions': [], 'deadline': new Date()\n    }\n    this.checkPermission = this.checkPermission.bind(this)\n    this.loadTaskQuestions = this.loadTaskQuestions.bind(this)\n    this.edit_task = this.edit_task.bind(this)\n    this.titleOnChange = this.titleOnChange.bind(this)\n    this.deadlineOnChange = this.deadlineOnChange.bind(this)\n    this.newMCQ = this.newMCQ.bind(this)\n    this.newSQ = this.newSQ.bind(this)\n    this.popQuestion = this.popQuestion.bind(this)\n    this.categoryInputOnChange = this.categoryInputOnChange.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.choiceInputOnChange = this.choiceInputOnChange.bind(this)\n    this.textareaOnChange = this.textareaOnChange.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.addChoice = this.addChoice.bind(this)\n    this.popChoice = this.popChoice.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true }, () => this.loadTaskQuestions())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n\n  loadTaskQuestions() {\n    if (this.state.permission) {\n      fetch('/api/task_questions?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.task !== 'Error' && !(new Date() > new Date(result.task.deadline)) && !result.task.force_close) {\n              this.setState({\n                'title': result.task.title,\n                'deadline': new Date(result.task.deadline),\n                'questions': result.task.task_questions\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  edit_task() {\n    let questions = this.state.questions.slice(), fail = false\n    questions.forEach(q => {\n      if (q.question === '' || q.answer === '' || q.choice.includes('')) {\n        fail = true\n      }\n    })\n    if (this.state.title !== '' && this.state.deadline !== undefined &&questions.length > 0 && !fail) {\n      if (new Date(this.state.deadline.toDateString()) > new Date()) {\n        fetch('/api/task?c='+this.props.match.params.class+'&t='+this.props.match.params.task, {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ 'task': {\n            'title': this.state.title,\n            'deadline': this.state.deadline,\n            'questions': this.state.questions\n          }})\n        }).then(res => {\n          if (res.ok) {\n            res.json().then(result => {\n              console.log(result)\n              this.setState({'success_page': true})\n              document.querySelector('.EditTask').scrollTop = 0\n            })\n          }\n      })\n      } else {\n        alert('Invaild Date of Deadline')\n      }\n    } else {\n      alert('Please create at least 1 question fill in all the blanks')\n    }\n  }\n\n  titleOnChange(e) {\n    this.setState({'title': e.target.value})  \n  }\n\n  deadlineOnChange(day) {\n    this.setState({'deadline': day})\n  }\n\n  newMCQ() {\n    let temp = this.state.questions.slice()\n    let MCQ = JSON.parse(JSON.stringify(MCQ_format))\n    temp.push(MCQ)\n    this.setState({'questions': temp})\n  }\n\n  newSQ() {\n    let temp = this.state.questions.slice()\n    let SQ = JSON.parse(JSON.stringify(SQ_format))\n    temp.push(SQ)\n    this.setState({'questions': temp})\n  }\n\n  popQuestion(question_index) {\n    let temp = this.state.questions.slice()\n    temp.splice(question_index, 1)\n    this.setState({'questions': temp})\n  }\n\n  categoryInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].category = value\n    this.setState({ 'questions': temp })\n  }\n\n  choiceInputOnChange(value, question_index, choice_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice[choice_index] = value\n    this.setState({ 'questions': temp })\n  }\n\n  answerInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = value\n    this.setState({ 'questions': temp })\n  }\n\n  textareaOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].question = value\n    this.setState({ 'questions': temp })\n  }\n\n  mcAnswerToggle(question_index, answer) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = answer\n    this.setState({ 'questions': temp })\n  }\n\n  addChoice(question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice.push('')\n    this.setState({ 'questions': temp })\n  }\n\n  popChoice(question_index, choice_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].choice.splice(choice_index, 1)\n    this.setState({ 'questions': temp })\n  }\n\n  render() {\n    const { deadline } = this.state\n    return (\n      <div className=\"EditTask content part\">\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Edit Task</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div className='success_page'>\n                <div>Success!</div>\n                <Link to={this.props.match.url.replace('/edit', '')}>\n                  <div className=\"btn\">Back to Task Page</div>\n                </Link>\n              </div>\n            :\n\n            <div>\n              <div className=\"block\">\n                <input maxLength='50' type=\"text\" value={this.state.title} onChange={this.titleOnChange} placeholder='Task Title'/>\n                <DayPickerInput onDayChange={this.deadlineOnChange} placeholder=\"Deadline\" inputProps={{readOnly: true}} value={new Date(this.state.deadline).toISOString().split('T')[0]} Format='YYYY-MM-DD'/>\n              </div>\n\n              <div className=\"block title\">Questions</div>\n              { this.state.questions.map((q, qi) => \n              <div className=\"block question\">\n                <div className=\"type\">\n                  {q.type.toUpperCase() === 'MC' ? 'MC Question' : 'Short Question'}\n                  <span className=\"delete\" onClick={() => this.popQuestion(qi)}>Delete</span>\n                </div>\n\n                  <textarea placeholder=\"Type in your Task Question Here...\" value={q.question} onChange={e => this.textareaOnChange(e.target.value, qi)}/>\n                  <input maxLength=\"30\" className=\"category\" type=\"text\" value={q.category} onChange={e => this.categoryInputOnChange(e.target.value, qi)} placeholder='Question Cateory (Optional)'/>\n\n                  <ul>\n                    { q.type.toUpperCase() === 'MC' && q.choice.length < 4 ? \n                      <div>New Choice<img onClick={() => this.addChoice(qi)} src=\"https://img.icons8.com/flat_round/64/000000/plus.png\"/></div>\n                    : null }\n              \n                    { q.type.toUpperCase() == 'MC' ? \n                      q.choice.map((c, ci) =>\n                        <li>{ci+1}.&nbsp; \n                          <input maxLength='30' type=\"text\" value={c} onChange={e => this.choiceInputOnChange(e.target.value, qi, ci)} placeholder=\"Multiple Choice\"/>\n                          <span className={ci+1 === q.answer ? 'task_answer_toggle yes' : 'task_answer_toggle no'} onClick={() => this.mcAnswerToggle(qi, ci+1)}>Ans.</span>\n                          { q.choice.length > 2 ? <img src=\"https://img.icons8.com/flat_round/64/000000/minus.png\" onClick={() => this.popChoice(qi, ci)}/> : null }\n                        </li>\n                      ) \n                    :\n                      <li>Answer: <input maxLength='30' type=\"text\" value={q.answer} onChange={e => this.answerInputOnChange(e.target.value, qi)} /></li>}\n                  </ul>\n\n                </div>\n              ) }\n\n              <div className=\"block flex\">\n                <div onClick={this.newMCQ}>New MC Question</div>\n                <div onClick={this.newSQ}>New Short Question</div>\n              </div>\n\n              <div className=\"sticky-bottom\">\n                <button className=\"submit\" onClick={this.edit_task}>Edit Task</button>\n              </div>\n            </div>}\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(EditTask)\n\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass AnswerTask extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'questions': [],\n      'permission': false, 'success_page': false\n    }\n    this.checkPermission = this.checkPermission.bind(this)\n    this.loadTaskQuestions = this.loadTaskQuestions.bind(this)\n    this.answerTask = this.answerTask.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.mcAnswerToggle = this.mcAnswerToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  checkPermission() {\n    fetch('/api/classroom_member?c='+this.props.match.params.class).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          if (result.member) {\n            this.setState({ 'permission': true }, () => this.loadTaskQuestions())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n\n  loadTaskQuestions() {\n    if (this.state.permission) {\n      fetch('/api/student_task_questions?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.task !== 'Error' && !(new Date() > new Date(result.task.deadline)) && !result.task.force_close) {\n              this.setState({\n                'questions': result.task.task_questions\n              })\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  answerTask() {\n    let questions = this.state.questions.slice(), fail = false\n    questions.forEach(q => {\n      if (q.answer === '') {\n        fail = true\n      }\n    })\n    if (!fail) {\n      fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'answer_task': {\n          'questions': this.state.questions\n        }})\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n            document.querySelector('.AnswerTask').scrollTop = 0\n          })\n        }\n      })\n    } else {\n      alert('Please Answer All the Questions')\n    }\n  }\n\n  answerInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = value\n    this.setState({ 'questions': temp })\n  }\n\n  mcAnswerToggle(question_index, answer) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = temp.slice()[question_index].choice[answer]\n    this.setState({ 'questions': temp })\n  }\n\n  render() {\n    return (\n      <div className=\"AnswerTask content part\">\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Answer Task</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div className=\"success_page\">\n                <div>Success!</div>\n                <Link to={this.props.match.url.replace('/answer', '')}>\n                  <div className=\"btn\">Back to Task Page</div>\n                </Link>\n              </div>\n            :\n            \n              <div>\n                <div className=\"block title\">Questions</div>\n                {this.state.questions.map((q, qi) => \n                  <div className=\"block answer\">\n                    <div className=\"type\">Q. {q.question_num}</div>\n                    <div><pre style={{fontFamily: 'inherit'}}>{q.question}</pre></div>\n                      <ul>\n                        {q.type.toUpperCase() == 'MC' ? \n                          q.choice.map((c, ci) =>\n                            <li> \n                              <div className={c === q.answer ? 'task_answer_toggle yes' : 'task_answer_toggle no'} onClick={() => this.mcAnswerToggle(qi, ci)}>\n                                {ci+1}. {c}\n                              </div>\n                            </li>\n                          ) \n                        :\n                          <li>Answer: <input type=\"text\" value={q.answer} onChange={e => this.answerInputOnChange(e.target.value, qi)} /></li>}\n                      </ul>\n                  </div>\n                )}\n\n                <button className=\"submit\" onClick={this.answerTask}>Answer Task</button>\n\n              </div>}\n\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(AnswerTask)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass EditAnswer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'questions': [], 'task_answers': [],\n      'permission': false, 'success_page': false\n    }\n    this.checkPermission = this.checkPermission.bind(this)\n    this.loadAnswer = this.loadAnswer.bind(this)\n    this.loadTaskQuestions = this.loadTaskQuestions.bind(this)\n    this.editAnswer = this.editAnswer.bind(this)\n    this.answerInputOnChange = this.answerInputOnChange.bind(this)\n    this.mcAnswerToggle = this.mcAnswerToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.checkPermission()\n  }\n\n  checkPermission() {\n    fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task+'&s='+this.props.match.params.student).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          if (result.edit_task === 'OK') {\n            this.setState({ 'permission': true }, () => this.loadTaskQuestions())\n          } else {\n            try {\n              this.props.history.goBack()\n            } catch(err) {\n              window.history.back()\n            }\n          }\n        })\n      }\n    })\n  }\n\n  loadAnswer() {\n    fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          let temp = this.state.questions.slice()\n          temp.map((q, i) => {\n            q['answer'] = result.task_answers[i]['answer']\n          })\n          this.setState({'questions': temp})\n        })\n      }\n    })\n  }\n\n  loadTaskQuestions() {\n    if (this.state.permission) {\n      fetch('/api/student_task_questions?c='+this.props.match.params.class+'&t='+this.props.match.params.task).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.task !== 'Error' && !(new Date() > new Date(result.task.deadline)) && !result.task.force_close) {\n              this.setState({\n                'questions': result.task.task_questions\n              }, () => this.loadAnswer() )\n            } else {\n              this.props.history.goBack()\n            }\n          })\n        }\n      })\n    }\n  }\n\n  editAnswer() {\n    let questions = this.state.questions.slice(), fail = false\n    questions.forEach(q => {\n      if (q.answer === '') {\n        fail = true\n      }\n    })\n    if (!fail) {\n      fetch('/api/task_answers?c='+this.props.match.params.class+'&t='+this.props.match.params.task, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'answer_task': {\n          'questions': this.state.questions\n        }})\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'success_page': true})\n          })\n        }\n      })\n    } else {\n      alert('Please Answer All the Questions')\n    }\n  }\n\n  answerInputOnChange(value, question_index) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = value\n    this.setState({ 'questions': temp })\n  }\n\n  mcAnswerToggle(question_index, answer) {\n    let temp = this.state.questions.slice()\n    temp[question_index].answer = temp.slice()[question_index].choice[answer]\n    this.setState({ 'questions': temp })\n  }\n\n  render() {\n    return (\n      <div className=\"EditAnswer content part\">\n        <div className=\"header\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Edit Answer</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            { this.state.success_page ? \n              <div className=\"success_page\">\n                <div>Success!</div>\n                <Link to={'/classrooms/'+this.props.match.params.class+'/tasks/'+this.props.match.params.task}>\n                  <div className=\"btn\">Back to Task Page</div>\n                </Link>\n              </div>\n            :\n              <div>\n                <div className=\"block title\">Questions</div>\n                { this.state.questions.map((q, qi) => \n                  <div className=\"block answer\">\n                    <div className=\"type\">Q. {q.question_num}</div>\n                    <div><pre style={{fontFamily: 'inherit'}}>{q.question}</pre></div>\n                      <ul>\n                        { q.type.toUpperCase() == 'MC' ? \n                          q.choice.map((c, ci) =>\n                            <li> \n                              <div className={c === q.answer ? 'task_answer_toggle yes' : 'task_answer_toggle no'} \n                                   onClick={() => this.mcAnswerToggle(qi, ci)}>\n                                   {ci+1}. {c}\n                              </div>\n                            </li>\n                          ) \n                        : <li>Answer: <input type=\"text\" value={q.answer} onChange={e => this.answerInputOnChange(e.target.value, qi)} /></li>}\n                      </ul>\n                  </div>\n                ) }\n\n              <button className=\"submit\" onClick={this.editAnswer}>Edit Answer</button>\n            </div>}\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(EditAnswer)\n\n","import React from 'react'\r\nCanvasJS = CanvasJS.Chart ? CanvasJS : window.CanvasJS\r\n\r\nclass CanvasJSChart extends React.Component {\r\n\tstatic _cjsContainerId = 0\r\n\tconstructor(props) {\t\t\r\n\t\tsuper(props)\t\r\n\t\tthis.options = props.options ? props.options : {}\t\t\r\n\t\tthis.containerProps = props.containerProps ? props.containerProps : {width: \"100%\", position: \"relative\"}\r\n\t\tthis.containerProps.height = props.containerProps && props.containerProps.height ? props.containerProps.height : this.options.height ? this.options.height + \"px\" : \"400px\"\r\n\t\tthis.chartContainerId = \"canvasjs-react-chart-container-\" + CanvasJSChart._cjsContainerId++\r\n\t}\t\r\n\tcomponentDidMount() {\r\n\t\tthis.chart = new CanvasJS.Chart(this.chartContainerId, this.options)\r\n\t\tthis.chart.render()\r\n\t\t\r\n\t\tif(this.props.onRef)\r\n\t\t\tthis.props.onRef(this.chart)\r\n\t}\t\r\n    shouldComponentUpdate(nextProps, nextState){\r\n        return !(nextProps.options === this.options)\r\n    }\r\n\tcomponentDidUpdate() {\r\n\t\tthis.chart.options = this.props.options\r\n\t\tthis.chart.render()\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\tthis.chart.destroy()\r\n\t\tif(this.props.onRef)\r\n\t\t\tthis.props.onRef(undefined)\r\n\t}\t\t\r\n\trender() {\t\t\r\n\t\treturn <div id = {this.chartContainerId} style = {this.containerProps}/>\t\t\r\n\t}\t\r\n}\r\n\r\nvar CanvasJSReact = {\r\n    CanvasJSChart: CanvasJSChart,\r\n    CanvasJS: CanvasJS\r\n}\r\n\r\nexport default CanvasJSReact\r\n","import React from 'react'\r\nimport CanvasJSReact from './CanvasJS.jsx'\r\nconst CanvasJSChart = CanvasJSReact.CanvasJSChart\r\n \r\nclass BarChart extends React.Component {\r\n\trender() {\r\n\t\tconst options = {\r\n\t\t\tanimationEnabled: true,\r\n\t\t\ttitle:{\r\n\t\t\t\ttext: this.props.title\r\n\t\t\t},\r\n\t\t\taxisX: {\r\n\t\t\t\ttitle: this.props.title_X,\r\n\t\t\t\treversed: true,\r\n\t\t\t},\r\n\t\t\taxisY: {\r\n\t\t\t\ttitle: this.props.title_Y,\r\n        maximum: 100\r\n\t\t\t},\r\n\t\t\tdata: [{\r\n\t\t\t\ttype: \"bar\",\r\n\t\t\t\tdataPoints: this.props.data\r\n\t\t\t}]\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<CanvasJSChart options={options}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default BarChart\r\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport BarChart from '../../../CanvasJS/BarChart.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass TaskResults extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false, 'questionToggle': false, 'categoryToggle': false,\n      'title': '', 'create_date': '', 'deadline': '', 'question_count': 0, 'submited': 0,\n      'student_answers': [], 'performance_category': [], 'performance_question': [],\n      'questionGraph': [], 'categoryGraph': []\n    }\n    this.loadTaskResults = this.loadTaskResults.bind(this)\n    this.questionToggle = this.questionToggle.bind(this)\n    this.categoryToggle = this.categoryToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.setState({'permission': true})\n    this.loadTaskResults()\n  }\n\n  loadTaskResults() {\n    let params = this.props.match.params\n    fetch(`/api/task_results?c=${params.class}&t=${params.task}`).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          if (result.task !== 'Error' && ((new Date() > new Date(result.task_results.deadline)) || result.task_results.force_close)) {\n            this.setState({ \n              'title': result.task_results.title,\n              'create_date': result.task_results.create_date,\n              'deadline': result.task_results.deadline,\n              'submitted': result.task_results.submitted,\n              'question_count': result.task_results.question_count,\n              'student_answers': result.task_results.student_answers,\n              'performance_category': result.task_results.performance_category,\n              'performance_question': result.task_results.performance_question,\n            }, () => {\n              let questionGraph = this.state.performance_question.map(p => ({y:Number(p.correct/this.state.question_count*100), label: p.question_num}))\n              let categoryGraph = this.state.performance_category.map(p => ({y:Number(p.correct/p.category_count*100), label: p.category}))\n              this.setState({'questionGraph': questionGraph, 'categoryGraph': categoryGraph})\n            })\n          } else {\n            this.props.history.goBack()\n          }\n        })\n      }\n    })\n  }\n\n  questionToggle() {\n    this.setState({'questionToggle': !this.state.questionToggle})\n  }\n\n  categoryToggle() {\n    this.setState({'categoryToggle': !this.state.categoryToggle})\n  }\n\n  render() {\n    return (\n      <div className=\"TaskResults content part\">\n        <div className=\"header sticky-top\" style={{zIndex: '1'}}>\n          <Link className=\"header-icon\" to={'/classrooms/'+this.props.match.params.class+'/tasks/'+this.props.match.params.task}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Task Results</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            <div className=\"task-basic block\">\n              <div>Title: {this.state.title}</div>\n              <div className=\"date\">Created: {this.state.create_date !== '' && new Date(this.state.create_date).toISOString().split('T')[0]}</div>\n              <div className=\"date\">Deadline: {this.state.deadline !== '' && new Date(this.state.deadline).toISOString().split('T')[0]}</div>\n            </div>\n            \n            <div className=\"task-basic block sub\">\n              <div>Submitted: {this.state.submitted}</div>\n              <div>Total Questions: {this.state.question_count}</div>\n            </div>\n\n            <div className=\"task-basic block btn\">\n              <span onClick={this.questionToggle}>Correct Rate (By question)</span>\n              {this.state.questionToggle ? \n                <div style={{padding: '2vh 0'}}>\n                  <BarChart title='Correct Rate by Question' title_X='Questions' title_Y='Correct Rate (%)' data={this.state.questionGraph}/>\n                  {this.state.performance_question.map(p => \n                    <div>Q{p.question_num}. {Number(p.correct/this.state.question_count*100).toFixed(2)}%({p.correct}/{this.state.question_count})</div>\n                  )}\n                </div>\n              : null}\n            </div>\n            <div className=\"task-basic block btn\">\n              <span onClick={this.categoryToggle}>Correct Rate (By category)</span>\n              {this.state.categoryToggle ?  \n                <div style={{padding: '2vh 0'}}>\n                  <BarChart title='Correct Rate by Category' title_X='Categories' title_Y='Correct Rate (%)' data={this.state.categoryGraph}/>\n                  {this.state.performance_category.map(p => \n                    <div>{p.category ? p.category : 'Others'}: {Number(p.correct/p.category_count*100).toFixed(2)}%({p.correct}/{p.category_count})</div>\n                  )}\n                </div>\n              : null}\n            </div>\n\n            <div className=\"task-basic block\" style={{textAlign: 'center'}}>Student Answers</div>\n\n            <ul>\n              {this.state.student_answers.map(s => \n                <Link to={this.props.match.url+'/'+parseInt(s.student)}>\n                  <li className=\"task-basic block answer btn\">\n                    <div>Name: {s.name}</div>\n                    <div>ID: {s.student}</div>\n                    <div>Correct Rate: {Number(s.correct/this.state.question_count*100).toFixed(2)}%({s.correct}/{this.state.question_count})</div>\n                  </li>\n                </Link>\n              )}\n            </ul>\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(TaskResults)\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport BarChart from '../../../CanvasJS/BarChart.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass TaskResult extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'permission': false,\n      'title': '', 'create_date': '', 'deadline': '', 'question_count': 0, 'student_result': null,\n      'performance_category': [], 'student_answers': [],\n      'categoryGraph': []\n    }\n    this.loadTaskResult = this.loadTaskResult.bind(this)\n    this.categoryToggle = this.categoryToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadTaskResult()\n  }\n\n  loadTaskResult() {\n    let params = this.props.match.params\n    fetch(`/api/task_result?c=${params.class}&t=${params.task}&s=${params.student}`).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          if (result.task !== 'Error' && ((new Date() > new Date(result.task_results.deadline)) || result.task_results.force_close)) {\n            this.setState({ \n              'permission': true,\n              'title': result.task_results.title,\n              'create_date': result.task_results.create_date,\n              'deadline': result.task_results.deadline,\n              'question_count': result.task_results.question_count,\n              'performance_category': result.task_results.performance_category,\n              'student_result': result.task_results.student_result,\n              'student_answers': result.task_results.student_answers,\n            }, () => {\n              let categoryGraph = this.state.performance_category.map(p => ({y:Number(p.correct/p.category_count*100), label: p.category}))\n              this.setState({'categoryGraph': categoryGraph})\n            })\n          } else {\n            this.props.history.goBack()\n          }\n        })\n      }\n    })\n  }\n\n  categoryToggle() {\n    this.setState({'categoryToggle': !this.state.categoryToggle})\n  }\n\n  render() {\n    return (\n      <div className=\"TaskResult content part\">\n        <div className=\"header sticky-top\">\n          <img className='header-icon' src={imgBack} onClick={this.props.history.goBack}/>\n          <span>Task Result</span>\n        </div>\n        {this.state.permission ? \n          <div>\n            <div className=\"task-basic block\">\n              <div>Title: {this.state.title}</div>\n              <div className=\"date\">Created: {this.state.create_date !== '' && new Date(this.state.create_date).toISOString().split('T')[0]}</div>\n              <div className=\"date\">Deadline: {this.state.deadline !== '' && new Date(this.state.deadline).toISOString().split('T')[0]}</div>\n            </div>\n\n            <div className=\"task-basic block sub\">\n              <div>Total Question: {this.state.question_count}</div>\n              {this.state.student_result != null ? \n                <div onClick={() => this.props.userInfoToggle(this.state.student_result.student)}>\n                    <div>Student ID: {this.state.student_result.student}</div>\n                    <div>Student Name: {this.state.student_result.name}</div>\n                    <div>Correct Rate: {Number(this.state.student_result.correct/this.state.question_count*100).toFixed(2)}%({this.state.student_result.correct}/{this.state.question_count})</div>\n                </div>\n              :null}\n            </div>\n\n            <div className=\"task-basic block btn\">\n              <span onClick={this.categoryToggle}>Correct Rate (By category)</span>\n              {this.state.categoryToggle ?  \n                <div style={{padding: '2vh 0'}}>\n                  <BarChart title='Correct Rate by Category' title_X='Categories' title_Y='Correct Rate (%)' data={this.state.categoryGraph}/>\n                  {this.state.performance_category.map(p => \n                    <div>{p.category ? p.category : 'Others'}: {Number(p.correct/p.category_count*100).toFixed(2)}%({p.correct}/{p.category_count})</div>\n                  )}\n                </div>\n              : null}\n            </div>\n\n            <div className=\"task-basic block\" style={{textAlign: 'center'}}>Qusetion Results</div>\n\n            {this.state.student_answers.map(a => \n              <div className=\"task-basic block answer\">\n                <div>Q{a.question_num}.</div>\n                <div><pre>{a.question}</pre></div>\n                <div>Category: {a.category}</div>\n                <div>Your answer: <span style={a.student_answer === a.answer ? {color: 'green'} : {color: 'red'}}>{a.student_answer}</span></div>\n                {a.student_answer !== a.answer ? <div>Correct answer: <span style={{color: 'green'}}>{a.answer}</span></div>: null}\n              </div>\n            )}\n          </div>\n        : <div>Please Wait...</div>}\n      </div>\n    )\n  }\n}\n\nexport default withRouter(TaskResult)\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst day = (classroom, date, deadline, events, day) => {\n  let dayHead, deadlineCount = 0, deadlineDetail, eventCount = 0, eventDetail, todayDate = new Date().toLocaleDateString()\n\n  if (day === 0) {\n    dayHead = <div className=\"dayHead\"></div>\n  } else if (todayDate === (new Date(`${date.year}/${date.month}/${day}`).toLocaleDateString())) {\n    dayHead = <div className=\"dayHead today\">{day}</div>\n  } else {\n    dayHead = <div className=\"dayHead\">{day}</div>\n  }\n\n  deadline.forEach(task => {\n    if ((new Date(task.deadline).toLocaleDateString()) === (new Date(`${date.year}/${date.month}/${day}`).toLocaleDateString())) {\n      deadlineCount++\n    }\n  })\n\n  events.forEach(event => {\n    if ((new Date(event.event_date).toLocaleDateString()) === (new Date(`${date.year}/${date.month}/${day}`).toLocaleDateString())) {\n      eventCount++\n    }\n  })\n\n  deadlineDetail = (deadlineCount > 0 ? <div className=\"deadline\">{deadlineCount} Deadline</div> : null)\n  eventDetail = (eventCount > 0 ? <div className=\"event\">{eventCount} Event(s)</div> : null)\n\n  return(\n    <Link className=\"day\" to={day !== 0 ? `/classrooms/${classroom}/calendar/${date.year}_${date.month}_${day}` : null}>\n      <li>\n        {dayHead}\n        <div className=\"dayDetail\">\n          {deadlineDetail}\n          {eventDetail}\n        </div>\n      </li>\n    </Link>\n)}\n\nconst dayList = (classroom, date, deadline, events) => {\n  let bigMonth = [1,3,5,7,8,10,12], list = [], days = 30, weekday = (new Date(`${date.year}/${date.month}/1`)).getDay()\n  if (date.month === 2) {\n    let y = date.year\n    if ((y%4 === 0 && y%100 !== 0)||(y%400 === 0)) { days = 29 }\n    else { days = 28 }\n  } else {\n    for (let i = 0; i < bigMonth.length; i++) {\n      if (date.month === bigMonth[i]) { days = 31 }\n    }\n  }\n  let daynum = day.bind(null, classroom, date, deadline, events)\n  for (let i = 1; i <= weekday; i++) { list.push(daynum(0)) }\n  for (let i = 1; i <= days; i++) { list.push(daynum(i)) }\n\n  return (<ul className=\"days\">{list}</ul>)\n}\n\nexport default class Days extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {}\n  }\n\n  render() {\n    let Month = dayList(this.props.class, this.props.date, this.props.deadline, this.props.events)\n    \n    return (\n      <div className=\"day-list\">\n        {Month}\n      </div>\n    )\n  }\n} \n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\nconst imgPlus = 'https://img.icons8.com/flat_round/64/000000/plus.png'\nconst imgMinus = 'https://img.icons8.com/flat_round/64/000000/minus.png'\n\nexport default class Day extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      'open': false, 'createEventToggle': false,\n      'deadline': [], 'events': []\n    }\n    this.loadCalendar = this.loadCalendar.bind(this)\n    this.createEvent = this.createEvent.bind(this)\n    this.deleteEvent = this.deleteEvent.bind(this)\n    this.createEventToggle = this.createEventToggle.bind(this)\n    this.openToggle = this.openToggle.bind(this)\n  }\n\n  loadCalendar() {\n    fetch(`/api/calendar?class=${this.props.class}&date=${this.props.date}`).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'deadline': result.calendar.deadline, 'events': result.calendar.events })\n        })\n      }\n    })\n  }\n\n  createEvent(e) {\n    e.preventDefault()\n    let form = document.forms.form_createEvent\n    fetch(`/api/calendar?class=${this.props.class}`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({'createEvent': {\n        'name': form.event_name.value,\n        'description': form.event_description.value,\n        'date': this.props.date\n      }})\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadCalendar()\n          this.props.reload()\n          form.event_name.value = ''\n          form.event_description.value = ''\n          this.setState({'createEventToggle': false})\n        })\n      }\n    })\n  }\n\n  deleteEvent(event_num) {\n    fetch(`/api/calendar?class=${this.props.class}&event=${event_num}`, {method: 'DELETE'}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadCalendar()\n          this.props.reload()\n        })\n      }\n    })\n  }\n\n  createEventToggle() {\n    this.setState({'createEventToggle': !this.state.createEventToggle})\n  }\n\n  openToggle(opt) {\n    this.setState({'open': opt})\n  }\n\n  render() {\n    return (\n      <div className={this.state.open ? 'Day content open' : 'Day content close'}>\n        <div className=\"header\" style={{overflowY: 'hidden'}}>\n          <Link className=\"header-icon\" to={`/classrooms/${this.props.class}/calendar`}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Day</span>\n        </div>\n        <div className=\"dayPannel\">\n          <span>{this.props.date ? this.props.date.replace('_','-').replace('_','-') : null}</span>\n          <span></span>\n          {this.props.user_type === 'teacher' ? <img src={imgPlus} onClick={this.createEventToggle}/> : null }\n        </div>\n        {this.state.createEventToggle && this.props.user_type === 'teacher' ? \n          <div>\n            <div className=\"newEvent\" style={{textAlign: 'center'}}>New Event</div>\n            <form name='form_createEvent' onSubmit={this.createEvent} style={{paddingBottom: '.5vh'}}>\n              <input type=\"text\" name=\"event_name\" placeholder=\"Name of the Event\" required/>\n              <textarea name=\"event_description\" placeholder=\"Desceibe the Event here...\" required/>\n              <input type=\"submit\"/>\n            </form>\n          </div>\n        : null}\n        <ul>\n          {this.state.deadline.length === 0 && this.state.events.length === 0 ? <li style={{textAlign: 'center', marginTop: '3vh', fontSize: '2.5vh'}}>Nothing Today</li> : null}\n          {this.state.deadline.length > 0 && <li className=\"deadline-item\" style={{textAlign: 'center'}}>Today's Deadline</li>}\n          {this.state.deadline.map(task => \n            <Link to={`/classrooms/${task.classroom}/tasks/${task.task_num}`}>\n              <li className=\"deadline-item btn\">\n                <span>{task.title} (Task No. {task.task_num})</span>\n              </li>\n            </Link>\n          )}\n          {this.state.events.length > 0 && <li className=\"event-item\" style={{textAlign: 'center'}}>Today's Events</li>}\n          {this.state.events.map(event => \n            <li className=\"event-item btn\">\n              <div>\n                <span>{event.event}</span>\n                {this.props.user_type === 'teacher' ? \n                  <img src={imgMinus} onClick={() => this.deleteEvent(event.event_num)}/>\n                : null}\n              </div>\n              <div>{event.detail}</div>\n            </li>\n          )}\n        </ul>\n      </div>\n    )\n  }\n} \n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport Days from './Days.jsx'\nimport Day from './Day.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass Calendar extends React.Component {\n  constructor () {\n    super();\n    this.state = {\n      'date': {'year': 2000, 'month': 1},\n      'deadline': [], 'events': [],\n    }\n    this.child = React.createRef()\n    this.loadCalendar = this.loadCalendar.bind(this)\n    this.loadDate = this.loadDate.bind(this)\n    this.createMonthList = this.createMonthList.bind(this)\n    this.changeMonth = this.changeMonth.bind(this)\n  }\n\n  componentDidMount() {\n    this.createMonthList()\n    this.loadCalendar()\n    this.loadDate()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match !== this.props.match) {\n      this.loadDate()\n      if (prevProps.match.path === \"/classrooms/:class/calendar/:date\" && this.props.match.path === \"/classrooms/:class/calendar\") {\n        if (this.child.current) {\n          this.child.current.openToggle(false)\n        }\n      }  \n    }\n  }\n\n  loadCalendar() {\n    fetch(`/api/calendar?class=${this.props.match.params.class}`).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'deadline': result.calendar.deadline, 'events': result.calendar.events })\n        })\n      }\n    })\n  }\n\n  loadDate() {\n    if (this.props.match.path === \"/classrooms/:class/calendar/:date\") {\n      if (this.child.current) {\n        this.child.current.loadCalendar()\n        this.child.current.openToggle(true)\n      }  \n    }\n  }\n\n  createMonthList() {\n    let today = new Date().toLocaleDateString(), \n      todayYear = parseInt(today.split('/')[2]),\n      todayMonth = parseInt(today.split('/')[1]),\n      date = {'year': todayYear, 'month': todayMonth}\n    this.setState({ 'date': date })\n  }\n\n  changeMonth(num) {\n    let date = this.state.date\n    if (date.month + num < 1) { date = {'year': date.year - 1, 'month': date.month + 12 + num} }\n    else if (date.month + num > 12) { date = {'year': date.year + 1, 'month': date.month - 12 + num} }\n    else { date = {'year': date.year, 'month': date.month + num} }\n    this.setState({ 'date': date })\n  }\n    \n  render() {\n    return (\n      <div className={this.props.match.path === \"/classrooms/:class/calendar\" ? \"Calendar content part\" : \"Calendar content part hide\"}>\n        <div className=\"header\" style={{overflowY: 'hidden'}}>\n          <Link className=\"header-icon\" to={'/classrooms/'+this.props.match.params.class}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Calendar</span>\n        </div>\n\n        <div className=\"month\">\n          <img src={imgBack} className=\"left\" onClick={() => this.changeMonth(-1)}/>\n          <span className=\"middle\">{this.state.date.year}-{this.state.date.month}</span>\n          <img src={imgBack} className=\"right\" onClick={() => this.changeMonth(1)}/>\n        </div>\n        <ul className=\"weeks\">\n            <li className=\"week sunday\">Sun</li>\n            <li className=\"week\">Mon</li>\n            <li className=\"week\">Tue</li>\n            <li className=\"week\">Wed</li>\n            <li className=\"week\">Thu</li>\n            <li className=\"week\">Fri</li>\n            <li className=\"week\">Sat</li>\n        </ul>\n        <Days deadline={this.state.deadline} events={this.state.events} date={this.state.date} class={this.props.match.params.class}/>\n\n        <Day reload={this.loadCalendar} ref={this.child} date={this.props.match.params.date ? this.props.match.params.date : ''  } user_type={this.props.user_type} class={this.props.match.params.class}/>\n      </div>\n    )\n  }\n} \n\nexport default withRouter(Calendar)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nclass Chatroom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { 'messages': [], 'input': '', 'socket': '' }\n    this.loadMessage = this.loadMessage.bind(this)\n    this.inputOnChange = this.inputOnChange.bind(this)\n    this.inputKeyDown = this.inputKeyDown.bind(this)\n    this.sendMessage = this.sendMessage.bind(this)\n    this.leaveRoom = this.leaveRoom.bind(this)\n    this.scrollToBottom = this.scrollToBottom.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadMessage()\n    \n\t\tlet socket = io.connect(window.location.origin),\n      classroom = this.props.match.params.class\n    this.setState({'socket': socket})\n\n    socket.on('connect', () => {\n      // socket.send('User has connected!');\n      socket.emit('addRoom', {'room': `class${classroom}`});\n    })\n    \n    // socket.on('message', function(msg) {\n      // console.log(msg);\n    // })\n\n    let reloadMessage = this.loadMessage\n    socket.on('reloadMessage', (msg) => {\n      console.log(msg)\n      reloadMessage()\n    })\n  }\n\n  loadMessage() {\n    fetch(`/api/chatroom?class=${this.props.match.params.class}`).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'messages': result.chatroom.messages }, () => this.scrollToBottom())\n        })\n      }\n    })\n  }\n  \n  inputOnChange(e) {\n    this.setState({ \"input\": e.target.value })\n  }\n\n  inputKeyDown(e) {\n    if (e.key === 'Enter') this.sendMessage()\n  }\n\n  sendMessage() {\n    if (this.state.input != \"\") {\n      fetch(`/api/chatroom?class=${this.props.match.params.class}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ 'message': this.state.input })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            this.setState({'input': ''})\n          })\n        }\n      })\n    } else {\n      alert('Please fill in at least one word.')\n    }\n  }\n\n  leaveRoom() {\n    let socket = this.state.socket\n    socket.emit('leaveRoom', {'room': `class${this.props.match.params.class}`})\n  }\n\n  scrollToBottom() {\n    let chatList = document.querySelector('.Chatroom ul.chat-list') \n    chatList.scrollTop = chatList.scrollHeight\n  }\n\n  render() {\n    return (\n      <div className=\"Chatroom content part\">\n        <div className=\"header\">\n          <Link className=\"header-icon\" to={`/classrooms/${this.props.match.params.class}`} onClick={this.leaveRoom}>\n            <img className='header-icon' src={imgBack}/>\n          </Link>\n          <span>Chatroom</span>\n        </div>\n        <ul className=\"chat-list\">\n          {this.state.messages.map(message => \n            <li onClick={() => this.props.userInfoToggle(message.member)}>\n              <div className=\"name\">\n                {message.user_type === 'teacher' ? \"Teacher\" : \"Student\"} {message.nickname}\n                <span>{message.date ? new Date(message.date).toISOString().split('T')[0] : null} {message.date ? new Date(message.date).toISOString().split('T')[1].split('.')[0] : null}</span>\n              </div>\n              <div className=\"message\">{message.message}</div>\n            </li>\n          )}\n        </ul>\n        <div className=\"input-field\">\n          <input type=\"text\" placeholder=\"Input What You Want!\" value={this.state.input} onKeyDown={this.inputKeyDown} onChange={this.inputOnChange}/><button onClick={this.sendMessage}>Send</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Chatroom)\n\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport Classroom from './Classroom.jsx'\nimport ClassroomMembers from './ClassroomMembers.jsx'\nimport Tasks from './Tasks/Tasks.jsx'\nimport Task from './Tasks/Task.jsx'\nimport CreateTask from './Tasks/CreateTask.jsx'\nimport EditTask from './Tasks/EditTask.jsx'\nimport AnswerTask from './Tasks/AnswerTask.jsx'\nimport EditAnswer from './Tasks/EditAnswer.jsx'\nimport TaskResults from './Tasks/TaskResults.jsx'\nimport TaskResult from './Tasks/TaskResult.jsx'\nimport Calendar from './Calendar/Calendar.jsx'\nimport Chatroom from './Chatroom.jsx'\n\nclass Classrooms extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'createToggle': false,\n      'classrooms': [],\n      'part': ''\n    }\n    this.loadClassrooms = this.loadClassrooms.bind(this)\n    this.createToggle = this.createToggle.bind(this)\n    this.createClassroom = this.createClassroom.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadClassrooms()\n    document.querySelector('title').innerHTML = 'Classrooms - FYP'\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match !== this.props.match) {\n      console.log(this.props)\n      if (this.props.match.path === \"/classrooms/:class/members\") {this.setState({'part': 'classMembers'})}\n      else if (this.props.match.path === \"/classrooms/:class/create_task\") {this.setState({'part': 'createTask'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks\") {this.setState({'part': 'tasks'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task\") {this.setState({'part': 'task'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/edit\" && this.props.user_type === 'teacher') {this.setState({'part': 'editTask'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/results\" && this.props.user_type === 'teacher') {this.setState({'part': 'results'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/results/:student\") {this.setState({'part': 'result'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/answer\" && this.props.user_type === 'student') {this.setState({'part': 'answerTask'})}\n      else if (this.props.match.path === \"/classrooms/:class/tasks/:task/edit_answer/:student\" && this.props.user_type === 'student') {this.setState({'part': 'editAnswer'})}\n      else if (this.props.match.path === \"/classrooms/:class/calendar\") {this.setState({'part': 'calendar'})}     \n      else if (this.props.match.path === \"/classrooms/:class/calendar/:date\") {this.setState({'part': 'date'})}     \n      else if (this.props.match.path === \"/classrooms/:class/chat\") {this.setState({'part': 'chat'})}     \n      else if (this.props.match.path === \"/classrooms/:class\") {this.setState({'part': 'class'})}     \n      else {this.setState({'part': ''})}\n    }\n  }\n\n  loadClassrooms() {\n    fetch('/api/classrooms').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({ 'classrooms': result.classrooms })\n        })\n      }\n    })\n  }\n\n  createToggle() {\n    this.setState({ 'createToggle': !this.state.createToggle })\n  }\n\n  createClassroom(e) {\n    e.preventDefault()\n    let form = document.forms.form_createClassroom\n\n    if (form.classroom_name.value !== '') {\n      fetch('/api/classroom', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          'createClassroom': {\n            'name': form.classroom_name.value,\n            'description': form.classroom_description.value\n          }\n        })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            form.classroom_name.value = ''\n            form.classroom_description.value = ''\n            this.loadClassrooms()\n            this.createToggle()\n          })\n        }\n      })\n    } else {\n      alert('Please at least fill in the name of the classroom.')\n    }\n  }\n\n\n  render() {\n    return (\n      <div className=\"ClassroomsMain content\">\n        <div className=\"Classrooms\">\n          {this.props.user_type === 'teacher' ? \n            <div>\n              <div className=\"block btn\" style={{background: 'lightgreen'}} onClick={this.createToggle}>Create Classrooms</div>\n              {this.state.createToggle ? \n                <form className=\"block form\" style={{background: 'lightgreen'}} name='form_createClassroom'>\n                  <input type=\"text\" name=\"classroom_name\" placeholder=\"Name of the Classroom\" required/>\n                  <textarea name=\"classroom_description\" placeholder=\"Desceibe the Classroom here...\" required/>\n                  <input type=\"submit\" onClick={this.createClassroom}/>\n                </form>\n              : null }\n            </div>\n          : null}\n\n          <div className=\"block\">My Classrooms</div>\n          <ul>\n            {this.state.classrooms.map(c => \n              <Link to={'/classrooms/'+c.classroom_id}>\n                <li className=\"block btn classroom\">\n                  <div className=\"name\">{c.name}</div>\n                  <div className=\"description\">{c.description}</div>\n                  <div className=\"date\">&nbsp;<span>{new Date(c.create_date).toISOString().split('T')[0]} {new Date(c.create_date).toISOString().split('T')[1].split('.')[0]}</span></div>\n                </li>\n              </Link>\n            )}\n          </ul>\n        </div>\n\n        {this.state.part !== '' ? <div className=\"coverboard\"></div> : null}\n        {this.state.part === 'class' ? <Classroom user_id={this.props.user_id} user_type={this.props.user_type} reload={this.loadClassrooms} userInfoToggle={this.props.userInfoToggle}/> : null}\n        {this.state.part === 'classMembers' ? <ClassroomMembers user_type={this.props.user_type} userInfoToggle={this.props.userInfoToggle}/> : null}\n        {this.state.part === 'createTask' ? <CreateTask/> : null}\n        {this.state.part === 'tasks' ? <Tasks user_id={this.props.user_id}/> : null}\n        {this.state.part === 'task' ? <Task user_id={this.props.user_id}  user_type={this.props.user_type} userInfoToggle={this.props.userInfoToggle}/> : null}\n        {this.state.part === 'editTask' && this.props.user_type === 'teacher' ? <EditTask/> : null}\n        {this.state.part === 'answerTask' && this.props.user_type === 'student' ? <AnswerTask/> : null}\n        {this.state.part === 'editAnswer' && this.props.user_type === 'student' ? <EditAnswer/> : null}\n        {this.state.part === 'results' && this.props.user_type === 'teacher' ? <TaskResults/> : null}\n        {this.state.part === 'result' ? <TaskResult userInfoToggle={this.props.userInfoToggle}/> : null}\n        {this.state.part === 'calendar' || this.state.part === 'date' ? <Calendar user_type={this.props.user_type}/> : null}\n        {this.state.part === 'chat' ? <Chatroom user_id={this.props.user_id} userInfoToggle={this.props.userInfoToggle}/> : null}\n\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Classrooms)\n","import React from 'react'\n\nexport default class Notification extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { 'notice': [] }\n    this.loadNotice = this.loadNotice.bind(this)\n    this.collectionToggle = this.collectionToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadNotice()\n    document.querySelector('title').innerHTML = 'Notification - FYP'\n  }\n\n  loadNotice() {\n    fetch('/api/notification').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'notice': result.notification })\n        })\n      }\n    })\n  }\n\n  collectionToggle(id, m) {\n    fetch('/api/course_collection?c='+id, {method: m}).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.loadNotice()\n        })\n      }\n    })\n  }\n\n  render() {\n    return (\n      <ul className=\"Notification content\">\n          {this.state.notice.length === 0 ? <li style={{textAlign: 'center', marginTop: '3vh', fontSize: '2.5vh'}}>No Notification</li> : null}\n          {this.state.notice.map(n => \n            <li className=\"block\">\n              <div>{n.nickname} created a new Course:</div>\n              <div className=\"title\">{n.title}</div>\n              <div className=\"date\">{new Date(n.create_date).toISOString().split('T')[0]} {new Date(n.create_date).toISOString().split('T')[1].split('.')[0]}</div>\n              { n.collection ? \n                 <div className=\"remove\" onClick={() => this.collectionToggle(n.course_id, 'DELETE')}>Remove from Collection</div>\n              :  <div className=\"add\" onClick={() => this.collectionToggle(n.course_id, 'POST')}>Add to Collection</div> }\n            </li>\n          )}\n      </ul>\n    )\n  }\n}\n\n\n","import React from 'react'\n\nexport default class Setting extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'icon': `${window.location.origin}/static/images/icons/icon-128x128.png`,\n      'info': false,\n      'iconChange': false, 'nicknameChange': false, 'passwordChange': false,\n    }\n    this.loadInfo = this.loadInfo.bind(this)\n    this.loadIcon = this.loadIcon.bind(this)\n    this.changeIcon = this.changeIcon.bind(this)\n    this.deleteIcon = this.deleteIcon.bind(this)\n    this.changeNickname = this.changeNickname.bind(this)\n    this.changePassword = this.changePassword.bind(this)\n    this.imgOnError = this.imgOnError.bind(this)\n    this.iconToggle = this.iconToggle.bind(this)\n    this.nicknameToggle = this.nicknameToggle.bind(this)\n    this.passwordToggle = this.passwordToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadInfo()\n    this.loadIcon()\n    document.querySelector('title').innerHTML = 'Self - FYP'\n  }\n  \n  loadInfo() {\n    fetch(`/api/user_info`).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          this.setState({ 'info': result.user_info })\n        })\n      }\n    })\n  }\n\n  loadIcon(id) {\n    this.setState({ 'icon': `${window.location.origin}/static/images/user_icons/${this.props.user_data.user_id}.png?${new Date().getTime()}` })\n  }\n\n  changeIcon(e) {\n    e.preventDefault()\n    let form = document.forms.form_changeIcon\n    let file = form.icon.files[0]\n    let filetype = null\n    if (file!= undefined) { filetype = file.name.split('.').pop() }\n    console.log(file)\n    if (filetype === 'png') {\n      const send_form = new FormData()\n      send_form.append('icon', file)\n      fetch(`/api/user_info`, {\n        method: 'POST',\n        body: send_form\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            form.icon.value = ''\n            this.iconToggle()\n            this.loadIcon()\n          })\n        }\n      })\n    } else {\n      if (filetype === null) {\n        alert('Please Choose the file before submit')\n      } else {\n        alert('Sorry, we only support .png file for Icon')\n      }\n    }\n  }\n\n  deleteIcon() {\n    fetch(`/api/user_info`, { method: 'DELETE' }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          document.forms.form_changeIcon.icon.value = ''\n          this.iconToggle()\n          this.loadIcon()\n        })\n      }\n    })\n  }\n\n  changeNickname(e) {\n    e.preventDefault()\n    let form = document.forms.form_changeNickname\n    fetch(`/api/user_data`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ \"changeNickname\": {\n        \"nickname\": form.nickname.value\n      } })\n    }).then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          console.log(result)\n          form.nickname.value = ''\n          this.nicknameToggle()\n          this.props.reload()\n          alert('Success! Nickname Changed')\n        })\n      }\n    })\n  }\n\n  changePassword(e) {\n    e.preventDefault()\n    let form = document.forms.form_changePassword\n    if (form.password_new.value === form.password_repeat.value) {\n      fetch(`/api/user_data`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \"changePassword\": {\n          \"password_now\": form.password_now.value,\n          \"password_new\": form.password_new.value\n        } })\n      }).then(res => {\n        if (res.ok) {\n          res.json().then(result => {\n            console.log(result)\n            if (result.changePassword !== 'Error') {\n              this.passwordToggle()\n              form.password_now.value = ''\n              form.password_new.value = ''\n              form.password_repeat.value = ''\n              alert('Success! Password Changed')\n            } else {\n              alert('Error! Please Check Your Password Is Correct Or Not')\n            }\n          })\n        }\n      })\n    } else {\n      alert('Error! Please Check Your Two New Password Are Same Or Not')\n    }\n  }\n\n  imgOnError() {\n    this.setState({ 'icon': `${window.location.origin}/static/images/icons/icon-128x128.png` })\n  }\n\n  iconToggle() {\n    this.setState({ 'iconChange': !this.state.iconChange })\n  }\n\n  nicknameToggle() {\n    this.setState({ 'nicknameChange': !this.state.nicknameChange })\n  }\n\n  passwordToggle() {\n    this.setState({ 'passwordChange': !this.state.passwordChange })\n  }\n\n  render() {\n    let user = this.props.user_data\n    return (\n      <div className=\"Setting content\">\n        <div className=\"block img\">\n          <img src={this.state.icon} alt=\"user icon\" onError={this.imgOnError}/>\n        </div>\n\n        <div className=\"block basic\">\n          <div>\n            {user.nickname}&nbsp;\n            {user.sex === 'f' ?\n              <span style={{color: 'deeppink'}}>Female</span>\n            : <span style={{color: 'lightblue'}}>Male</span>}\n          </div>\n          <div>ID: {String(user.user_id).padStart(8,'0')}</div>\n          <div>Name: {user.name}</div>\n          <div>{user.user_type === 'teacher' ? 'Teacher' : 'Student'} from {user.school}</div>\n        </div>\n\n        <div className=\"flex\">\n          <div className=\"block\">\n            <div>Best Answer</div>\n            <div>{ this.state.info ? this.state.info.best_answer ? this.state.info.best_answer : 0 : null }</div>\n          </div>\n          <div className=\"block\">\n            <div>Answer Likes</div>\n            <div>{ this.state.info ? this.state.info.answer_likes ? this.state.info.answer_likes : 0 : null }</div>\n          </div>\n          { user.user_type === 'teacher' && \n            <div className=\"block\">\n              <div>Courses Avg. Rate</div>\n              <div>{ this.state.info ? this.state.info.course_avg ? this.state.info.course_avg : 0 : null }</div>\n            </div>\n          }\n          { user.user_type === 'teacher' &&\n            <div className=\"block\">\n              <div>Followers</div>\n              <div>{ this.state.info ? this.state.info.follower ? this.state.info.follower : 0 : null }</div>\n            </div>\n          }\n        </div>\n\n        <ul>\n          <li className=\"block btn\" onClick={this.iconToggle}>Change Icon</li>\n          { this.state.iconChange &&\n            <li className=\"block input\">\n              <form name=\"form_changeIcon\" onSubmit={this.changeIcon}>\n                <input name=\"icon\" type=\"file\" />\n                <input type=\"submit\" />\n              </form>\n              <div className=\"delete\" onClick={this.deleteIcon}>Just delete my icon!</div>\n            </li>\n          }\n          <li className=\"block btn\" onClick={this.nicknameToggle}>Change Nickname</li>\n          { this.state.nicknameChange &&\n            <li className=\"block input\">\n              <form name=\"form_changeNickname\" onSubmit={this.changeNickname}>\n                <input placeholder='New Nickname' name=\"nickname\" type=\"text\" />\n                <input type=\"submit\" />\n              </form>\n            </li>\n          }\n          <li className=\"block btn\" onClick={this.passwordToggle}>Change Password</li>\n          { this.state.passwordChange &&\n            <li className=\"block input\">\n              <form name=\"form_changePassword\" onSubmit={this.changePassword}>\n                <input placeholder='Password Now' name=\"password_now\" type=\"password\" />\n                <input placeholder='New Password' name=\"password_new\" type=\"password\" />\n                <input placeholder='Confirm New Password' name=\"password_repeat\" type=\"password\" />\n                <input type=\"submit\" />\n              </form>\n            </li>\n          }\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom'\n\nimport Nav from './Nav.jsx'\nimport UserInfo from './UserInfo.jsx'\n\nimport Courses from './Courses/Courses.jsx'\nimport CreateCourse from './Courses/CreateCourse.jsx'\nimport MyCourses from './Courses/MyCourses.jsx'\nimport CourseCollection from './Courses/CourseCollection.jsx'\n\nimport Questions from './Questions/Questions.jsx'\nimport CreateQuestions from './Questions/CreateQuestion.jsx'\nimport MyQuestions from './Questions/MyQuestions.jsx'\nimport QuestionCollection from './Questions/QuestionCollection.jsx'\n\nimport Classrooms from './Classrooms/Classrooms.jsx'\n\nimport Notification from './Notification/Notification.jsx'\nimport Setting from './Setting/Setting.jsx'\n\nconst imgBack = 'https://img.icons8.com/flat_round/64/000000/back--v1.png'\n\nexport default class Student extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      'nav': false, 'userInfo': false,\n      'user_data': {},\n    }\n    this.child = React.createRef()\n    this.navToggle = this.navToggle.bind(this)\n    this.loadUser = this.loadUser.bind(this)\n    this.userInfoToggle = this.userInfoToggle.bind(this)\n  }\n\n  componentDidMount() {\n    this.loadUser()\n  }\n\n  navToggle() {\n    this.setState({'nav': !this.state.nav}, () => console.log(this.state))\n  }\n  \n  loadUser() {\n    fetch('/api/user_data').then(res => {\n      if (res.ok) {\n        res.json().then(result => {\n          this.setState({'user_data': result.user_data}, () => console.log(this.state.user_data))\n        })\n      }\n    })\n  }\n\n  userInfoToggle(target) {\n    if (this.state.userInfo) {\n      this.setState({ 'userInfo': false })\n    } else {\n      this.setState({ 'userInfo': true }, () => {\n        this.child.current.loadUserInfo(target)\n      })\n    }\n  }\n\n  render() {\n    let imgLink = window.location.origin + \"/static/images/\"\n    let Header = (props) => (<div className=\"header\">\n                               <img className=\"header-icon\" src={imgLink + \"icons/icon-192x192.png\"}/>\n                               <span>{props.title}</span>\n                               <img className=\"header-toggle\" src={imgLink + \"toggle.png\"} onClick={this.navToggle}/>\n                             </div>)\n    return (\n      <div id=\"Student\">\n        <Router>\n          <div id=\"main\">\n            <Nav nav={this.state.nav} navToggle={this.navToggle}/>\n            {this.state.userInfo ? <UserInfo ref={this.child} user_id={this.state.user_data.user_id} openToggle={this.userInfoToggle}/> : null}\n            <Switch>\n              <Route path=\"/courses/collection\">\n                <div className=\"header\">\n                  <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                  <span>My Collection</span>\n                </div>\n                <CourseCollection userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/courses/my\">\n                  <div className=\"header\">\n                    <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                    <span>My Courses</span>\n                  </div>\n                  <MyCourses userInfoToggle={this.userInfoToggle}/>\n                </Route>\n              : null}\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/courses/create\">\n                  <div className=\"header\">\n                    <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                    <span>Create Courses</span>\n                  </div>\n                  <CreateCourse/>\n                </Route>\n              : null}\n              <Route path=\"/courses\">\n                <Header title='Courses'/>\n                <Courses user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n\n              <Route path=\"/questions/my\">\n                <div className=\"header\">\n                  <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                  <span>My Questions</span>\n                </div>\n                <MyQuestions userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              <Route path=\"/questions/collection\">\n                <div className=\"header\">\n                  <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                  <span>My Collection</span>\n                </div>\n                <QuestionCollection userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              <Route path=\"/questions/create\">\n                <div className=\"header\">\n                  <img className=\"header-icon\" src={imgBack} onClick={() => window.history.back()}/>\n                  <span>Create Questions</span>\n                </div>\n                <CreateQuestions/>\n              </Route>\n              <Route path=\"/questions\">\n                <Header title='Questions'/>\n                <Questions user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n\n              <Route path=\"/classrooms/:class/chat\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              <Route path=\"/classrooms/:class/calendar/:date\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              <Route path=\"/classrooms/:class/calendar\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/classrooms/:class/create_task\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n                </Route>\n              : null}\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/classrooms/:class/tasks/:task/edit\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n                </Route>\n              : null}\n              <Route path=\"/classrooms/:class/tasks/:task/results/:student\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              {this.state.user_data.user_type === 'teacher' ?\n                <Route path=\"/classrooms/:class/tasks/:task/results\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n                </Route>\n              : null}\n              {this.state.user_data.user_type === 'student' ?\n                <Route path=\"/classrooms/:class/tasks/:task/edit_answer/:student\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n                </Route>\n              : null}\n              {this.state.user_data.user_type === 'student' ?\n                <Route path=\"/classrooms/:class/tasks/:task/answer\">\n                  <Header title='Classrooms'/>\n                  <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n                </Route>\n              : null}\n              <Route path=\"/classrooms/:class/tasks/:task\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              <Route path=\"/classrooms/:class/tasks\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              <Route path=\"/classrooms/:class/members\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              <Route path=\"/classrooms/:class\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n              <Route path=\"/classrooms\">\n                <Header title='Classrooms'/>\n                <Classrooms user_type={this.state.user_data.user_type} user_id={this.state.user_data.user_id} userInfoToggle={this.userInfoToggle}/>\n              </Route>\n\n              <Route path=\"/notification\">\n                <Header title='Notification'/>\n                <Notification/>\n              </Route>\n\n              <Route path=\"/setting\">\n                <Header title='Setting'/>\n                <Setting user_data={this.state.user_data} reload={this.loadUser}/>\n              </Route>\n              <Redirect from=\"/\" to=\"/courses\"/>\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Student from './Student.jsx'\n\nReactDOM.render(<Student />, document.querySelector(\"#node\"))\n"],"sourceRoot":""}